(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63dd6bf6"],{"57de":function(e,t,r){},"5d58":function(e,t,r){e.exports=r("d8d6")},"67bb":function(e,t,r){e.exports=r("f921")},7618:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var i=r("5d58"),n=r.n(i),a=r("67bb"),o=r.n(a);function s(e){return s="function"===typeof o.a&&"symbol"===typeof n.a?function(e){return typeof e}:function(e){return e&&"function"===typeof o.a&&e.constructor===o.a&&e!==o.a.prototype?"symbol":typeof e},s(e)}function c(e){return c="function"===typeof o.a&&"symbol"===s(n.a)?function(e){return s(e)}:function(e){return e&&"function"===typeof o.a&&e.constructor===o.a&&e!==o.a.prototype?"symbol":s(e)},c(e)}},"770a":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"main"},[r("div",{staticClass:"main_wrap"},["852WESU814"==e.AccountData.dtxAccountId?r("h2",[e._v("\n        "+e._s(e.$t("list_products_available"))+"\n      ")]):r("h2",[e._v("\n        "+e._s(e.$t("Receive_DI"))+"\n      ")])]),"852WESU814"==e.AccountData.dtxAccountId?r("el-table",{attrs:{data:e.tableData,border:"",stripe:"","row-style":{height:"80px"}}},[r("el-table-column",{attrs:{label:e.$t("DI"),prop:"productData.name","min-width":"160px"}}),r("el-table-column",{attrs:{label:"Operation","min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"btnBox"},[r("el-button",{staticStyle:{"background-color":"#828282","border-color":"#828282"},attrs:{type:"warning",size:"mini",icon:"el-icon-s-promotion"},on:{click:function(r){return e.showSendDialog(t.row)}}},[e._v("\n              "+e._s(e.$t("Send"))+"\n            ")])],1)]}}],null,!1,552603864)})],1):r("el-form",{ref:"form",staticStyle:{"margin-top":"40px"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"URL: ",prop:"url"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:e.$t("url_receive_DI_tips")},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:e.$t("Password")+": ",prop:"password"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:e.$t("Input_Password")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),0==e.recevingStep?r("el-form-item",[r("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:function(t){return e.onReceive("form")}}},[e._v(e._s(e.$t("Confirm")))])],1):e._e(),1==e.recevingStep?r("el-form-item",[r("p",{staticStyle:{color:"var(--dtxmainColor12)"}},[r("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$t("Receiving"))+"\n        ")])]):e._e(),2==e.recevingStep?r("el-form-item",[r("p",{staticStyle:{color:"#67C23A"}},[r("i",{staticClass:"el-icon-circle-check"}),e._v(" "+e._s(e.$t("Received_successfully"))+"\n        ")]),r("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("Reset")))])],1):e._e()],1),r("el-dialog",{attrs:{title:e.$t("send_to_company"),visible:e.sendDialogVisible,width:"620px",top:"200px","close-on-click-modal":!1},on:{"update:visible":function(t){e.sendDialogVisible=t},close:e.sendClosed}},[r("div",{staticClass:"selectCompany"},[r("p",{staticClass:"urlBox2"},[e._v(e._s(e.$t("Generating_URL_OK_tips")))]),r("div",{staticClass:"selectCompanyItem",staticStyle:{padding:"10px"}},[r("span",{staticClass:"label"},[e._v(e._s(e.$t("Selected_DI"))+":")]),r("el-input",{staticStyle:{width:"50%","margin-left":"10px"},attrs:{disabled:""},model:{value:e.selectedDIName,callback:function(t){e.selectedDIName=t},expression:"selectedDIName"}})],1),r("div",{staticClass:"selectCompanyItem"},[r("span",{staticClass:"label"},[e._v(e._s(e.$t("Password"))+":")]),r("el-input",{staticStyle:{width:"50%","margin-left":"20px"},attrs:{placeholder:e.$t("Enter_Password")},model:{value:e.accessCode,callback:function(t){e.accessCode=t},expression:"accessCode"}})],1),e.apiurl?r("p",{staticClass:"urlBox"},[e._v(e._s("URL: "+e.apiurl))]):e._e()]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.apiurl,expression:"!apiurl"}],staticClass:"canBtn",on:{click:function(t){e.sendDialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.apiurl,expression:"!apiurl"}],staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.generateApiUrl}},[e._v(e._s(e.$t("Confirm")))]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.apiurl,expression:"apiurl"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.apiurl,expression:"apiurl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"addBtn",attrs:{type:"primary"}},[e._v(e._s(e.$t("Copy_URL")))])],1)])],1)])},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("96cf"),r("3b8d")),o=r("bd86"),s=r("2f62"),c=r("f6d4"),l=r("31c6");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={components:{dragUpload:c["a"],TinymceEditor:l["a"]},data:function(){return{tableData:[],currentPage:1,pageSize:5,total:0,selectedDIName:"",selectedDIId:"",accessCode:"",sendDialogVisible:!1,apiurl:null,form:{url:"",password:""},rules:{url:[{required:!0,message:this.$t("url_receive_DI_tips"),trigger:"blur"}],password:[{required:!0,message:this.$t("Input_Password"),trigger:"blur"}]},recevingStep:0}},computed:p({},Object(s["c"])(["AccountData"])),watch:{},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GetProducts();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},methods:{GetProducts:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.GetProducts({companyId:this.AccountData.dtxAccountId,deviceType:"pc",language:JSON.parse(sessionStorage.getItem("DTX_V_X")).LanguageListData[0].name,type:"1"});case 3:t=e.sent,200==t.data.status?(r=[],t.data.data.map(function(e){e.productData=JSON.parse(e.productData),r.push(e)}),this.tableData=r):this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),this.$nextTick(function(){}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),generateApiUrl:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.generateApiUrl({dtxAccountId:this.AccountData.dtxAccountId,accessCode:this.accessCode,productId:this.selectedDIId});case 3:t=e.sent,200==t.data.status?this.apiurl=t.data.data:this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),this.$nextTick(function(){}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),showSendDialog:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.apiurl=null,this.selectedDIName=t.productData.name,this.selectedDIId=t.productId,this.sendDialogVisible=!0;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),sendClosed:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectedDIName="",this.selectedDIId="",this.accessCode="";case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.pageSize=t;case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.currentPage=t;case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleChange:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),onCopy:function(e){this.$message.success({message:this.$t("Copy_successful"),duration:1e3}),this.sendDialogVisible=!1},onError:function(e){this.$message.success({message:this.$t("Copy_failed"),duration:1e3})},onReceive:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs[t].validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(i){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=14;break}return r.recevingStep=1,e.prev=2,e.next=5,r.$http.receiveApiUrl({dtxAccountId:r.AccountData.dtxAccountId,accessCode:r.form.password,apiUrl:r.form.url});case 5:n=e.sent,200==n.data.status?r.recevingStep=2:(r.recevingStep=0,r.$refs[t].resetFields(),r.$alert(n.data.msg,"",{confirmButtonText:r.$t("Confirm"),callback:function(e){}})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),r.recevingStep=0;case 12:e.next=15;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields(),this.recevingStep=0}}},f=d,m=(r("c5ab"),r("2877")),h=Object(m["a"])(f,i,n,!1,null,"1a854061",null);t["default"]=h.exports},"9b19":function(e,t,r){},c5ab:function(e,t,r){"use strict";var i=r("57de"),n=r.n(i);n.a},e073a:function(e,t,r){"use strict";var i=r("9b19"),n=r.n(i);n.a},f6d4:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:e.action,"show-file-list":!1,"before-upload":e.beforeUpload,"auto-upload":!0,drag:"",multiple:""}},[e.imageUrl&&e.isShow?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("span",[r("i",{directives:[{name:"show",rawName:"v-show",value:!e.fileName,expression:"!fileName"}],staticClass:"el-icon-upload avatar-uploader-icon"}),r("span",[e._v(e._s(e.$t("Drag_and_Drop_file")))])]),e.imageUrl?e._e():r("p",{staticClass:"pdfFile",on:{click:e.viewfile}},[e._v(e._s(e.fileName))])]),r("el-dialog",{attrs:{title:e.$t("Picture_Clipping"),visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"cropper-content"},[r("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[r("VueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,fixed:e.option.fixed,fixedNumber:e.option.fixedNumber,centerBox:e.option.centerBox,infoTrue:e.option.infoTrue,fixedBox:e.option.fixedBox}})],1)]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.finish}},[e._v(e._s(e.$t("Confirm")))])],1)])],1)},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("28a5"),r("7f7f"),r("7618")),o=(r("96cf"),r("3b8d")),s=r("bd86"),c=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={props:{url:{type:String,default:""},fileType:{type:String,default:""},excelOnlineName:{type:String,default:""},isAvatar:{type:String,default:""},isShow:{type:Boolean,default:!0},fixedNumberList:{type:Array,default:[7,5]}},data:function(){return{action:window.BASE_URL+"/v1/upload/dtxFile",file:"",fileName:"",fileData:"",imageUrl:"",dialogVisible:!1,option:{img:"",info:!0,outputSize:.8,outputType:"png",canScale:!1,autoCrop:!0,fixedBox:!1,fixed:!1,fixedNumber:[7,5],full:!0,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!0},fileinfo:"",picsList:[],loading:!1}},computed:u({},Object(c["c"])(["AccountData"]),{onlineImageUrl:function(){this.url&&(this.imageUrl=this.url),this.excelOnlineName&&(this.fileName="Price.xls",this.fileData=this.excelOnlineName)}}),watch:{onlineImageUrl:function(e){},isAvatar:function(e){"ok"==e&&(this.imageUrl="")}},created:function(){},methods:{getUploadFile1:function(e){},getUploadFile:function(e,t){var r=this,i=e.raw;this.fileinfo=e;var n=new FileReader;n.onload=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="object"===Object(a["a"])(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result],{type:"image/jpeg"})):t.target.result,r.option.img=i,r.dialogVisible=!0;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.readAsArrayBuffer(i),this.option.fixedNumber=this.fixedNumberList},changeUpload:function(e,t){var r=this,i=e.size/1024/1024<5;if(!i)return this.$message.error("上传文件大小不能超过 5MB!"),!1;this.fileinfo=e,this.$nextTick(function(){try{r.option.imgObject=e}catch(t){r.option.img=window.URL.createObjectURL(e)}r.dialogVisible=!0})},finish:function(){var e=this;this.$refs.cropper.getCropBlob(function(t){var r=new FormData;r.append("file",new window.File([t],"cropper"+e.fileinfo.raw.name,{type:e.fileinfo.raw.type})),e.imageUrl=URL.createObjectURL(r.get("file")),e.$emit("GetUpload",r.get("file")),e.dialogVisible=!1})},beforeUpload:function(e){if("image"==this.fileType)var t="png"==e.name.split(".").slice(-1)[0]||"jpg"==e.name.split(".").slice(-1)[0]||"jpeg"==e.name.split(".").slice(-1)[0]||"svg"==e.name.split(".").slice(-1)[0];else t="pdf"==e.name.split(".").slice(-1)[0]||"png"==e.name.split(".").slice(-1)[0]||"jpg"==e.name.split(".").slice(-1)[0]||"jpeg"==e.name.split(".").slice(-1)[0]||"gif"==e.name.split(".").slice(-1)[0]||"svg"==e.name.split(".").slice(-1)[0]||"xlsx"==e.name.split(".").slice(-1)[0]||"xls"==e.name.split(".").slice(-1)[0]||void 0;if(t){if("pdf"==e.name.split(".").slice(-1)||"xlsx"==e.name.split(".").slice(-1)||"xls"==e.name.split(".").slice(-1)){this.fileName=e.name,this.imageUrl="";var r=new FileReader;r.readAsDataURL(e);var i=this;return r.onload=function(){i.fileData=r.result},this.$emit("GetUpload",e),!1}this.fileName="",this.fileData="",this.imageUrl=URL.createObjectURL(e),this.$emit("GetUpload",e),this.$emit("show",!0);var n=e.size/1024/1024<5;return n||this.$alert("上传图片大小不能超过 5MB!","",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),n}this.$alert("Document does not comply!","",{confirmButtonText:this.$t("Confirm"),callback:function(e){}})},viewfile:function(){var e=window.open();e.document.write('<body style="margin:0px;"><object data="'+this.fileData+'" type="application/pdf" width="100%" height="100%"><iframe src="'+this.fileData+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},d=p,f=(r("e073a"),r("2877")),m=Object(f["a"])(d,i,n,!1,null,"e535f140",null);t["a"]=m.exports}}]);