(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52a63d1a"],{"0f11":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.V_loading,expression:"V_loading"}],staticClass:"container"},[e("div",{staticClass:"main"},[e("div",{staticClass:"main_wrap"},[e("h2",[t._v("Contact List")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.addNewContact}},[t._v("Create New Contact")])],1),e("div",{staticClass:"main-list"},[e("div",{staticClass:"main-list-headed"},[e("ul",[e("li",{class:{select:0===t.contact_list_status},on:{click:function(a){t.contact_list_status=0}}},[t._v("\n            All ("+t._s(t.contact_list.length)+")\n          ")])]),e("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(a){t.contact_list_status=1}}},[t._v("trash("+t._s(t.trash_contact_list.length)+")")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{height:"450",data:0===t.contact_list_status?t.contact_list:t.trash_contact_list}},[e("el-table-column",{attrs:{label:"Name",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"Title",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.title))])]}}])}),e("el-table-column",{attrs:{label:"Email address",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.email))])]}}])}),e("el-table-column",{attrs:{label:"Phone Number",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.phone))])]}}])}),e("el-table-column",{attrs:{label:"Tags"},scopedSlots:t._u([{key:"default",fn:function(a){return a.row.tags?t._l(JSON.parse(a.row.tags),function(a,n){return e("el-tag",{key:n,staticStyle:{"margin-right":"5px"}},[t._v(t._s(a))])}):void 0}}],null,!0)}),e("el-table-column",{attrs:{label:"Action",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===t.contact_list_status?e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.editContactData(a.$index,a.row)}}},[t._v("Edit")]):t._e(),0===t.contact_list_status?e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.moveToTrash(1,a.row)}}},[t._v("Move to trash")]):t._e(),1===t.contact_list_status?e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.restoreDocument(a.row)}}},[t._v("Restore Document")]):t._e()]}}])})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.add_new_contact_diage,expression:"add_new_contact_diage"}],staticClass:"add-new-contact"},[e("div",{staticClass:"headed"},[e("h3",[t._v("Add New Contact")]),e("i",{staticClass:"el-icon-close",on:{click:function(a){t.add_new_contact_diage=!1}}})]),e("ul",[e("li",[t._m(0),e("el-input",{model:{value:t.new_contact_data.name,callback:function(a){t.$set(t.new_contact_data,"name",a)},expression:"new_contact_data.name"}})],1),e("li",[t._m(1),e("el-input",{model:{value:t.new_contact_data.title,callback:function(a){t.$set(t.new_contact_data,"title",a)},expression:"new_contact_data.title"}})],1),e("li",[t._m(2),e("el-input",{on:{blur:function(){t.verifyFormat("email",t.new_contact_data.email)||(t.new_contact_data.email="")}},model:{value:t.new_contact_data.email,callback:function(a){t.$set(t.new_contact_data,"email",a)},expression:"new_contact_data.email"}})],1),e("li",[t._m(3),e("div",{staticClass:"phone"},[e("el-select",{staticStyle:{width:"80px","margin-right":"10px"},attrs:{placeholder:"+86"},model:{value:t.new_contact_data.phoneCountryCode,callback:function(a){t.$set(t.new_contact_data,"phoneCountryCode",a)},expression:"new_contact_data.phoneCountryCode"}},t._l([{label:"+86",value:"86"},{label:"+62",value:"62"},{label:"+852",value:"852"}],function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),e("el-input",{staticStyle:{width:"270px"},on:{input:function(){t.verifyFormat("phone",t.new_contact_data.phone)||(t.new_contact_data.phone="")},blur:function(){t.VerificationPhoneNumber("+"+t.new_contact_data.phoneCountryCode,t.new_contact_data.phone)||(t.new_contact_data.phone="")}},model:{value:t.new_contact_data.phone,callback:function(a){t.$set(t.new_contact_data,"phone",a)},expression:"new_contact_data.phone"}}),e("i",{directives:[{name:"show",rawName:"v-show",value:t.new_contact_data.phone&&!t.VerificationPhoneNumber("+"+t.new_contact_data.phoneCountryCode,t.new_contact_data.phone),expression:"\n                new_contact_data.phone &&\n                !VerificationPhoneNumber(\n                  '+' + new_contact_data.phoneCountryCode,\n                  new_contact_data.phone\n                )\n              "}],staticClass:"hint"},[t._v("Please input correct phone")])],1)]),e("li",[e("div",{staticClass:"tag"},[t._m(4),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.show_add_contact,expression:"!show_add_contact"}],on:{click:function(a){t.show_add_contact=!0}}},[t._v("Create Tag")])],1),e("div",{staticClass:"tag-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_add_contact,expression:"show_add_contact"}],staticClass:"add-tag-input"},[e("i"),e("el-input",{class:{"add-tag-tip":t.add_tag_tip},model:{value:t.add_tag_name,callback:function(a){t.add_tag_name=a},expression:"add_tag_name"}}),e("el-button",{on:{click:t.addContactTags}},[t._v("Add")]),e("el-button",{on:{click:function(a){t.show_add_contact=!1,t.add_tag_tip=!1}}},[t._v("Canel")])],1),e("el-checkbox-group",{model:{value:t.new_contact_data.tag,callback:function(a){t.$set(t.new_contact_data,"tag",a)},expression:"new_contact_data.tag"}},t._l(t.add_tag_options,function(t,a){return e("el-checkbox",{key:a,attrs:{label:t.tagsName}})}),1)],1)])]),e("div",{staticClass:"btn"},[e("el-button",{on:{click:function(a){t.add_new_contact_diage=!1}}},[t._v("Cannel")]),e("el-button",{on:{click:t.saveContact}},[t._v("Save")])],1)])])])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Name"),e("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Title"),e("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Email"),e("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Phone Number"),e("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Tag"),e("i",{staticClass:"hint"},[t._v("*")])])}],o=(e("8e6e"),e("ac6a"),e("456d"),e("7f7f"),e("96cf"),e("3b8d")),i=e("bd86"),s=e("2f62");function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(e,!0).forEach(function(a){Object(i["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var d={components:{},data:function(){return{V_loading:!1,contact_list:[],trash_contact_list:[],contact_list_status:0,add_new_contact_diage:!1,new_contact_data:{id:"",name:"",title:"",email:"",phoneCountryCode:"",phone:"",tag:[]},show_add_contact:!1,add_tag_name:"",add_tag_options:[],add_tag_tip:!1}},computed:l({},Object(s["c"])(["AccountData"])),created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getAllContact(0),this.getAllContact(1),this.getAllContactTags();case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),methods:l({},Object(s["b"])(["reset"]),{getAllContact:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(a){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getAllContact({dtxAccountId:this.AccountData.dtxAccountId,status:a});case 4:e=t.sent,200==e.data.status?1===a?this.trash_contact_list=e.data.data:this.contact_list=e.data.data:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function a(a){return t.apply(this,arguments)}return a}(),getAllContactTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getAllContactTags({dtxAccountId:this.AccountData.dtxAccountId});case 4:a=t.sent,200==a.data.status?this.add_tag_options=a.data.data:this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function a(){return t.apply(this,arguments)}return a}(),editContact:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(a,e){var n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=1===a?{status:a,id:e}:{name:this.new_contact_data.name,title:this.new_contact_data.title,phone:this.new_contact_data.phone,email:this.new_contact_data.email,phoneCountryCode:this.new_contact_data.phoneCountryCode,dtxAccountId:this.AccountData.dtxAccountId,tags:JSON.stringify(this.new_contact_data.tag),status:0,id:this.new_contact_data.id},this.V_loading=!0,t.prev=2,t.next=5,this.$http.editContact(n);case 5:c=t.sent,200==c.data.status?(this.getAllContact(0),this.getAllContact(1),this.add_new_contact_diage=!1):this.$alert(c.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.V_loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));function a(a,e){return t.apply(this,arguments)}return a}(),addContactTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.add_tag_name){t.next=3;break}return this.add_tag_tip=!0,t.abrupt("return");case 3:a=0;case 4:if(!(a<this.add_tag_options.length)){t.next=11;break}if(this.add_tag_options[a].tagsName!=this.add_tag_name){t.next=8;break}return this.$alert("Duplicate Name","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),t.abrupt("return");case 8:a++,t.next=4;break;case 11:return this.V_loading=!0,t.prev=12,t.next=15,this.$http.addContactTags({dtxAccountId:this.AccountData.dtxAccountId,name:this.add_tag_name});case 15:e=t.sent,200==e.data.status?(this.show_add_contact=!1,this.add_tag_tip=!1,this.getAllContactTags()):this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](12),this.V_loading=!1;case 23:case"end":return t.stop()}},t,this,[[12,20]])}));function a(){return t.apply(this,arguments)}return a}(),addNewContact:function(){this.new_contact_data.name="",this.new_contact_data.title="",this.new_contact_data.email="",this.new_contact_data.phoneCountryCode="",this.new_contact_data.phone="",this.new_contact_data.tag=[],this.new_contact_data.id="",this.add_new_contact_diage=!0},saveContact:function(){""!==this.new_contact_data.name&&""!==this.new_contact_data.title&&""!==this.new_contact_data.email&&""!==this.new_contact_data.phoneCountryCode&&""!==this.new_contact_data.phone&&this.new_contact_data.tag!==[]?this.editContact(0):this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}})},editContactData:function(t,a){this.new_contact_data.name=a.name,this.new_contact_data.title=a.title,this.new_contact_data.email=a.email,this.new_contact_data.phoneCountryCode=a.phoneCountryCode,this.new_contact_data.phone=a.phone,this.new_contact_data.tag=JSON.parse(a.tags),this.new_contact_data.id=a.id,this.add_new_contact_diage=!0},moveToTrash:function(t,a){this.editContact(t,a.id)},restoreDocument:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.new_contact_data.name=a.name,this.new_contact_data.title=a.title,this.new_contact_data.email=a.email,this.new_contact_data.phoneCountryCode=a.phoneCountryCode,this.new_contact_data.phone=a.phone,this.new_contact_data.tag=JSON.parse(a.tags),this.new_contact_data.id=a.id,t.next=9,this.editContact(0);case 9:case"end":return t.stop()}},t,this)}));function a(a){return t.apply(this,arguments)}return a}(),verifyFormat:function(t,a){var e=/^[A-Za-z0-9.^\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,n=/^[0-9]+$/;return"email"==t?e.test(a):"phone"==t||"phoneCountryCode"==t?n.test(a):void 0}})},_=d,u=(e("3c58"),e("2877")),h=Object(u["a"])(_,n,c,!1,null,"28631ab7",null);a["default"]=h.exports},"3c58":function(t,a,e){"use strict";var n=e("d718"),c=e.n(n);c.a},d718:function(t,a,e){}}]);