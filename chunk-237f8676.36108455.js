(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-237f8676"],{"03ea":function(e,t,i){},"372a":function(e,t,i){"use strict";var s=i("03ea"),r=i.n(s);r.a},"581f":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"uploadPDF_container"},[i("div",{staticClass:"uploadPDF_main"},e._l(e.previewPdfList,function(t,s){return i("div",{key:s,staticClass:"pdfFile"},[i("div",{staticClass:"clearfix"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"pdfName",on:{click:function(i){return e.viewfile(t.companyFilePath?t.companyFilePath:t.url)}}},[e._v(e._s(t.companyFilePath?t.companyFilePath.split("/").pop():t.name))]),1!=t.fileStatus?i("b",{on:{click:function(t){return e.removePdf(s)}}},[e._v("×")]):e._e()]),0==t.fileStatus?i("div",{staticClass:"status"},[i("i",{staticClass:"el-icon-time",staticStyle:{color:"#E6A23C"}}),i("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.$t("Pending_To_Verify")))])]):e._e(),t.fileStatus&&1==t.fileStatus?i("div",{staticClass:"status"},[i("i",{staticClass:"el-icon-time",staticStyle:{color:"#67C23A"}}),i("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.$t("Verified")))])]):e._e(),t.fileStatus&&2==t.fileStatus?i("div",{staticClass:"status"},[i("i",{staticClass:"el-icon-time",staticStyle:{color:"#F56C6C"}}),i("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.$t("Verification_Failed")))])]):e._e(),t.fileStatus&&3==t.fileStatus?i("div",{staticClass:"status"},[i("i",{staticClass:"el-icon-time",staticStyle:{color:"#909399"}}),i("span",{staticStyle:{color:"#E6A23C"}},[e._v(e._s(e.$t("Pending_To_updated")))])]):e._e()])}),0),i("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:"",multiple:"",limit:5,"before-upload":e.beforeUpload,drag:""}},[i("i",{staticClass:"el-icon-upload avatar-uploader-icon"}),i("p",[e._v(e._s(e.$t("Drag_and_Drop_file")))])])],1)},r=[],n=(i("8e6e"),i("ac6a"),i("456d"),i("96cf"),i("3b8d")),a=(i("7f7f"),i("28a5"),i("bd86")),o=i("2f62");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(i,!0).forEach(function(t){Object(a["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var u={props:{url_list:{require:!0,type:Array},parent_fileList:{require:!0,type:Array}},data:function(){return{previewPdfList:[],fileList:[]}},computed:c({},Object(o["c"])(["AccountData"]),{urlList:function(){this.previewPdfList=[],this.url_list&&(this.previewPdfList=this.url_list)},parentFileList:function(){this.fileList=[],this.parent_fileList&&(this.fileList=this.parent_fileList)}}),watch:{urlList:function(e){},parentFileList:function(e){},fileList:function(e){this.$emit("GetUpload",{fileList:this.fileList,previewPdfList:this.previewPdfList})}},methods:{beforeUpload:function(e){var t="pdf"==e.name.split(".").slice(-1);if(!t)return this.$alert(this.$t("select_pdf"),"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),!1;if(this.previewPdfList.length>=6)return this.$message.warning("Upload up to 6 templates"),!1;if("pdf"==e.name.split(".").slice(-1)){var i={url:"",name:""},s=new FileReader;return s.readAsDataURL(e),s.onload=function(){i.url=s.result},i.name=e.name,this.previewPdfList.push(i),this.fileList.push(e),!1}var r=e.size/1024/1024<5;return r||this.$message.error("上传图片大小不能超过 5MB!"),r},removePdf:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.previewPdfList[t].companyFilePath){e.next=14;break}return e.prev=1,e.next=4,this.$http.delInsurersFileById({id:this.previewPdfList[t].id});case 4:i=e.sent,200==i.data.status&&this.previewPdfList.splice(t,1),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),this.V_loading=!1,this.$message.error(this.$t("request_error_title"));case 12:e.next=16;break;case 14:this.fileList.splice(t-(this.previewPdfList.length-this.fileList.length),1),this.previewPdfList.splice(t,1);case 16:case"end":return e.stop()}},e,this,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),viewfile:function(e){var t=window.open();t.document.write('<body style="margin:0px;"><object data="'+e+'" type="application/pdf" width="100%" height="100%"><iframe src="'+e+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},p=u,f=(i("5c0a"),i("2877")),m=Object(f["a"])(p,s,r,!1,null,"c1b5e93e",null);t["a"]=m.exports},"5c0a":function(e,t,i){"use strict";var s=i("a1a9"),r=i.n(s);r.a},"5c2d":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.V_loading,expression:"V_loading"}],staticClass:"background"},[i("form",{staticClass:"login_box"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"","label-width":"100px","label-position":"top"}},[i("el-form-item",[i("h3",[e._v("Business Verification")]),i("p",{staticClass:"tishi"},[e._v("Please upload document for verification")])]),i("div",{staticClass:"container"},[i("div",{staticClass:"name"},[i("el-form-item",{staticClass:"firstname",attrs:{label:"Insurance Licence Number",prop:"Insurance_Licence_Number"}},[i("el-input",{attrs:{type:"text",placeholder:"Insurance Licence Number",autocomplete:"off"},model:{value:e.ruleForm.Insurance_Licence_Number,callback:function(t){e.$set(e.ruleForm,"Insurance_Licence_Number",t)},expression:"ruleForm.Insurance_Licence_Number"}})],1),i("el-form-item",{attrs:{label:"Insurance Licence Number Document",prop:"insuranceDocument"}},[i("upload",{attrs:{url_list:e.ruleForm.insurance__req_url_list},on:{GetUpload:function(t){e.GetUploadFile(t,"insurance__file_list")},removePdf:function(t){e.removePdf(t,"insurance__file_list","insurance__req_url_list")}}})],1)],1),i("div",{staticClass:"name"},[i("el-form-item",{staticClass:"lastname",attrs:{label:"Business Registration Number",prop:"Business_Registration_Number"}},[i("el-input",{attrs:{type:"text",placeholder:"Business Registration Number",autocomplete:"off"},model:{value:e.ruleForm.Business_Registration_Number,callback:function(t){e.$set(e.ruleForm,"Business_Registration_Number",t)},expression:"ruleForm.Business_Registration_Number"}})],1),i("el-form-item",{attrs:{label:"Business Registration Number Document",prop:"businessDocument"}},[i("upload",{attrs:{url_list:e.ruleForm.business__req_url_list},on:{GetUpload:function(t){e.GetUploadFile(t,"business__file_list")},removePdf:function(t){e.removePdf(t,"business__file_list","business__req_url_list")}}})],1)],1)]),i("el-form-item",[i("el-button",{staticClass:"skip_btn",attrs:{type:"primary"},on:{click:e.NextFun}},[e._v("NEXT")]),i("el-button",{staticClass:"next_btn",on:{click:e.NextFun}},[e._v("Skip")])],1)],1)],1)])},r=[],n=(i("8e6e"),i("ac6a"),i("456d"),i("28a5"),i("96cf"),i("3b8d")),a=i("bd86"),o=i("2f62"),l=i("581f");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(i,!0).forEach(function(t){Object(a["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var p={components:{upload:l["a"]},data:function(){return{ruleForm:{location:"",phone_number:"",phone_area:"",company_name:"",country:"",domain_url:"",contact_email:"",Insurance_Licence_Number:"",Business_Registration_Number:"",insuranceDocument_file:"",insurance__file_list:[],insurance__req_url_list:[],businessDocument_file:"",business__file_list:[],business__req_url_list:[]},V_loading:!1}},computed:u({},Object(o["c"])(["AccountData"])),created:function(){},mounted:function(){},methods:u({},Object(o["b"])(["reset","setBusinessVerification"]),{GetUploadFile:function(e,t){this.ruleForm[t]=e.fileList},removePdf:function(e,t,i){this.ruleForm[t]=e.fileList,this.ruleForm[i].splice(e.index,1)},NextFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s,r,n,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.V_loading=!0,0==this.ruleForm.insurance__file_list.length){e.next=18;break}return this.ruleForm.insuranceDocument_file=new FormData,this.ruleForm.insurance__file_list.map(function(e){e&&o.ruleForm.insuranceDocument_file.append("file",e)}),this.ruleForm.insuranceDocument_file.append("language","eng"),this.ruleForm.insuranceDocument_file.append("company",this.AccountData.dtxAccountId),this.ruleForm.insuranceDocument_file.append("permissionsType","publicUpload"),this.req_FormData.append("model","company"),e.prev=8,e.next=11,this.$http.DtxFile(this.ruleForm.insuranceDocument_file);case 11:t=e.sent,200==t.data.status&&t.data.data.map(function(e){var t={name:e.split("/").pop(),url:e};o.ruleForm.insurance__req_url_list.push(t)}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](8),this.V_loading=!1;case 18:if(0==this.ruleForm.business__file_list.length){e.next=35;break}return this.ruleForm.businessDocument_file=new FormData,this.ruleForm.business__file_list.map(function(e){o.ruleForm.businessDocument_file.append("file",e)}),this.ruleForm.businessDocument_file.append("language","eng"),this.ruleForm.businessDocument_file.append("company",this.AccountData.dtxAccountId),this.ruleForm.insuranceDocument_file.append("permissionsType","publicUpload"),this.req_FormData.append("model","company"),e.prev=25,e.next=28,this.$http.DtxFile(this.ruleForm.businessDocument_file);case 28:i=e.sent,200==i.data.status&&i.data.data.map(function(e){var t={name:e.split("/").pop(),url:e};o.ruleForm.business__req_url_list.push(t)}),e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](25),this.V_loading=!1;case 35:return e.prev=35,s="",r="",this.ruleForm.insurance__req_url_list&&this.ruleForm.insurance__req_url_list.map(function(e){s+="".concat(e.url,",")}),this.ruleForm.business__req_url_list&&this.ruleForm.business__req_url_list.map(function(e){r+="".concat(e.url,",")}),n={dtxAccountId:this.AccountData.dtxAccountId,contactEmail:"",location:"",licenceNo:this.ruleForm.Insurance_Licence_Number,licenceDocPath:s,businessRegistration_no:this.ruleForm.Business_Registration_Number,businessRegistration_doc_path:r,phoneNumber:"",companyName:"",country:""},e.next=43,this.$http.AddtxInsurersInfo(n);case 43:a=e.sent,200==a.data.status?(this.setBusinessVerification(this.ruleForm),this.$router.push("/home")):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),this.V_loading=!1,e.next=51;break;case 48:e.prev=48,e.t2=e["catch"](35),this.V_loading=!1;case 51:case"end":return e.stop()}},e,this,[[8,15],[25,32],[35,48]])}));function t(){return e.apply(this,arguments)}return t}(),SkipFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/home");case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()})},f=p,m=(i("372a"),i("2877")),_=Object(m["a"])(f,s,r,!1,null,"319bb83f",null);t["default"]=_.exports},a1a9:function(e,t,i){}}]);