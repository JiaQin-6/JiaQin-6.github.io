(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aacbd6f"],{"4ea2":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"uploadPDF_container"},[i("div",{staticClass:"uploadPDF_main"},e._l(e.previewPdfList,function(t,n){return i("div",{key:n,staticClass:"pdfFile"},[i("div",{staticClass:"flex-row align-center"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"pdfName",on:{click:function(i){return e.viewfile(t)}}},[e._v(e._s(t.split("/").pop()))]),i("i",{staticClass:"el-icon-close",on:{click:function(t){return e.removePdf(n)}}})])])}),0),i("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:"",multiple:"",limit:5,"before-upload":e.beforeUpload,drag:""}},[i("i",{staticClass:"el-icon-upload avatar-uploader-icon"}),i("p",[e._v(e._s(e.$t("Drag_and_Drop_file")))])])],1)},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("28a5"),i("96cf"),i("3b8d")),l=i("bd86"),r=i("2f62");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(i,!0).forEach(function(t){Object(l["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var u={props:{url_list:{require:!0,type:Array}},data:function(){return{previewPdfList:[]}},computed:c({},Object(r["c"])(["AccountData"])),watch:{},methods:{beforeUpload:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var i,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i="pdf"==t.name.split(".").slice(-1),i){e.next=6;break}return this.$alert(this.$t("select_pdf"),"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.abrupt("return",!1);case 6:if(!(this.previewPdfList.length>=6)){e.next=11;break}return this.$message.warning("Upload up to 6 templates"),e.abrupt("return",!1);case 11:if(!i){e.next=30;break}return this.V_loading=!0,n=new FormData,n.append("file",t),n.append("path",this.AccountData.dtxAccountId+"/"+this.AccountData.subId+"/documentPdf/eng"),n.append("permissionsType","publicUpload"),e.prev=17,e.next=20,this.$http.DtxFile(n);case 20:a=e.sent,200==a.data.status?(this.previewPdfList.push(a.data.data[0]),this.$emit("getUrl",this.previewPdfList)):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),this.V_loading=!1,e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](17),this.V_loading=!1,this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 29:return e.abrupt("return",!1);case 30:case"end":return e.stop()}},e,this,[[17,25]])}));function t(t){return e.apply(this,arguments)}return t}(),removePdf:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.previewPdfList.splice(t,1),this.$emit("getUrl",this.previewPdfList);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),viewfile:function(e){var t=window.open();t.document.write('<body style="margin:0px;"><object data="'+e+'" type="application/pdf" width="100%" height="100%"><iframe src="'+e+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},d=u,p=(i("c14c"),i("2877")),_=Object(p["a"])(d,n,a,!1,null,"d1b541ae",null);t["a"]=_.exports},"4f75":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.V_loading,expression:"V_loading"}],staticClass:"underwriting-container"},[i("div",{staticClass:"main"},[i("div",{staticClass:"main_wrap"},[i("h2",[e._v("Underwriting Engine")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.createNewUnderwriting}},[e._v("Create Underwriting")])],1),i("div",{staticClass:"main-list"},[i("div",{staticClass:"main-list-headed"},[i("ul",[i("li",{class:{select:""==e.underwriting_sort},on:{click:function(t){e.underwriting_sort=""}}},[e._v("\n            All ("+e._s(e.underwriting_list.length)+")\n          ")]),i("li",{class:{select:1==e.underwriting_sort},on:{click:function(t){e.underwriting_sort=1}}},[e._v("\n            Online ("+e._s(e.getProductStatusNum(1))+")\n          ")]),i("li",{class:{select:2==e.underwriting_sort},on:{click:function(t){e.underwriting_sort=2}}},[e._v("\n            Offline ("+e._s(e.getProductStatusNum(2))+")\n          ")]),i("li",{class:{select:3==e.underwriting_sort},on:{click:function(t){e.underwriting_sort=3}}},[e._v("\n            Draft ("+e._s(e.getProductStatusNum(3))+")\n          ")])]),i("div",{staticClass:"trash"},[i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(t){e.underwriting_sort=5}}},[e._v("trash("+e._s(e.trash_underwriting_list.length)+")")])],1)]),i("el-table",{staticStyle:{width:"100%"},attrs:{height:"450",data:e.getQuestionList}},[i("el-table-column",{attrs:{label:"Name",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.templateName))])]}}])}),i("el-table-column",{attrs:{label:"Status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{style:{color:1===t.row.status?"#27AE60":2===t.row.status?"#EB5757":"#828282"}},[e._v(e._s(e._f("getDocumentStatus")(t.row.status)))])]}}])}),i("el-table-column",{attrs:{label:"DI",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.productName))])]}}])}),i("el-table-column",{attrs:{label:"Last Update"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updatedTs?i("span",[e._v(e._s(e.GetDateformat(e.getSystemTimeToNewTime(new Date(t.row.updatedTs)))))]):e._e(),t.row.updateTime?i("span",[e._v(e._s(e.GetDateformat(e.getSystemTimeToNewTime(new Date(t.row.updateTime)))))]):e._e()]}}])}),i("el-table-column",{attrs:{label:"Action",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[5!==e.underwriting_sort?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("Setup")]):e._e(),5!==e.underwriting_sort?i("el-dropdown",{staticStyle:{"margin-right":"5px"},on:{command:function(i){e.handleCommand(i,t.row)}}},[i("span",{staticClass:"el-dropdown-link"},[e._v("\n                More"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:1}},[e._v("Duplicate")]),i("el-dropdown-item",{attrs:{command:2}},[e._v("Move to Trash")])],1)],1):e._e(),5===e.underwriting_sort?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.restoreSms(t.row.id,t.row)}}},[e._v("Restore Document")]):e._e()]}}])})],1)],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{"current-page":e.current_page,"page-sizes":[5,10,15,20],"page-size":e.current_page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.underwriting_list.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e.dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[e._m(0),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialog_visible=!1}}},[e._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:e.toCreateQuestion}},[e._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("h3",[e._v("Set up your question")]),i("ul",[i("li",[i("p",[e._v("Type")]),i("div",{staticClass:"type"},[i("span",{staticClass:"mr-10 br-5",class:{select:1===e.underwriting_form.type},on:{click:function(t){e.underwriting_form.type=1}}},[e._v("Underwriting")]),i("span",{staticClass:" br-5",class:{select:2===e.underwriting_form.type},on:{click:function(t){e.underwriting_form.type=2}}},[e._v("Quoted Form")])])]),i("li",[i("p",[e._v("Underwriting Document Name")]),i("el-input",{model:{value:e.underwriting_form.name,callback:function(t){e.$set(e.underwriting_form,"name",t)},expression:"underwriting_form.name"}})],1),i("li",[i("el-checkbox",{on:{change:function(t){t||(e.underwriting_form.bing_product="",e.underwriting_form.bing_productName="")}},model:{value:e.underwriting_form.bing_status,callback:function(t){e.$set(e.underwriting_form,"bing_status",t)},expression:"underwriting_form.bing_status"}},[e._v("Connect DI")]),e.underwriting_form.bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){e.getProductOptions(e.underwriting_form.bing_product).map(function(i){t==i.productId&&(e.underwriting_form.bing_productName=JSON.parse(i.productData).name)})}},model:{value:e.underwriting_form.bing_product,callback:function(t){e.$set(e.underwriting_form,"bing_product",t)},expression:"underwriting_form.bing_product"}},e._l(e.getProductOptions(e.underwriting_form.bing_product),function(e,t){return i("el-option",{key:t+"list",attrs:{label:JSON.parse(e.productData).name,value:e.productId}})}),1):e._e()],1)])])]):e._e(),e.create_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[e._m(1),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.create_dialog_visible=!1}}},[e._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUnderwriting(3)}}},[e._v("Save & Quit")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUnderwriting(2)}}},[e._v("Confirm")])],1)]),i("div",{staticClass:"question-list-content flex-row"},[i("div",{staticClass:"content-aside pt-20 pl-10 pr-10 mr-20"},[i("h3",{staticClass:"fs-16 mb-10"},[e._v("Question List")]),i("div",{staticClass:"list"},[i("ul",e._l(e.question_list,function(t,n){return i("li",{key:n+"type",staticClass:"flex-row mb-6 align-center pointer",style:{"background-color":e.select_index===n?"#ccc":"#fff"},on:{click:function(t){e.select_index=n}}},[i("span",{staticClass:"fs-14 mr-10"},[e._v("Q"+e._s(n+1))]),i("i",{staticClass:"el-icon-c-scale-to-original mr-10 fs-16"}),i("span",{staticClass:"fs-14 mr-10"},[e._v(e._s(t.title))])])}),0),0!==e.question_list.length?i("div",{staticClass:"tool"},[i("div",{staticClass:"icon mb-6"},[i("i",{staticClass:"el-icon-document-copy fs-16 mr-4"}),i("i",{staticClass:"el-icon-delete mr-4 fs-16",on:{click:function(){e.question_list.splice(e.select_index,1),e.select_index=e.select_index&&e.select_index-1}}}),i("i",{staticClass:"el-icon-plus fs-16 mr-4",on:{click:function(t){return e.addQuestion(e.select_index)}}})])]):e._e(),i("div",[i("span",{staticClass:"mr-6 fs-14"},[e._v("Summary Page")]),i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#cccccc"},model:{value:e.underwriting_form.summary_switch,callback:function(t){e.$set(e.underwriting_form,"summary_switch",t)},expression:"underwriting_form.summary_switch"}})],1),i("div",{staticClass:"w100 box-sizing add ptb-10 plr-10 blue pointer",on:{click:function(t){return e.addQuestion()}}},[i("i",{staticClass:"el-icon-circle-plus-outline fs-16 mr-4 blue"}),i("i",{staticClass:"fs-14 mr-4 blue"},[e._v("Add New Question")])])])]),i("div",{staticClass:"logic mt-20"},[0!==e.question_list.length?i("div",[i("div",{staticClass:"logic-content br-5 mb-30 bg-white ptb-10 plr-10",staticStyle:{"box-shadow":"0px 2px 10px rgba(0, 0, 0, 0.15)"}},[i("h3",{staticClass:"fs-20 mb-20"},[e._v("Question "+e._s(e.select_index+1))]),i("div",{staticClass:"mb-20"},[e._m(2),i("el-input",{model:{value:e.question_list[e.select_index].title,callback:function(t){e.$set(e.question_list[e.select_index],"title",t)},expression:"question_list[select_index].title"}})],1)]),e._l(e.question_list[e.select_index].question_children,function(t,n){return i("div",{key:n+"subQuestion",staticClass:"logic-content br-5 mb-30 bg-white ptb-10 plr-10",staticStyle:{"box-shadow":"0px 2px 10px rgba(0, 0, 0, 0.15)"}},[i("div",{staticClass:"flex-row space-between align-center mb-20 ptb-6",staticStyle:{"border-bottom":"1px solid #000"}},[i("h3",{staticClass:"fs-16"},[e._v("\n                Sub Question "+e._s(e.select_index+1)+e._s(e.MathToLetter(n))+"\n              ")]),i("el-button",{staticStyle:{width:"87px",height:"32px",padding:"0"},attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.deleteQuestionChildren(n)}}},[e._v("Delete")])],1),"BMI"!==e.question_list[e.select_index].question_children[n].type&&"whether"!==e.question_list[e.select_index].question_children[n].type?i("div",{staticClass:"mb-20"},[e._m(3,!0),i("el-input",{model:{value:e.question_list[e.select_index].question_children[n].title,callback:function(t){e.$set(e.question_list[e.select_index].question_children[n],"title",t)},expression:"\n                  question_list[select_index].question_children[sq_index]\n                    .title\n                "}})],1):e._e(),i("div",{staticClass:"mb-20 select-list"},[e._m(4,!0),i("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){e.changeQuestionType(e.question_list[e.select_index].question_children[n],t)}},model:{value:e.question_list[e.select_index].question_children[n].type,callback:function(t){e.$set(e.question_list[e.select_index].question_children[n],"type",t)},expression:"\n                  question_list[select_index].question_children[sq_index].type\n                "}},e._l(e.question_type_options,function(e,t){return i("el-option",{key:e.value+t,attrs:{label:e.label,value:e.value}})}),1)],1),"radio"==e.question_list[e.select_index].question_children[n].type||"checkbox"==e.question_list[e.select_index].question_children[n].type||"select"==e.question_list[e.select_index].question_children[n].type?i("div",{staticClass:"choice-list"},[i("ul",{staticClass:"pt-10"},[e._l(e.question_list[e.select_index].question_children[n].options,function(t,a){return i("li",{key:a+"choise",staticClass:"mb-10 mr-6"},[i("p",{staticClass:"flex-row space-between align-center mb-6"},[e._v("\n                    Choice "+e._s(a+1)+"\n                    "),i("i",{staticClass:"el-icon-delete fs-16",on:{click:function(){e.question_list[e.select_index].question_children[n].options.splice(a,1)}}})]),i("div",{staticClass:"textarea"},[i("div",{staticClass:"flex-row align-center mb-6"},[i("span",{staticClass:"mr-8"},[e._v("label：")]),i("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:t.label,callback:function(i){e.$set(t,"label",i)},expression:"item.label"}})],1),i("div",{staticClass:"flex-row align-center"},[i("span",{staticClass:"mr-4"},[e._v("value：")]),i("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1)])])}),i("li",{staticClass:"flex-row align-center pointer",on:{click:function(){e.question_list[e.select_index].question_children[n].options.push({label:"",value:""})}}},[i("i",{staticClass:"el-icon-circle-plus-outline fs-16 mr-6 blue"}),i("span",{staticClass:"blue"},[e._v("Add Choice")])])],2)]):e._e(),"BMI"!==e.question_list[e.select_index].question_children[n].type&&"whether"!==e.question_list[e.select_index].question_children[n].type?i("div",[i("span",{staticClass:"fs-14 mr-10"},[e._v("Is Required")]),i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#cccccc"},model:{value:e.question_list[e.select_index].question_children[n].is_required,callback:function(t){e.$set(e.question_list[e.select_index].question_children[n],"is_required",t)},expression:"question_list[select_index]\n              .question_children[sq_index].is_required"}})],1):e._e()])}),i("div",{staticClass:"mb-30"},[i("el-button",{attrs:{round:"",type:"primary",icon:"el-icon-plus"},on:{click:e.addQuestionChildren}},[e._v("Add Sub Question")])],1),i("div",{staticClass:"logic_list br-5 bg-white ptb-10 plr-10",staticStyle:{"box-shadow":"0px 2px 10px rgba(0, 0, 0, 0.15)"}},[e._l(e.question_list[e.select_index].logic.skip_logic,function(t,n){return i("div",{key:n+"logic",staticClass:"mb-10"},[i("div",{staticClass:"bg-light-gray ptb-10 plr-10"},[i("div",{staticClass:"flex-row space-between align-center"},[i("h3",[e._v("When answering this question")]),i("div",[i("i",{staticClass:"el-icon-delete-solid fs-16 mr-6 pointer",on:{click:function(){e.question_list[e.select_index].logic.skip_logic.splice(n,1)}}}),i("i",{staticClass:"el-icon-plus fs-16 pointer",on:{click:function(){e.question_list[e.select_index].logic.skip_logic.push({if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""})}}})])]),i("div",{staticClass:"flex-row"},[i("span",{staticClass:"fs-16 mr-6"},[e._v("If")]),i("div",e._l(t.if,function(n,a){return i("div",{key:a+"if",staticClass:"flex-row flex-wrap"},[i("div",{staticClass:"and-or-key-type mr-6 mb-6 flex-row"},[0!==a?i("el-select",{staticClass:"and-or mr-6",attrs:{placeholder:"--Select--"},model:{value:n.and_or,callback:function(t){e.$set(n,"and_or",t)},expression:"item2.and_or"}},e._l([{value:"and",label:"And"},{value:"or",label:"Or"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),i("el-select",{staticClass:"key-type",attrs:{placeholder:"Select"},on:{change:function(){n.key_value="",n.value_type="",n.value_value=""}},model:{value:n.key_type,callback:function(t){e.$set(n,"key_type",t)},expression:"item2.key_type"}},e._l([{value:"question",label:"Question"},{value:"information",label:"Information"},{value:"block_variable",label:"Block Variable"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),"question"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.getLogicQuestionList,function(e,t){return i("el-option",{key:e.type+t,attrs:{label:"Q"+(t+1)+" - "+("BMI"==e.type?"BMI":"whether"==e.type?"Yes / No":e.title),value:e.id}})}),1):e._e(),"information"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.informationOptions,function(e,t){return i("el-option",{key:t+"type",attrs:{label:e.keyWord,value:e.componentId}})}),1):e._e(),"block_variable"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.block_variable_options,function(e,t){return i("el-option",{key:t+"name",attrs:{label:e.name,value:e.name}})}),1):e._e(),"question"==n.key_type&&n.key_value?i("el-select",{staticClass:"value-type mb-16 mr-6",attrs:{placeholder:"--Select--"},model:{value:n.value_type,callback:function(t){e.$set(n,"value_type",t)},expression:"item2.value_type"}},e._l([{value:"is",label:"Is"},{value:"=",label:"="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"answered",label:"Is Answered"},{value:"notAnswered",label:"not Answered"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):"information"!=n.key_type&&"block_variable"!=n.key_type||!n.key_value?e._e():i("el-select",{staticClass:"value-type mb-16 mr-6",attrs:{placeholder:"--Select--"},model:{value:n.value_type,callback:function(t){e.$set(n,"value_type",t)},expression:"item2.value_type"}},e._l([{value:"=",label:"="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),"is"==n.value_type?i("el-select",{staticClass:"mb-16",attrs:{placeholder:"--Select--"},model:{value:n.value_value,callback:function(t){e.$set(n,"value_value",t)},expression:"item2.value_value"}},e._l(e.question_list[e.select_index].question_children[e.getQuestionChildrenIndex(n.key_value)].options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),"="!=n.value_type&&">"!=n.value_type&&">="!=n.value_type&&"<"!=n.value_type&&"<="!=n.value_type||!n.value_type?e._e():i("el-input",{staticStyle:{width:"200px"},model:{value:n.value_value,callback:function(t){e.$set(n,"value_value",t)},expression:"item2.value_value"}}),i("div",{staticClass:"edit-icon"},[i("i",{staticClass:"el-icon-minus fs-14 pointer",on:{click:function(e){return t.if.splice(a,1)}}}),i("i",{staticClass:"el-icon-plus fs-14 pointer ml-6",on:{click:function(e){return t.if.push({and_or:"and",key_type:"question",key_value:"",value_type:"",value_value:""})}}})])],1)}),0)])]),i("div",{staticClass:"bg-gray ptb-6 plr-10 flex-row align-center"},[i("span",{staticClass:"mr-10"},[e._v("Then Jump to")]),i("el-select",{staticClass:"flex-1",attrs:{placeholder:"--Select--"},model:{value:t.to,callback:function(i){e.$set(t,"to",i)},expression:"item.to"}},e._l(e.question_list.concat([{id:"page",type:"page",title:"page"},{id:"success",type:"success",title:"Success"},{id:"fail",type:"fail",title:"Fail"}]),function(e,t){return i("el-option",{key:t+"to",attrs:{label:("success"==e.type||"fail"==e.type||"page"==e.type?"":"Q - ")+e.title,value:e.id}})}),1),"success"===t.to||"fail"===t.to||"page"===t.to?i("el-select",{staticClass:"flex-1",attrs:{placeholder:"--Select--"},model:{value:t.to_page,callback:function(i){e.$set(t,"to_page",i)},expression:"item.to_page"}},e._l(e.page_list,function(e,t){return i("el-option",{key:t+"page",attrs:{label:"Page - "+e.title,value:e.title}})}),1):e._e()],1)])}),0===e.question_list[e.select_index].logic.skip_logic.length?i("div",[i("el-button",{on:{click:function(){e.question_list[e.select_index].logic.skip_logic.push({if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""})}}},[e._v("Add skip logic")])],1):e._e()],2),e.question_list[e.select_index].logic.uninsured_logic?i("div",{staticClass:"logic_list br-5 bg-white ptb-10 plr-10 mt-20",staticStyle:{"box-shadow":"0px 2px 10px rgba(0, 0, 0, 0.15)"}},[e._l(e.question_list[e.select_index].logic.uninsured_logic,function(t,n){return i("div",{key:n+"logic",staticClass:"mb-10"},[i("div",{staticClass:"bg-light-gray ptb-10 plr-10"},[i("div",{staticClass:"flex-row space-between align-center"},[i("h3",[e._v("Uninsured the question only")]),i("div",[i("i",{staticClass:"el-icon-delete-solid fs-16 mr-6 pointer",on:{click:function(){e.question_list[e.select_index].logic.uninsured_logic.splice(n,1)}}}),i("i",{staticClass:"el-icon-plus fs-16 pointer",on:{click:function(){e.question_list[e.select_index].logic.uninsured_logic.push({if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""})}}})])]),i("div",{staticClass:"flex-row"},[i("span",{staticClass:"fs-16 mr-6"},[e._v("If")]),i("div",e._l(t.if,function(n,a){return i("div",{key:a+"if",staticClass:"flex-row flex-wrap"},[i("div",{staticClass:"and-or-key-type mr-6 mb-6 flex-row"},[0!==a?i("el-select",{staticClass:"and-or mr-6",attrs:{placeholder:"--Select--"},model:{value:n.and_or,callback:function(t){e.$set(n,"and_or",t)},expression:"item2.and_or"}},e._l([{value:"and",label:"And"},{value:"or",label:"Or"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),i("el-select",{staticClass:"key-type",attrs:{placeholder:"Select"},on:{change:function(){n.key_value="",n.value_type="",n.value_value=""}},model:{value:n.key_type,callback:function(t){e.$set(n,"key_type",t)},expression:"item2.key_type"}},e._l([{value:"question",label:"Question"},{value:"information",label:"Information"},{value:"block_variable",label:"Block Variable"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),"question"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.getLogicQuestionList,function(e,t){return i("el-option",{key:e.type+t,attrs:{label:"Q"+(t+1)+" - "+("BMI"==e.type?"BMI":"whether"==e.type?"Yes / No":e.title),value:e.id}})}),1):e._e(),"information"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.informationOptions,function(e,t){return i("el-option",{key:t+"type",attrs:{label:e.keyWord,value:e.componentId}})}),1):e._e(),"block_variable"==n.key_type?i("el-select",{staticClass:"key-value mb-6",attrs:{placeholder:"--Select--"},model:{value:n.key_value,callback:function(t){e.$set(n,"key_value",t)},expression:"item2.key_value"}},e._l(e.block_variable_options,function(e,t){return i("el-option",{key:t+"name",attrs:{label:e.name,value:e.name}})}),1):e._e(),"question"==n.key_type&&n.key_value?i("el-select",{staticClass:"value-type mb-16 mr-6",attrs:{placeholder:"--Select--"},model:{value:n.value_type,callback:function(t){e.$set(n,"value_type",t)},expression:"item2.value_type"}},e._l([{value:"is",label:"is"},{value:"=",label:"="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"answered",label:"Is Answered"},{value:"notAnswered",label:"not Answered"}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):"information"!=n.key_type&&"block_variable"!=n.key_type||!n.key_value?e._e():i("el-select",{staticClass:"value-type mb-16 mr-6",attrs:{placeholder:"--Select--"},model:{value:n.value_type,callback:function(t){e.$set(n,"value_type",t)},expression:"item2.value_type"}},e._l([{value:"=",label:"="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="}],function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),"is"==n.value_type?i("el-select",{staticClass:"mb-16",attrs:{placeholder:"--Select--"},model:{value:n.value_value,callback:function(t){e.$set(n,"value_value",t)},expression:"item2.value_value"}},e._l(e.question_list[e.select_index].question_children[e.getQuestionChildrenIndex(n.key_value)].options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),"="!=n.value_type&&">"!=n.value_type&&">="!=n.value_type&&"<"!=n.value_type&&"<="!=n.value_type||!n.value_type?e._e():i("el-input",{staticStyle:{width:"200px"},model:{value:n.value_value,callback:function(t){e.$set(n,"value_value",t)},expression:"item2.value_value"}}),i("div",{staticClass:"edit-icon"},[i("i",{staticClass:"el-icon-minus fs-14 pointer",on:{click:function(e){return t.if.splice(a,1)}}}),i("i",{staticClass:"el-icon-plus fs-14 pointer ml-6",on:{click:function(e){return t.if.push({and_or:"and",key_type:"question",key_value:"",value_type:"",value_value:""})}}})])],1)}),0)])])])}),0===e.question_list[e.select_index].logic.uninsured_logic.length?i("div",[i("el-button",{on:{click:function(){e.question_list[e.select_index].logic.uninsured_logic.push({if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""})}}},[e._v("Add uninsured logic")])],1):e._e()],2):e._e()],2):e._e()])])]):e._e()])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[e._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[e._v("Confirmation")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[e._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[e._v("Confirmation")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"fs-14 mb-4"},[e._v("Question"),i("i",{staticClass:"hint"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"fs-14 mb-4"},[e._v("Sub Question"),i("i",{staticClass:"hint"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"fs-14 mb-4"},[e._v("Question type"),i("i",{staticClass:"hint"},[e._v("*")])])}],s=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("96cf"),i("3b8d")),l=i("bd86"),r=i("2f62"),o=i("4ea2");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(i,!0).forEach(function(t){Object(l["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var d={components:{dragUpload:o["a"]},data:function(){return{V_loading:!1,underwriting_list:[],trash_underwriting_list:[],underwriting_sort:"",current_page:1,current_page_size:5,product_options:[],dialog_visible:!1,underwriting_form:{lang:"en_us",type:1,id:"",name:"",bing_status:!1,bing_product:"",bing_productName:"",summary_switch:!1},create_dialog_visible:!1,summary_value:!1,question_type_options:[{label:"Yes / No",value:"whether"},{label:"Radio",value:"radio"},{label:"Multiple Choice",value:"checkbox"},{label:"Drop down",value:"select"},{label:"Date / Time",value:"date"},{label:"Text input",value:"input"},{label:"BMI",value:"BMI"}],question_tab_active:"1",question_collapse_active:"1",question_list:[],select_index:0,informationOptions:[],block_variable_options:[],page_list:[]}},computed:u({},Object(r["c"])(["AccountData","ProductOriginalData","CreateProductInfo","EditSelectComponent","EditSelectComponentPosition","PcOrMobile","EditCurrentPage","DocumentInfo","LanguageListData"]),{getProductStatusNum:function(){var e=this;return function(t){var i=0;return e.underwriting_list.map(function(e){e.status===t&&(i+=1)}),i}},getQuestionList:function(){var e,t=this;return 5==this.underwriting_sort?this.trash_underwriting_list:this.underwriting_sort?(e=this.underwriting_list.filter(function(e){return e.status==t.underwriting_sort}),e):this.underwriting_list},getLogicQuestionList:function(){var e=JSON.parse(JSON.stringify(this.question_list[this.select_index].question_children));return e},getProductOptions:function(){var e=this;return function(t){if(0!==e.product_options.length){var i=JSON.parse(JSON.stringify(e.product_options));if(0!==e.underwriting_list.length)for(var n=0;n<e.underwriting_list.length;n++)for(var a=0;a<i.length;a++)e.underwriting_list[n].productId==i[a].productId&&t!==e.underwriting_list[n].productId&&e.underwriting_form.type==e.underwriting_list[n].type&&i.splice(a,1);return i}}}}),filters:{getDocumentStatus:function(e){return 1===e?"Online":2===e?"Offline":3===e?"Draft":5===e?"Trash":void 0}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.GetProducts(),this.getUnderwritingList(),this.getUnderwritingList(5),this.underwriting_list_lang=this.LanguageListData[0].name;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:u({},Object(r["b"])(["reset","setDocumentInfo"]),{GetProducts:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.GetProducts({companyId:this.AccountData.dtxAccountId,deviceType:"pc",language:"en_us",type:"1"});case 4:t=e.sent,200==t.data.status&&(this.product_options=t.data.data),this.$nextTick(function(){i.V_loading=!1}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.V_loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),getUnderwritingList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.getUnderwritingList({companyId:this.AccountData.dtxAccountId,language:"en_us",status:t});case 4:i=e.sent,200==i.data.status&&(5===t?this.trash_underwriting_list=i.data.data:this.underwriting_list=i.data.data),this.$nextTick(function(){n.V_loading=!1}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.V_loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),toCreateQuestion:function(){var e=this;if(""!==this.underwriting_form.type&&""!==this.underwriting_form.name){if(this.create_dialog_visible=!0,this.underwriting_form.bing_product){this.getInformationOptions(),this.block_variable_options=[],this.getBlockVariable();for(var t=0;t<this.product_options.length;t++)this.product_options[t].productId===this.underwriting_form.bing_product&&JSON.parse(this.product_options[t].projectData).map(function(t){e.page_list.push({id:t.componentId,type:"page",title:t.page_name})})}}else this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(e){}})},addUnderwriting:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.addUnderwriting({companyId:this.AccountData.dtxAccountId,productId:this.underwriting_form.bing_product,productName:this.underwriting_form.bing_productName,id:this.underwriting_form.id,type:this.underwriting_form.type,status:t,language:this.underwriting_form.lang,jsonData:JSON.stringify(this.question_list),templateName:this.underwriting_form.name,logic:"",summarySwitch:!0===this.underwriting_form.summary_switch?1:0});case 4:n=e.sent,200==n.data.status&&(this.getUnderwritingList(),this.dialog_visible=!1,this.create_dialog_visible=!1),this.$nextTick(function(){a.V_loading=!1}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.V_loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t,i){return e.apply(this,arguments)}return t}(),updateEngineStatus:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.updateEngineStatus({id:i,status:t});case 4:n=e.sent,200==n.data.status&&(this.getUnderwritingList(),this.getUnderwritingList(5)),this.$nextTick(function(){a.V_loading=!1}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.V_loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t,i){return e.apply(this,arguments)}return t}(),createNewUnderwriting:function(){this.underwriting_form.type=1,this.underwriting_form.id="",this.underwriting_form.name="",this.underwriting_form.bing_status=!1,this.underwriting_form.bing_product="",this.underwriting_form.bing_productName="",this.question_list=[],this.dialog_visible=!0},handleEdit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.underwriting_form.lang=i.language,this.underwriting_form.type=i.type,this.underwriting_form.id=i.id,this.underwriting_form.name=i.templateName,this.underwriting_form.bing_status=!!i.productId,this.underwriting_form.bing_product=i.productId,this.underwriting_form.bing_productName=i.productName,this.underwriting_form.summary_switch=1===i.summarySwitch,this.question_list=JSON.parse(i.projectData),this.dialog_visible=!0;case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),handleCommand:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(1!==t){e.next=15;break}return this.V_loading=!0,e.prev=2,e.next=5,this.$http.addUnderwriting({companyId:this.AccountData.dtxAccountId,productId:"",productName:"",id:"",type:i.type,status:3,language:i.language,jsonData:JSON.stringify(this.question_list),templateName:i.templateName,summarySwitch:0});case 5:n=e.sent,200==n.data.status&&this.getUnderwritingList(),this.$nextTick(function(){a.V_loading=!1}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),this.V_loading=!1;case 13:e.next=16;break;case 15:2===t&&this.updateEngineStatus(5,i.id);case 16:case"end":return e.stop()}},e,this,[[2,10]])}));function t(t,i){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){},handleCurrentChange:function(e){},addQuestion:function(e){if(0===e||e){var t={id:this.GetRamNumber(8),title:"",desctiption:"",logic:{skip_logic:[{if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""}],uninsured_logic:[{if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""}]},question_children:[]};this.question_list.splice(e+1,0,t),this.select_index=e+1}else this.question_list.push({id:this.GetRamNumber(8),title:"",desctiption:"",logic:{skip_logic:[{if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""}],uninsured_logic:[{if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],to:""}]},question_children:[]})},getQuestionType:function(e){for(var t=0;t<this.question_list[this.select_index].question_children.length;t++)if(this.question_list[this.select_index].question_children[t].id==e)return this.question_list[this.select_index].question_children[t].type},getQuestionChildrenIndex:function(e){for(var t=0;t<this.question_list[this.select_index].question_children.length;t++)if(this.question_list[this.select_index].question_children[t].id==e)return t},verifyFormat:function(e,t){var i=/^[A-Za-z0-9.^\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,n=/^[0-9]+$/;return"email"==e?i.test(t):"phone"==e||"phoneCountryCode"==e?n.test(t):void 0},getInformationOptions:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GetProjectFile();case 2:t=e.sent,t&&(this.informationOptions=[],this.GetAllSocketId(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),GetProjectFile:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.GetProjectFile({companyId:this.AccountData.dtxAccountId,productId:this.underwriting_form.bing_product,language:"en_us",deviceType:"pc"});case 4:if(t=e.sent,200!=t.data.status){e.next=10;break}if(!t.data.data){e.next=8;break}return e.abrupt("return",JSON.parse(t.data.data.projectData));case 8:e.next=11;break;case 10:this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 11:this.V_loading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),this.V_loading=!1;case 17:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),GetAllSocketId:function(e){for(var t=e,i=0;i<t.length;i++)t[i].children?this.GetAllSocketId(t[i].children):!t[i].keyWord||"input"!=t[i].type&&"date"!=t[i].type&&"select"!=t[i].type&&"textarea"!=t[i].type&&"radio"!=t[i].type&&"checkbox"!=t[i].type||this.informationOptions.push(t[i])},getBlockVariable:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.getBlockLogic({companyId:this.AccountData.dtxAccountId,productId:this.underwriting_form.bing_product});case 3:t=e.sent,200==t.data.status?(this.V_loading=!1,this.block_variable_options=JSON.parse(JSON.parse(t.data.data[0].overallVariablesData))):(this.V_loading=!1,this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.V_loading=!1;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),changeQuestionType:function(e,t){"whether"===t&&this.$set(e,"options",[{label:"Yes",value:"yes"},{label:"No",value:"no"}])},addQuestionChildren:function(){this.question_list[this.select_index].question_children.push({id:this.GetRamNumber(8),type:"",title:"",checkboxList:[],value:"",setting:{allow_multiple_choices:!1,allow_other_option:!1},options:[],placeholder:"",logic:{display_logic:[{if:[{key_type:"question",key_value:"",value_type:"",value_value:""}],result:""}]}})},deleteQuestionChildren:function(e){this.question_list[this.select_index].question_children.splice(e,1)}})},p=d,_=(i("c32c"),i("2877")),v=Object(_["a"])(p,n,a,!1,null,"47e64cec",null);t["default"]=v.exports},b3e2:function(e,t,i){},c14c:function(e,t,i){"use strict";var n=i("e209"),a=i.n(n);a.a},c32c:function(e,t,i){"use strict";var n=i("b3e2"),a=i.n(n);a.a},e209:function(e,t,i){}}]);