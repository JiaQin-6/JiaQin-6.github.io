(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fcf337c"],{a519:function(e,t,r){"use strict";var n=r("fa77"),i=r.n(n);i.a},a69f4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.V_loading,expression:"V_loading"}],staticClass:"background"},[r("form",{staticClass:"login_box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px","label-position":"top"}},[r("el-form-item",[r("p",[e._v("An email was sent to your registered email.")]),r("p",[e._v("please check your email to get the 6﹣digit verification code.")]),r("div",{staticClass:"inputCode"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],ref:"code",staticClass:"code",attrs:{type:"text",maxlength:"6",id:"code",disabled:e.disabled},domProps:{value:e.code},on:{focus:function(t){e.focus=!0},input:function(t){t.target.composing||(e.code=t.target.value)}}}),r("div",{staticClass:"labels"},e._l(6,function(t,n){return r("label",{key:n,staticClass:"label",class:{active:!0===e.focus&&n===e.currentIndex},domProps:{textContent:e._s(e.arrCode[n])}})}),0)]),e.errorTip?r("i",[e._v("＊The verification is wrong, Please enter again.")]):e._e(),r("el-button",{staticClass:"resendCode",on:{click:e.ResendCode}},[e._v("Resend verification code")])],1),r("el-form-item",[r("el-button",{staticClass:"skip_btn",attrs:{type:"primary"},on:{click:e.SkipFun}},[e._v("NEXT")])],1)],1)],1)])},i=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("673e"),r("7f7f"),r("6b54"),r("96cf"),r("3b8d")),s=(r("a481"),r("28a5"),r("bd86")),a=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={data:function(){return{active:1,code:"",focus:!1,disabled:!1,errorTip:!1,V_loading:!1,dis_ResendCode:!0,count:0,timer:null}},computed:u({},Object(a["c"])(["SignUp_p_e"]),{arrCode:function(){return this.code.split("")},currentIndex:function(){return this.code.length},seconds:function(){sessionStorage.getItem("signUpCodeTime")?this.count=30-Math.floor(((new Date).getTime()-sessionStorage.getItem("signUpCodeTime"))/1e3)>0?30-Math.floor(((new Date).getTime()-sessionStorage.getItem("signUpCodeTime"))/1e3):0:this.count=30,this.count>0?this.dis_ResendCode=!0:this.dis_ResendCode=!1}}),watch:{code:function(e,t){this.code=e.replace(/[^a-zA-Z0-9]/g,""),e.length>=6&&this.$refs.code.blur()},seconds:function(){}},created:function(){"rep"==this.$route.query.type?(this.ResendCode(),this.countDown()):this.countDown()},mounted:function(){},methods:u({},Object(a["b"])(["reset","setAccountData"]),{SkipFun:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={ClientId:window.ClientId,Username:this.$route.query.email,ConfirmationCode:this.code},this.AWSRequest.confirmSignUp(t,function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t?(i=t.toString().split(":")[0],"AliasExistsException"==i?r.$message.error("User already exists!"):"ExpiredCodeException"==i?r.$message.error("Verification code expired, please resend"):"InvalidParameterException"==i?r.$message.error("Incorrect password format"):"UserNotFoundException"==i?r.$message.error("User does not exist."):"TooManyRequestsException"==i?r.$message.error("Your operation is too fast, please try again."):"NotAuthorizedException"==i?r.$router.push("/"):"CodeMismatchException"==i?r.$message.error("Incorrect verification code"):r.$message.error(t.toString().split(":")[1])):(sessionStorage.removeItem("signUpCodeTime"),r.active+=1,r.$emit("GetActive",r.active),r.$router.push("/thirdStep")),r.V_loading=!1;case 2:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),ResendCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={ClientId:window.ClientId,Username:this.$route.query.email},this.AWSRequest.resendConfirmationCode(t,function(e,t){if(e){var n=e.toString().split(":")[0];"CodeDeliveryFailureException"==n?r.$message.error("Verification code expired, please resend"):"InvalidEmailRoleAccessPolicyException"==n?r.$message.error("The user could not be found!"):"InvalidParameterException"==n?r.$message.error("Incorrect password format"):"UserNotFoundException"==n?r.$message.error("User does not exist."):"TooManyRequestsException"==n?r.$message.error("Your operation is too fast, please try again"):"InternalErrorException"==n?r.$message.error("Your operation is too fast, please try again"):"LimitExceededException"==n&&r.$message.error("Your operation limit exceed, please try again later")}else r.$message({message:"Successful",type:"success"}),sessionStorage.setItem("signUpCodeTime",(new Date).getTime()),r.dis_ResendCode=!0,r.count=30,r.countDown();r.V_loading=!1});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),countDown:function(){var e=this;sessionStorage.getItem("signUpCodeTime")||sessionStorage.setItem("signUpCodeTime",(new Date).getTime()),this.timer||(this.timer=setInterval(function(){e.count>0?e.count=e.count-1:(clearInterval(e.timer),e.timer=null,e.dis_ResendCode=!1)},1e3))},Login:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={ClientId:window.ClientId,AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:{USERNAME:this.$route.query.email,PASSWORD:this.SignUp_p_e.password}},this.AWSRequest.initiateAuth(t,function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return i=jwt_decode(n.AuthenticationResult.IdToken),e.next=4,r.CollectedUserInfo({email:i.email,username:i.name,subId:i.sub,fileNo:i["custom:fileNo"],countryCode:"+852"});case 4:e.next=6;break;case 6:r.V_loading=!1;case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),CollectedUserInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.CollectedUserInfo(t);case 3:r=e.sent,200==r.data.status?(this.setAccountData(r.data.data),this.reset(["SignUp_p_e"])):this.$message.error(r.data.msg),this.V_loading=!1,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.V_loading=!1,this.$message.error("Login Failed");case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}()}),beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},l=d,p=(r("a519"),r("2877")),m=Object(p["a"])(l,n,i,!1,null,"f939703e",null);t["default"]=m.exports},fa77:function(e,t,r){}}]);