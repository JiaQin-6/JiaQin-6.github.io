(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e2e96d6"],{"0a3f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__),C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("3b8d"),C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("bd86"),vuex__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("2f62"),_components_dragUpload_index__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("f6d4");function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(a,!0).forEach(function(e){Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}__webpack_exports__["a"]={components:{dragUpload:_components_dragUpload_index__WEBPACK_IMPORTED_MODULE_10__["a"]},data:function(){return{activeName:"1",apiTaskData:{name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},apiTaskData2:{name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},apiTaskData3:{name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},typeOptions:[{value:"get",label:"get"},{value:"post",label:"post"}],LogoLocalFile:"",companyList:[],selectedCompany:"",productList:[],selectedProduct:"",V_loading:!1,isApiOk:!0,dialogVisible:!1,testResult:""}},watch:{},computed:_objectSpread({},Object(vuex__WEBPACK_IMPORTED_MODULE_9__["c"])(["AccountData","BusinessVerification","AWSAccountData","FileNoInfo"])),created:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.initData(),t.next=3,this.insurersList();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){},methods:_objectSpread({},Object(vuex__WEBPACK_IMPORTED_MODULE_9__["b"])(["reset","setBusinessVerification"]),{handleClick:function(t,e){switch(t._props.name){case"1":this.isApiOk=!0,this.initData();break;case"2":this.isApiOk=!0,this.initData(),this.selectedCompany="";break;case"3":this.isApiOk=!0,this.initData(),this.selectedCompany="",this.selectedProduct="";break;default:}},initData:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.apiTaskData={name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},this.apiTaskData2={name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},this.apiTaskData3={name:"",logo:"",keyword:"",url:"",type:"",params:"",result:""},!sessionStorage.getItem("task_content")){t.next=35;break}if(e=JSON.parse(sessionStorage.getItem("task_content")),"system"!=e.scope){t.next=14;break}return this.activeName="1",this.apiTaskData.name=e.taskName,this.apiTaskData.logo=e.taskIcon,this.apiTaskData.keyword=e.keyword?JSON.parse(e.keyword).toString():"",t.next=12,this.getApiInfoById(1,e.apiConnectId);case 12:t.next=35;break;case 14:if("admin"!=e.scope){t.next=24;break}return this.activeName="2",this.selectedCompany=e.companyId,this.apiTaskData2.name=e.taskName,this.apiTaskData2.logo=e.taskIcon,this.apiTaskData2.keyword=e.keyword?JSON.parse(e.keyword).toString():"",t.next=22,this.getApiInfoById(2,e.apiConnectId);case 22:t.next=35;break;case 24:if("product"!=e.scope){t.next=35;break}return this.activeName="3",this.selectedCompany=e.companyId,t.next=29,this.GetProducts();case 29:return this.selectedProduct=e.taskScope?JSON.parse(e.taskScope).toString():"",this.apiTaskData3.name=e.taskName,this.apiTaskData3.logo=e.taskIcon,this.apiTaskData3.keyword=e.keyword?JSON.parse(e.keyword).toString():"",t.next=35,this.getApiInfoById(3,e.apiConnectId);case 35:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),chengeApiType:function(t){this.apiTaskData.type=t},chengeCompany:function(t){this.selectedCompany=t,"3"==this.activeName&&this.GetProducts()},insurersList:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.insurersList();case 3:a=t.sent,200==a.data.status?this.companyList=a.data.data:this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.V_loading=!1,this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e){return t.apply(this,arguments)}return e}(),chengeProduct:function(t){this.selectedProduct=t},GetProducts:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.GetProducts({companyId:this.selectedCompany,deviceType:"pc",language:"en_us",type:"1"});case 4:e=t.sent,200==e.data.status?this.productList=e.data.data:(this.V_loading=!1,this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm")})),this.$nextTick(function(){a.V_loading=!1}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),GetUploadInsurerLogo:function(t,e){this.LogoLocalFile=t,this.UploadLogo(e)},UploadLogo:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.LogoLocalFile){t.next=18;break}return this.V_loading=!0,a=new FormData,a.append("file",this.LogoLocalFile),a.append("path",this.AccountData.dtxAccountId+"/"+this.AccountData.subId+"/insurerLogo/eng"),a.append("permissionsType","publicUpload"),t.prev=6,t.next=9,this.$http.DtxFile(a);case 9:s=t.sent,200==s.data.status?1==e?this.apiTaskData.logo=s.data.data[0]:2==e?this.apiTaskData2.logo=s.data.data[0]:3==e&&(this.apiTaskData3.logo=s.data.data[0]):this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),this.V_loading=!1,this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});case 18:case"end":return t.stop()}},t,this,[[6,14]])}));function e(e){return t.apply(this,arguments)}return e}(),testParams:function(t,e,a){return t?e?!!a||(this.$alert(this.$t("testParams_tip3"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),!1):(this.$alert(this.$t("testParams_tip2"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),!1):(this.$alert(this.$t("testParams_tip1"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),!1)},testAPI:function(){var _testAPI=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function _callee9(type){var _this2=this,that,test1,_type,url,params,str,testVal,test2,_type2,_url,_params,str2,_testVal,test3,_type3,_url2,_params2,str3,_testVal2;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:if(that=this,1!=type){_context9.next=15;break}if(test1=function(){var _ref=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,eval(str);case 3:return _context6.abrupt("return",_context6.sent);case 6:return _context6.prev=6,_context6.t0=_context6["catch"](0),_context6.abrupt("return",!0);case 9:case"end":return _context6.stop()}},_callee6,null,[[0,6]])}));return function(){return _ref.apply(this,arguments)}}(),_type=that.apiTaskData.type,url=that.apiTaskData.url,params=that.apiTaskData.params,that.testParams(_type,url,params)){_context9.next=8;break}return _context9.abrupt("return",!1);case 8:return str="that.$http."+_type+"('"+url+"',"+params+").then(res => { return res.data }).catch(err=>{ return err })",_context9.next=11,test1();case 11:testVal=_context9.sent,200==testVal.status?(this.$nextTick(function(){_this2.testResult=JSON.stringify(testVal.data)}),this.dialogVisible=!0):this.$alert(testVal.msg,"",{confirmButtonText:this.$t("Confirm")}),_context9.next=41;break;case 15:if(2!=type){_context9.next=29;break}if(test2=function(){var _ref2=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,eval(str2);case 3:return _context7.abrupt("return",_context7.sent);case 6:return _context7.prev=6,_context7.t0=_context7["catch"](0),_context7.abrupt("return",!0);case 9:case"end":return _context7.stop()}},_callee7,null,[[0,6]])}));return function(){return _ref2.apply(this,arguments)}}(),_type2=that.apiTaskData2.type,_url=that.apiTaskData2.url,_params=that.apiTaskData2.params,that.testParams(_type2,_url,_params)){_context9.next=22;break}return _context9.abrupt("return",!1);case 22:return str2="that.$http."+_type2+"('"+_url+"',"+_params+").then(res => { return res.data }).catch(err=>{ return err })",_context9.next=25,test2();case 25:_testVal=_context9.sent,200==_testVal.status?(this.$nextTick(function(){_this2.testResult=JSON.stringify(_testVal.data)}),this.dialogVisible=!0):this.$alert(_testVal.msg,"",{confirmButtonText:this.$t("Confirm")}),_context9.next=41;break;case 29:if(3!=type){_context9.next=41;break}if(test3=function(){var _ref3=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,eval(str3);case 3:return _context8.abrupt("return",_context8.sent);case 6:return _context8.prev=6,_context8.t0=_context8["catch"](0),_context8.abrupt("return",!0);case 9:case"end":return _context8.stop()}},_callee8,null,[[0,6]])}));return function(){return _ref3.apply(this,arguments)}}(),_type3=that.apiTaskData3.type,_url2=that.apiTaskData3.url,_params2=that.apiTaskData3.params,that.testParams(_type3,_url2,_params2)){_context9.next=36;break}return _context9.abrupt("return",!1);case 36:return str3="that.$http."+_type3+"('"+_url2+"',"+_params2+").then(res => { return res.data }).catch(err=>{ return err })",_context9.next=39,test3();case 39:_testVal2=_context9.sent,200==_testVal2.status?(this.$nextTick(function(){_this2.testResult=JSON.stringify(_testVal2.data)}),this.dialogVisible=!0):this.$alert(_testVal2.msg,"",{confirmButtonText:this.$t("Confirm")});case 41:case"end":return _context9.stop()}},_callee9,this)}));function testAPI(t){return _testAPI.apply(this,arguments)}return testAPI}(),createApiModuleCase:function(t){var e=[];return e[0]='<block type="procedures_defreturn" id="'.concat(this.createBlockId(),'" x="50" y="50"><mutation><arg name="x" varid="').concat(this.createBlockId(),'"></arg></mutation><field name="NAME">').concat(t.name.replace(/\s/g,"_"),'</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="api_connector" id="').concat(this.createBlockId(),'"><field name="choose_your_type">').concat(t.type,'</field><value name="your_api_url"><block type="text" id="').concat(this.createBlockId(),'"><field name="TEXT">').concat(t.url,'</field></block></value><value name="api_params"><block type="variables_get" id="').concat(this.createBlockId(),'"><field name="VAR" id="').concat(this.createBlockId(),'">x</field></block></value><statement name="success_logic"><block type="set_Overall_Variables" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field><value name="value"><block type="api_connector_return_value3" id="').concat(this.createBlockId(),',"></block></value></block></statement><statement name="failed_logic"><block type="set_Overall_Variables" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field><value name="value"><block type="api_connector_return_value3" id="').concat(this.createBlockId(),'"></block></value></block></statement></block></statement><value name="RETURN"><block type="get_Overall_Variables_overall_x" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field></block></value></block>'),e[1]='<block type="procedures_callreturn" id="'.concat(this.createBlockId(),'" x="50" y="450"><mutation name="').concat(t.name.replace(/\s/g,"_"),'"><arg name="x"></arg></mutation></block><block type="procedures_defreturn" id="').concat(this.createBlockId(),'" x="50" y="50"><mutation><arg name="x" varid="').concat(this.createBlockId(),'"></arg></mutation><field name="NAME">').concat(t.name.replace(/\s/g,"_"),'</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="api_connector" id="').concat(this.createBlockId(),'"><field name="choose_your_type">').concat(t.type,'</field><value name="your_api_url"><block type="text" id="').concat(this.createBlockId(),'"><field name="TEXT">').concat(t.url,'</field></block></value><value name="api_params"><block type="variables_get" id="').concat(this.createBlockId(),'"><field name="VAR" id="').concat(this.createBlockId(),'">x</field></block></value><statement name="success_logic"><block type="set_Overall_Variables" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field><value name="value"><block type="api_connector_return_value3" id="').concat(this.createBlockId(),',"></block></value></block></statement><statement name="failed_logic"><block type="set_Overall_Variables" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field><value name="value"><block type="api_connector_return_value3" id="').concat(this.createBlockId(),'"></block></value></block></statement></block></statement><value name="RETURN"><block type="get_Overall_Variables_overall_x" id="').concat(this.createBlockId(),'"><field name="OverallVariables">overall_x</field></block></value></block>'),e},createApiConnector:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(e){var a,s,i,r,n,o,c,l,_,p,u,d,m,f,h,k,b,g,y,x;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a="",1!=e){t.next=45;break}if(this.apiTaskData.result){t.next=5;break}return this.$alert(this.$t("testParams_tip4"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),t.abrupt("return",!1);case 5:return s={companyId:"",productId:"",apiName:this.apiTaskData.name.replace(/\s/g,"_"),apiState:"",apiRegion:"",apiUrl:this.apiTaskData.url,apiRequest:this.apiTaskData.type,apiParameter:this.apiTaskData.params,apiResult:this.apiTaskData.result},sessionStorage.getItem("task_content")&&(s.id=JSON.parse(sessionStorage.getItem("task_content")).apiConnectId),t.prev=7,t.next=10,this.$http.editApiConfiguration(s);case 10:if(i=t.sent,200!=i.data.status){t.next=36;break}return a=i.data.data,r="",n="",r=this.createApiModuleCase(this.apiTaskData)[0],n=this.createApiModuleCase(this.apiTaskData)[1],o={companyId:"",jsonData:r,taskData:n,taskId:sessionStorage.getItem("task_content")?JSON.parse(sessionStorage.getItem("task_content")).taskId:"task_"+this.GetRamNumber(8),scope:"system",taskScope:"",taskType:"API",taskShope:"",taskParams:"",taskName:this.apiTaskData.name.replace(/\s/g,"_"),taskIcon:this.apiTaskData.logo,keyword:JSON.stringify([this.apiTaskData.keyword]),apiConnectId:a},t.prev=18,t.next=21,this.$http.saveTaskApi(o);case 21:if(c=t.sent,200!=c.data.status){t.next=27;break}return this.$router.push({path:"/apiList"}),t.abrupt("return");case 27:this.V_loading=!1,this.$alert(c.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 29:t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](18),this.V_loading=!1;case 34:t.next=38;break;case 36:this.V_loading=!1,this.$alert(i.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 38:t.next=43;break;case 40:t.prev=40,t.t1=t["catch"](7),this.V_loading=!1;case 43:t.next=133;break;case 45:if(2!=e){t.next=89;break}if(this.apiTaskData2.result){t.next=49;break}return this.$alert(this.$t("testParams_tip4"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),t.abrupt("return",!1);case 49:return l={companyId:this.selectedCompany,productId:"",apiName:this.apiTaskData2.name.replace(/\s/g,"_"),apiState:"",apiRegion:"",apiUrl:this.apiTaskData2.url,apiRequest:this.apiTaskData2.type,apiParameter:this.apiTaskData2.params,apiResult:this.apiTaskData2.result},sessionStorage.getItem("task_content")&&(l.id=JSON.parse(sessionStorage.getItem("task_content")).apiConnectId),t.prev=51,t.next=54,this.$http.editApiConfiguration(l);case 54:if(_=t.sent,200!=_.data.status){t.next=80;break}return a=_.data.data,p="",u="",p=this.createApiModuleCase(this.apiTaskData2)[0],u=this.createApiModuleCase(this.apiTaskData2)[1],d={companyId:this.selectedCompany,jsonData:p,taskData:u,taskId:sessionStorage.getItem("task_content")?JSON.parse(sessionStorage.getItem("task_content")).taskId:"task_"+this.GetRamNumber(8),scope:"admin",taskScope:"",taskType:"API",taskShope:"",taskParams:"",taskName:this.apiTaskData2.name.replace(/\s/g,"_"),taskIcon:this.apiTaskData2.logo,keyword:JSON.stringify([this.apiTaskData2.keyword]),apiConnectId:a},t.prev=62,t.next=65,this.$http.saveTaskApi(d);case 65:if(m=t.sent,200!=m.data.status){t.next=71;break}return this.$router.push({path:"/apiList"}),t.abrupt("return");case 71:this.V_loading=!1,this.$alert(m.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 73:t.next=78;break;case 75:t.prev=75,t.t2=t["catch"](62),this.V_loading=!1;case 78:t.next=82;break;case 80:this.V_loading=!1,this.$alert(_.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 82:t.next=87;break;case 84:t.prev=84,t.t3=t["catch"](51),this.V_loading=!1;case 87:t.next=133;break;case 89:if(3!=e){t.next=133;break}if(this.apiTaskData3.result){t.next=93;break}return this.$alert(this.$t("testParams_tip4"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),t.abrupt("return",!1);case 93:return f={companyId:this.selectedCompany,productId:this.selectedProduct,apiName:this.apiTaskData3.name.replace(/\s/g,"_"),apiState:"",apiRegion:"",apiUrl:this.apiTaskData3.url,apiRequest:this.apiTaskData3.type,apiParameter:this.apiTaskData3.params,apiResult:this.apiTaskData3.result},sessionStorage.getItem("task_content")&&(f.id=JSON.parse(sessionStorage.getItem("task_content")).apiConnectId),t.prev=95,t.next=98,this.$http.editApiConfiguration(f);case 98:if(h=t.sent,200!=h.data.status){t.next=126;break}return a=h.data.data,k="",b="",k=this.createApiModuleCase(this.apiTaskData3)[0],b=this.createApiModuleCase(this.apiTaskData3)[1],g=[],g.push(this.selectedProduct),y={companyId:this.selectedCompany,jsonData:k,taskData:b,taskId:sessionStorage.getItem("task_content")?JSON.parse(sessionStorage.getItem("task_content")).taskId:"task_"+this.GetRamNumber(8),scope:"product",taskScope:JSON.stringify(g),taskType:"API",taskShope:"",taskParams:"",taskName:this.apiTaskData3.name.replace(/\s/g,"_"),taskIcon:this.apiTaskData3.logo,keyword:JSON.stringify([this.apiTaskData3.keyword]),apiConnectId:a},t.prev=108,t.next=111,this.$http.saveTaskApi(y);case 111:if(x=t.sent,200!=x.data.status){t.next=117;break}return this.$router.push({path:"/apiList"}),t.abrupt("return");case 117:this.V_loading=!1,this.$alert(x.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 119:t.next=124;break;case 121:t.prev=121,t.t4=t["catch"](108),this.V_loading=!1;case 124:t.next=128;break;case 126:this.V_loading=!1,this.$alert(h.data.msg,"",{confirmButtonText:this.$t("Confirm")});case 128:t.next=133;break;case 130:t.prev=130,t.t5=t["catch"](95),this.V_loading=!1;case 133:case"end":return t.stop()}},t,this,[[7,40],[18,31],[51,84],[62,75],[95,130],[108,121]])}));function e(e){return t.apply(this,arguments)}return e}(),getApiInfoById:function(){var t=Object(C_Users_18332_Desktop_dtx_dtX_configurator_frontend_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(e,a){var s,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.getApiConfigurationById({id:a});case 3:s=t.sent,200==s.data.status?1==e?(this.apiTaskData.type=s.data.data.apiRequest,this.apiTaskData.url=s.data.data.apiUrl,this.apiTaskData.params=s.data.data.apiParameter,this.apiTaskData.result=s.data.data.apiResult):2==e?(this.apiTaskData2.type=s.data.data.apiRequest,this.apiTaskData2.url=s.data.data.apiUrl,this.apiTaskData2.params=s.data.data.apiParameter,this.apiTaskData2.result=s.data.data.apiResult):3==e&&(this.apiTaskData3.type=s.data.data.apiRequest,this.apiTaskData3.url=s.data.data.apiUrl,this.apiTaskData3.params=s.data.data.apiParameter,this.apiTaskData3.result=s.data.data.apiResult):(this.V_loading=!1,this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm")})),this.$nextTick(function(){i.V_loading=!1}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.V_loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e,a){return t.apply(this,arguments)}return e}(),createBlockId:function(){for(var t="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=20,a=t.length,s=[],i=0;i<e;i++)s[i]=t.charAt(Math.random()*a);return s.join("")},onCopy:function(t){this.$message.success({message:this.$t("Copy_successful"),duration:1e3}),this.dialogVisible=!1,this.isApiOk=!1},onError:function(t){this.$message.success({message:this.$t("Copy_failed"),duration:1e3})}})}},"1cf2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.V_loading,expression:"V_loading"}],staticClass:"container"},[a("div",{staticClass:"main"},[a("div",{staticClass:"main_wrap"},[a("h2",[t._v(t._s(t.$t("api_connector")))]),a("p",[t._v(t._s(t.$t("api_connector_tips")))])]),a("el-tabs",{staticStyle:{"margin-top":"20px","padding-left":"20px"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("System_Task"),name:"1"}},[a("div",{staticClass:"form"},[a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Role_Table_Label2"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_Name")},model:{value:t.apiTaskData.name,callback:function(e){t.$set(t.apiTaskData,"name",e)},expression:"apiTaskData.name"}})],1),a("div",{staticClass:"item2 flex_between"},[a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("logo"))+":")]),a("span",{staticClass:"insurerLogo"},[a("dragUpload",{staticStyle:{width:"100%"},attrs:{fileType:"image",url:t.apiTaskData.logo,fixedNumberList:[1,1]},on:{GetUpload:function(e){t.GetUploadInsurerLogo(e,1)}}})],1)]),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Keyword"))+":")]),a("el-input",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:t.$t("Keyword")},model:{value:t.apiTaskData.keyword,callback:function(e){t.$set(t.apiTaskData,"keyword",e)},expression:"apiTaskData.keyword"}})],1),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("type"))+":")]),a("el-select",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeApiType},model:{value:t.apiTaskData.type,callback:function(e){t.$set(t.apiTaskData,"type",e)},expression:"apiTaskData.type"}},t._l(t.typeOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)]),a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("url"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_URL")},model:{value:t.apiTaskData.url,callback:function(e){t.$set(t.apiTaskData,"url",e)},expression:"apiTaskData.url"}})],1)]),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("params"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Params")},model:{value:t.apiTaskData.params,callback:function(e){t.$set(t.apiTaskData,"params",e)},expression:"apiTaskData.params"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.testAPI(1)}}},[t._v(t._s(t.$t("test_api"))+"\n            ")])],1),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("result"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Result")},model:{value:t.apiTaskData.result,callback:function(e){t.$set(t.apiTaskData,"result",e)},expression:"apiTaskData.result"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary",disabled:t.isApiOk},on:{click:function(e){return t.createApiConnector(1)}}},[t._v(t._s(t.$t("create_api_connector"))+"\n            ")])],1)])]),a("el-tab-pane",{attrs:{label:t.$t("Company_Task"),name:"2"}},[a("div",{staticStyle:{padding:"15px",background:"#ccc"}},[a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Company"))+":")]),a("el-select",{staticStyle:{width:"340px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeCompany},model:{value:t.selectedCompany,callback:function(e){t.selectedCompany=e},expression:"selectedCompany"}},t._l(t.companyList,function(t,e){return a("el-option",{key:e,attrs:{label:t.companyName,value:t.dtxAccountId}})}),1)],1)]),a("div",{staticClass:"form",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Role_Table_Label2"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_Name")},model:{value:t.apiTaskData2.name,callback:function(e){t.$set(t.apiTaskData2,"name",e)},expression:"apiTaskData2.name"}})],1),a("div",{staticClass:"item2 flex_between"},[a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("logo"))+":")]),a("span",{staticClass:"insurerLogo"},[a("dragUpload",{staticStyle:{width:"100%"},attrs:{fileType:"image",url:t.apiTaskData2.logo,fixedNumberList:[1,1]},on:{GetUpload:function(e){t.GetUploadInsurerLogo(e,2)}}})],1)]),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Keyword"))+":")]),a("el-input",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:t.$t("Keyword")},model:{value:t.apiTaskData2.keyword,callback:function(e){t.$set(t.apiTaskData2,"keyword",e)},expression:"apiTaskData2.keyword"}})],1),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Type"))+":")]),a("el-select",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeApiType},model:{value:t.apiTaskData2.type,callback:function(e){t.$set(t.apiTaskData2,"type",e)},expression:"apiTaskData2.type"}},t._l(t.typeOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)]),a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("url"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_URL")},model:{value:t.apiTaskData2.url,callback:function(e){t.$set(t.apiTaskData2,"url",e)},expression:"apiTaskData2.url"}})],1)]),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("params"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Params")},model:{value:t.apiTaskData2.params,callback:function(e){t.$set(t.apiTaskData2,"params",e)},expression:"apiTaskData2.params"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.testAPI(2)}}},[t._v(t._s(t.$t("test_api"))+"\n            ")])],1),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("result"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Result")},model:{value:t.apiTaskData2.result,callback:function(e){t.$set(t.apiTaskData2,"result",e)},expression:"apiTaskData2.result"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary",disabled:t.isApiOk},on:{click:function(e){return t.createApiConnector(2)}}},[t._v(t._s(t.$t("create_api_connector"))+"\n            ")])],1)])]),a("el-tab-pane",{attrs:{label:t.$t("Product_Task"),name:"3"}},[a("div",{staticStyle:{padding:"15px",background:"#ccc"}},[a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Company"))+":")]),a("el-select",{staticStyle:{width:"260px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeCompany},model:{value:t.selectedCompany,callback:function(e){t.selectedCompany=e},expression:"selectedCompany"}},t._l(t.companyList,function(t,e){return a("el-option",{key:e,attrs:{label:t.companyName,value:t.dtxAccountId}})}),1),a("span",{staticClass:"label ml10"},[t._v(t._s(t.$t("Channel_Form2_Label1"))+":")]),a("el-select",{staticStyle:{width:"260px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeProduct},model:{value:t.selectedProduct,callback:function(e){t.selectedProduct=e},expression:"selectedProduct"}},t._l(t.productList,function(t,e){return a("el-option",{key:e,attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1)],1)])]),a("div",{staticClass:"form",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Role_Table_Label2"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_Name")},model:{value:t.apiTaskData3.name,callback:function(e){t.$set(t.apiTaskData3,"name",e)},expression:"apiTaskData3.name"}})],1),a("div",{staticClass:"item2 flex_between"},[a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("logo"))+":")]),a("span",{staticClass:"insurerLogo"},[a("dragUpload",{staticStyle:{width:"100%"},attrs:{fileType:"image",url:t.apiTaskData3.logo,fixedNumberList:[1,1]},on:{GetUpload:function(e){t.GetUploadInsurerLogo(e,3)}}})],1)]),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Keyword"))+":")]),a("el-input",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:t.$t("Keyword")},model:{value:t.apiTaskData3.keyword,callback:function(e){t.$set(t.apiTaskData3,"keyword",e)},expression:"apiTaskData3.keyword"}})],1),a("div",{staticClass:"item3"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("Type"))+":")]),a("el-select",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:"Select"},on:{change:t.chengeApiType},model:{value:t.apiTaskData3.type,callback:function(e){t.$set(t.apiTaskData3,"type",e)},expression:"apiTaskData3.type"}},t._l(t.typeOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)]),a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("url"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{placeholder:t.$t("Input_API_URL")},model:{value:t.apiTaskData3.url,callback:function(e){t.$set(t.apiTaskData3,"url",e)},expression:"apiTaskData3.url"}})],1)]),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("params"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Params")},model:{value:t.apiTaskData3.params,callback:function(e){t.$set(t.apiTaskData3,"params",e)},expression:"apiTaskData3.params"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.testAPI(3)}}},[t._v(t._s(t.$t("test_api"))+"\n            ")])],1),a("div",{staticClass:"item1"},[a("div",{staticClass:"item2"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("result"))+":")]),a("el-input",{staticStyle:{width:"100%","margin-left":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:100},placeholder:t.$t("Input_API_Result")},model:{value:t.apiTaskData3.result,callback:function(e){t.$set(t.apiTaskData3,"result",e)},expression:"apiTaskData3.result"}})],1)]),a("div",{staticClass:"buttonBox"},[a("el-button",{staticClass:"addBtn",attrs:{round:"",type:"primary",disabled:t.isApiOk},on:{click:function(e){return t.createApiConnector(3)}}},[t._v(t._s(t.$t("create_api_connector"))+"\n            ")])],1)])])],1)],1),a("el-dialog",{attrs:{title:t.$t("return_value"),visible:t.dialogVisible,width:"620px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{attrs:{id:"retVal"}},[t._v("\n      "+t._s(t.testResult)+"\n    ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.testResult,expression:"testResult",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"addBtn",staticStyle:{"font-size":"20px",padding:"10px 20px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("Copy")))])],1)])],1)},i=[],r=a("0a3f"),n=r["a"],o=(a("6639"),a("2877")),c=Object(o["a"])(n,s,i,!1,null,"6c1093d8",null);e["default"]=c.exports},"5d58":function(t,e,a){t.exports=a("d8d6")},6639:function(t,e,a){"use strict";var s=a("bd93"),i=a.n(s);i.a},"67bb":function(t,e,a){t.exports=a("f921")},7618:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var s=a("5d58"),i=a.n(s),r=a("67bb"),n=a.n(r);function o(t){return o="function"===typeof n.a&&"symbol"===typeof i.a?function(t){return typeof t}:function(t){return t&&"function"===typeof n.a&&t.constructor===n.a&&t!==n.a.prototype?"symbol":typeof t},o(t)}function c(t){return c="function"===typeof n.a&&"symbol"===o(i.a)?function(t){return o(t)}:function(t){return t&&"function"===typeof n.a&&t.constructor===n.a&&t!==n.a.prototype?"symbol":o(t)},c(t)}},"9b19":function(t,e,a){},bd93:function(t,e,a){},e073a:function(t,e,a){"use strict";var s=a("9b19"),i=a.n(s);i.a},f6d4:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:t.action,"show-file-list":!1,"before-upload":t.beforeUpload,"auto-upload":!0,drag:"",multiple:""}},[t.imageUrl&&t.isShow?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("span",[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.fileName,expression:"!fileName"}],staticClass:"el-icon-upload avatar-uploader-icon"}),a("span",[t._v(t._s(t.$t("Drag_and_Drop_file")))])]),t.imageUrl?t._e():a("p",{staticClass:"pdfFile",on:{click:t.viewfile}},[t._v(t._s(t.fileName))])]),a("el-dialog",{attrs:{title:t.$t("Picture_Clipping"),visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"cropper-content"},[a("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[a("VueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.size,outputType:t.option.outputType,info:!0,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber,centerBox:t.option.centerBox,infoTrue:t.option.infoTrue,fixedBox:t.option.fixedBox}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.finish}},[t._v(t._s(t.$t("Confirm")))])],1)])],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("7f7f"),a("7618")),n=(a("96cf"),a("3b8d")),o=a("bd86"),c=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach(function(e){Object(o["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={props:{url:{type:String,default:""},fileType:{type:String,default:""},excelOnlineName:{type:String,default:""},isAvatar:{type:String,default:""},isShow:{type:Boolean,default:!0},fixedNumberList:{type:Array,default:[7,5]}},data:function(){return{action:window.BASE_URL+"/v1/upload/dtxFile",file:"",fileName:"",fileData:"",imageUrl:"",dialogVisible:!1,option:{img:"",info:!0,outputSize:.8,outputType:"png",canScale:!1,autoCrop:!0,fixedBox:!1,fixed:!1,fixedNumber:[7,5],full:!0,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!0},fileinfo:"",picsList:[],loading:!1}},computed:_({},Object(c["c"])(["AccountData"]),{onlineImageUrl:function(){this.url&&(this.imageUrl=this.url),this.excelOnlineName&&(this.fileName="Price.xls",this.fileData=this.excelOnlineName)}}),watch:{onlineImageUrl:function(t){},isAvatar:function(t){"ok"==t&&(this.imageUrl="")}},created:function(){},methods:{getUploadFile1:function(t){},getUploadFile:function(t,e){var a=this,s=t.raw;this.fileinfo=t;var i=new FileReader;i.onload=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s="object"===Object(r["a"])(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result],{type:"image/jpeg"})):e.target.result,a.option.img=s,a.dialogVisible=!0;case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),i.readAsArrayBuffer(s),this.option.fixedNumber=this.fixedNumberList},changeUpload:function(t,e){var a=this,s=t.size/1024/1024<5;if(!s)return this.$message.error("上传文件大小不能超过 5MB!"),!1;this.fileinfo=t,this.$nextTick(function(){try{a.option.imgObject=t}catch(e){a.option.img=window.URL.createObjectURL(t)}a.dialogVisible=!0})},finish:function(){var t=this;this.$refs.cropper.getCropBlob(function(e){var a=new FormData;a.append("file",new window.File([e],"cropper"+t.fileinfo.raw.name,{type:t.fileinfo.raw.type})),t.imageUrl=URL.createObjectURL(a.get("file")),t.$emit("GetUpload",a.get("file")),t.dialogVisible=!1})},beforeUpload:function(t){if("image"==this.fileType)var e="png"==t.name.split(".").slice(-1)[0]||"jpg"==t.name.split(".").slice(-1)[0]||"jpeg"==t.name.split(".").slice(-1)[0]||"svg"==t.name.split(".").slice(-1)[0];else e="pdf"==t.name.split(".").slice(-1)[0]||"png"==t.name.split(".").slice(-1)[0]||"jpg"==t.name.split(".").slice(-1)[0]||"jpeg"==t.name.split(".").slice(-1)[0]||"gif"==t.name.split(".").slice(-1)[0]||"svg"==t.name.split(".").slice(-1)[0]||"xlsx"==t.name.split(".").slice(-1)[0]||"xls"==t.name.split(".").slice(-1)[0]||void 0;if(e){if("pdf"==t.name.split(".").slice(-1)||"xlsx"==t.name.split(".").slice(-1)||"xls"==t.name.split(".").slice(-1)){this.fileName=t.name,this.imageUrl="";var a=new FileReader;a.readAsDataURL(t);var s=this;return a.onload=function(){s.fileData=a.result},this.$emit("GetUpload",t),!1}this.fileName="",this.fileData="",this.imageUrl=URL.createObjectURL(t),this.$emit("GetUpload",t),this.$emit("show",!0);var i=t.size/1024/1024<5;return i||this.$alert("上传图片大小不能超过 5MB!","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),i}this.$alert("Document does not comply!","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}})},viewfile:function(){var t=window.open();t.document.write('<body style="margin:0px;"><object data="'+this.fileData+'" type="application/pdf" width="100%" height="100%"><iframe src="'+this.fileData+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},u=p,d=(a("e073a"),a("2877")),m=Object(d["a"])(u,s,i,!1,null,"e535f140",null);e["a"]=m.exports}}]);