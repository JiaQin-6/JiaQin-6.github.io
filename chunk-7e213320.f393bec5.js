(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e213320"],{"4ea2":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploadPDF_container"},[i("div",{staticClass:"uploadPDF_main"},t._l(t.previewPdfList,function(e,n){return i("div",{key:n,staticClass:"pdfFile"},[i("div",{staticClass:"flex-row align-center"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"pdfName",on:{click:function(i){return t.viewfile(e)}}},[t._v(t._s(e.split("/").pop()))]),i("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removePdf(n)}}})])])}),0),i("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:"",multiple:"",limit:5,"before-upload":t.beforeUpload,drag:""}},[i("i",{staticClass:"el-icon-upload avatar-uploader-icon"}),i("p",[t._v(t._s(t.$t("Drag_and_Drop_file")))])])],1)},s=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("28a5"),i("96cf"),i("3b8d")),o=i("bd86"),r=i("2f62");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){Object(o["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var _={props:{url_list:{require:!0,type:Array}},data:function(){return{previewPdfList:[]}},computed:l({},Object(r["c"])(["AccountData"])),watch:{},methods:{beforeUpload:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i="pdf"==e.name.split(".").slice(-1),i){t.next=6;break}return this.$alert(this.$t("select_pdf"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),t.abrupt("return",!1);case 6:if(!(this.previewPdfList.length>=6)){t.next=11;break}return this.$message.warning("Upload up to 6 templates"),t.abrupt("return",!1);case 11:if(!i){t.next=30;break}return this.V_loading=!0,n=new FormData,n.append("file",e),n.append("path",this.AccountData.dtxAccountId+"/"+this.AccountData.subId+"/documentPdf/eng"),n.append("permissionsType","publicUpload"),t.prev=17,t.next=20,this.$http.DtxFile(n);case 20:s=t.sent,200==s.data.status?(this.previewPdfList.push(s.data.data[0]),this.$emit("getUrl",this.previewPdfList)):this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](17),this.V_loading=!1,this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});case 29:return t.abrupt("return",!1);case 30:case"end":return t.stop()}},t,this,[[17,25]])}));function e(e){return t.apply(this,arguments)}return e}(),removePdf:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.previewPdfList.splice(e,1),this.$emit("getUrl",this.previewPdfList);case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),viewfile:function(t){var e=window.open();e.document.write('<body style="margin:0px;"><object data="'+t+'" type="application/pdf" width="100%" height="100%"><iframe src="'+t+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},m=_,u=(i("c14c"),i("2877")),d=Object(u["a"])(m,n,s,!1,null,"d1b541ae",null);e["a"]=d.exports},5541:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.V_loading,expression:"V_loading"}],staticClass:"container"},[i("div",{staticClass:"main"},[i("div",{staticClass:"main_wrap"},[i("el-page-header",{attrs:{content:"email"==t.document_type?"Email Creator":"sms"==t.document_type?"SMS Creator":"csv"==t.document_type?"CSV Creator":"pdf"==t.document_type?"Document/PDF Creator":"Underwriting Json Creator"},on:{back:t.goBack}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.createNewDocument}},[t._v("Create\n        "+t._s("email"==t.document_type?"Email":"sms"==t.document_type?"SMS":"csv"==t.document_type?"CSV":"pdf"==t.document_type?"Document/PDF":"Underwriting Json")+"\n        Document")])],1),i("div",{staticClass:"main-list"},[i("div",{staticClass:"main-list-headed"},[i("ul",[i("li",{class:{select:""==t.document_sort},on:{click:function(e){t.document_sort=""}}},[t._v("\n            All ("+t._s(t.document_list.length)+")\n          ")]),i("li",{class:{select:1==t.document_sort},on:{click:function(e){t.document_sort=1}}},[t._v("\n            Online ("+t._s(t.getProductStatusNum(1))+")\n          ")]),i("li",{class:{select:2==t.document_sort},on:{click:function(e){t.document_sort=2}}},[t._v("\n            Offline ("+t._s(t.getProductStatusNum(2))+")\n          ")]),i("li",{class:{select:3==t.document_sort},on:{click:function(e){t.document_sort=3}}},[t._v("\n            Draft ("+t._s(t.getProductStatusNum(3))+")\n          ")])]),i("div",{staticClass:"trash"},[i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(e){t.document_sort=5}}},[t._v("trash("+t._s(t.trash_document_list.length)+")")]),"csv"!=t.document_type?i("el-select",{attrs:{placeholder:"Select"},on:{change:t.changeLang},model:{value:t.document_list_lang,callback:function(e){t.document_list_lang=e},expression:"document_list_lang"}},t._l(t.LanguageListData,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.language,value:t.name}})}),1):t._e()],1)]),i("el-table",{staticStyle:{width:"100%"},attrs:{height:"450",data:t.getProductList}},[i("el-table-column",{attrs:{label:"Name",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.msgName?i("span",[t._v(t._s(e.row.msgName))]):t._e(),e.row.templateName?i("span",[t._v(t._s(e.row.templateName))]):t._e()]}}])}),i("el-table-column",{attrs:{label:"Status",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{style:{color:1===e.row.status?"#27AE60":2===e.row.status?"#EB5757":"#828282"}},[t._v(t._s(t._f("getDocumentStatus")(e.row.status)))])]}}])}),i("el-table-column",{attrs:{label:"DI",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.productName&&t.product_options?JSON.parse(t.product_options.filter(function(t){return t.productId===e.row.productId})[0].productData).name:"-"))])]}}])}),"email"===t.document_type?i("el-table-column",{attrs:{label:"Type"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(1===e.row.type?t.$t("Voucher"):2===e.row.type?t.$t("Company"):t.$t("Products")))])]}}],null,!1,2242996891)}):t._e(),i("el-table-column",{attrs:{label:"Last Update"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.updatedTs?i("span",[t._v(t._s(t.GetDateformat(t.getSystemTimeToNewTime(new Date(e.row.updatedTs)))))]):t._e(),e.row.updateTime?i("span",[t._v(t._s(t.GetDateformat(t.getSystemTimeToNewTime(new Date(e.row.updateTime)))))]):t._e()]}}])}),i("el-table-column",{attrs:{label:"Action",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[5!==t.document_sort?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v("Setup")]):t._e(),5!==t.document_sort?i("el-dropdown",{staticStyle:{"margin-right":"5px"},on:{command:function(i){t.handleCommand(i,e.row)}}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                More"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:1}},[t._v("Duplicate")]),i("el-dropdown-item",{attrs:{command:2}},[t._v("Send a test")]),i("el-dropdown-item",{attrs:{command:3}},[t._v("Move to Trash")])],1)],1):t._e(),5!==t.document_sort&&"csv"!==t.document_type?i("el-dropdown",{on:{command:function(i){t.handleCommandLang(i,e.row)}}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                Add language"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.getMoreLangList(e.row),function(e,n){return i("el-dropdown-item",{key:n+"command",attrs:{command:e.name}},[t._v(t._s(e.language))])}),1)],1):t._e(),5===t.document_sort?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.restoreSms(e.row.id,e.row)}}},[t._v("Restore Document")]):t._e()]}}])})],1)],1)]),t.email_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(0),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.email_dialog_visible=!1}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goVisualBuildDocument("email")}}},[t._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"more-lang fs-14 blue"},[t._v("\n        "+t._s(t.LanguageListData.filter(function(e){return e.name==t.email_form.email_lang})[0].language)+"\n      ")]),i("h3",[t._v("Set up your email")]),i("ul",[i("li",[t._m(1),i("el-select",{attrs:{placeholder:"Select",disabled:!!t.email_form.email_documentId},on:{change:function(e){t.need_bing_type="pdf",1===e&&(t.email_form.email_bing_keyWord_list=[].concat(t.eVoucher_keyword_list))}},model:{value:t.email_form.email_type,callback:function(e){t.$set(t.email_form,"email_type",e)},expression:"email_form.email_type"}},t._l([{value:0,label:"For product"},{value:1,label:"For eVoucher"},{value:2,label:"For company"}],function(t,e){return i("el-option",{key:e+"type",attrs:{label:t.label,value:t.value}})}),1)],1),i("li",[t._m(2),i("el-input",{model:{value:t.email_form.email_name,callback:function(e){t.$set(t.email_form,"email_name",e)},expression:"email_form.email_name"}}),i("strong",[t._v("Give your email document an internal name to help organize and\n            locate it easily within your account. For example:\n            'Sale_October'")])],1),i("li",[i("el-checkbox",{model:{value:t.email_form.email_bing_status,callback:function(e){t.$set(t.email_form,"email_bing_status",e)},expression:"email_form.email_bing_status"}},[t._v("Connect DI")]),t.email_form.email_bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.product_options.map(function(i){e==i.productId&&(t.email_form.email_bing_productName=JSON.parse(i.productData).name,t.email_form.email_bing_keyWord_list=0===t.email_form.email_type||2===t.email_form.email_type?JSON.parse(i.productData).keywordSocketList:t.email_form.email_bing_keyWord_list)}),t.getBindingPdf(t.email_form.email_lang,e,t.email_form.email_id)}},model:{value:t.email_form.email_bing_product,callback:function(e){t.$set(t.email_form,"email_bing_product",e)},expression:"email_form.email_bing_product"}},t._l(t.product_options,function(t,e){return i("el-option",{key:e+"list",attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1):t._e()],1),i("li",[i("p",[t._v("Attachment")]),i("div",{staticClass:"btn"},[i("el-button",{on:{click:function(e){t.attach_pdfList_dialog_visible=!0}}},[t._v("Attach Upload Document")]),i("el-button",{on:{click:function(e){t.attach_upload_dialog_visible=!0}}},[t._v("Attach By Document Editor")])],1),i("div",{staticClass:"tag-pdf mt-10"},[t._l(t.email_form.email_bing_pdfList,function(e){return i("el-tag",{key:e,staticClass:"mr-10",attrs:{closable:""}},[t._v("\n              "+t._s(t.attach_pdf_list.dtxPdfFileList.filter(function(t){return e==t.id})[0].templateName)+"\n            ")])}),t._l(t.email_form.email_bing_csvList,function(e){return i("el-tag",{key:e,staticClass:"mr-10",attrs:{closable:""}},[t._v("\n              "+t._s(t.attach_pdf_list.csvResponseList.filter(function(t){return e==t.csvId})[0].csvSheetName)+"\n            ")])}),t._l(t.email_form.email_bing_jsonList,function(e){return i("el-tag",{key:e,staticClass:"mr-10",attrs:{closable:""}},[t._v("\n              "+t._s(t.attach_pdf_list.dtxJsonResponseList.filter(function(t){return e==t.id})[0].jsonName)+"\n            ")])}),t._l(t.email_form.email_bing_upload_list,function(e,n){return i("el-tag",{key:n+"tag",staticClass:"mr-10",attrs:{closable:""}},[t._v("\n              "+t._s(e.split("/").pop())+"\n            ")])})],2)]),i("li",[i("p",[t._v("Subject Line")]),i("el-input",{attrs:{placeholder:"Subject Line"},model:{value:t.email_form.email_subject_line,callback:function(e){t.$set(t.email_form,"email_subject_line",e)},expression:"email_form.email_subject_line"}}),i("strong",[t._v("Write a subject line that clearly describes your email content.\n            It will be visible in your recipient's inbox and is the first\n            content they will see. For example: 'Insurance Policy\n          ")])],1),i("li",[i("p",[t._v("Preview Text")]),i("el-input",{attrs:{placeholder:"Preview Text"},model:{value:t.email_form.email_preview_text,callback:function(e){t.$set(t.email_form,"email_preview_text",e)},expression:"email_form.email_preview_text"}}),i("strong",[t._v("Write a short text (about 35 characters) that gives an overview\n            of the content of your email. This will significantly increase\n            your opening rate. This feature is supported by most email\n            clients, like Gmail and Yahoo. The text will be displayed in your\n            recipient's inbox, just below the subject.")])],1),2===t.email_form.email_type?i("li",[i("p",[t._v("Email Receiver")]),i("el-select",{attrs:{placeholder:"Select"},model:{value:t.email_form.email_receiver,callback:function(e){t.$set(t.email_form,"email_receiver",e)},expression:"email_form.email_receiver"}},t._l(t.contact_list,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.email,value:t.email}})}),1)],1):t._e(),i("li",{directives:[{name:"show",rawName:"v-show",value:0===t.email_form.email_type,expression:"email_form.email_type === 0"}]},[i("p",[t._v("Addresser")]),i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.dtxInsurersDept.map(function(i){e==i.email&&(t.email_form.email_from_name=i.deptName)})}},model:{value:t.email_form.email_from_email,callback:function(e){t.$set(t.email_form,"email_from_email",e)},expression:"email_form.email_from_email"}},t._l(t.dtxInsurersDept,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.email,value:t.email}})}),1),i("strong",[t._v("Choose the email address to be shown in your recipients inbox\n            when they receive your email")])],1),i("li",{directives:[{name:"show",rawName:"v-show",value:t.email_form.email_from_email,expression:"email_form.email_from_email"}]},[i("p",[t._v("Addresser Name")]),i("el-input",{attrs:{disabled:""},model:{value:t.email_form.email_from_name,callback:function(e){t.$set(t.email_form,"email_from_name",e)},expression:"email_form.email_from_name"}})],1)])])]):t._e(),t.pdf_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(3),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.pdf_dialog_visible=!1}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goVisualBuildDocument("pdf")}}},[t._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"more-lang"},[i("el-select",{attrs:{placeholder:"Select",disabled:!!t.pdf_form.pdf_id},model:{value:t.pdf_form.pdf_lang,callback:function(e){t.$set(t.pdf_form,"pdf_lang",e)},expression:"pdf_form.pdf_lang"}},t._l(t.LanguageListData,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.language,value:t.name}})}),1)],1),i("h3",[t._v("Set up your pdf")]),i("ul",[i("li",[i("p",[t._v("PDF Document Name")]),i("el-input",{model:{value:t.pdf_form.pdf_name,callback:function(e){t.$set(t.pdf_form,"pdf_name",e)},expression:"pdf_form.pdf_name"}})],1),i("li",[i("el-checkbox",{model:{value:t.pdf_form.pdf_bing_status,callback:function(e){t.$set(t.pdf_form,"pdf_bing_status",e)},expression:"pdf_form.pdf_bing_status"}},[t._v("Connect DI")]),t.pdf_form.pdf_bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.product_options.map(function(i){e==i.productId&&(t.pdf_form.pdf_bing_productName=JSON.parse(i.productData).name,t.pdf_form.pdf_bing_keyWord_list=JSON.parse(i.productData).keywordSocketList)})}},model:{value:t.pdf_form.pdf_bing_product,callback:function(e){t.$set(t.pdf_form,"pdf_bing_product",e)},expression:"pdf_form.pdf_bing_product"}},t._l(t.product_options,function(t,e){return i("el-option",{key:e+"list",attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1):t._e()],1),i("li",[i("p",[t._v("File Name")]),i("el-input",{model:{value:t.pdf_form.pdf_file_name,callback:function(e){t.$set(t.pdf_form,"pdf_file_name",e)},expression:"pdf_form.pdf_file_name"}})],1)])])]):t._e(),t.csv_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(4),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.csv_dialog_visible=!1}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goVisualBuildDocument("csv")}}},[t._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("h3",[t._v("Set up your csv")]),i("ul",[i("li",[i("p",[t._v("CSV Document Name")]),i("el-input",{model:{value:t.csv_form.csv_name,callback:function(e){t.$set(t.csv_form,"csv_name",e)},expression:"csv_form.csv_name"}})],1),i("li",[i("p",[t._v("CSV Document File Name")]),i("el-input",{model:{value:t.csv_form.csv_file_name,callback:function(e){t.$set(t.csv_form,"csv_file_name",e)},expression:"csv_form.csv_file_name"}})],1),i("li",[i("el-checkbox",{model:{value:t.csv_form.csv_bing_status,callback:function(e){t.$set(t.csv_form,"csv_bing_status",e)},expression:"csv_form.csv_bing_status"}},[t._v("Connect DI")]),t.csv_form.csv_bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.product_options.map(function(i){e==i.productId&&(t.csv_form.csv_bing_productName=JSON.parse(i.productData).name,t.csv_form.csv_bing_keyWord_list=JSON.parse(i.productData).keywordSocketList)})}},model:{value:t.csv_form.csv_bing_product,callback:function(e){t.$set(t.csv_form,"csv_bing_product",e)},expression:"csv_form.csv_bing_product"}},t._l(t.product_options,function(t,e){return i("el-option",{key:e+"list",attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1):t._e()],1),i("li",[i("p",[t._v("CSV Sheet Name")]),i("el-input",{model:{value:t.csv_form.csv_sheet_name,callback:function(e){t.$set(t.csv_form,"csv_sheet_name",e)},expression:"csv_form.csv_sheet_name"}})],1),i("li",[i("p",[t._v("CSV Email Subject")]),i("el-input",{model:{value:t.csv_form.csv_email_subject,callback:function(e){t.$set(t.csv_form,"csv_email_subject",e)},expression:"csv_form.csv_email_subject"}})],1),i("li",[i("p",[t._v("To Email")]),i("el-select",{attrs:{placeholder:"Select"},model:{value:t.csv_form.csv_email_to,callback:function(e){t.$set(t.csv_form,"csv_email_to",e)},expression:"csv_form.csv_email_to"}},t._l(t.contact_list,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.email,value:t.email}})}),1),i("strong",[t._v("Choose the email address to be shown in your recipients inbox\n            when they receive your email")])],1),i("li",[i("p",[t._v("Cc Email")]),i("el-select",{attrs:{placeholder:"Select"},model:{value:t.csv_form.csv_email_cc,callback:function(e){t.$set(t.csv_form,"csv_email_cc",e)},expression:"csv_form.csv_email_cc"}},t._l(t.contact_list,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.email,value:t.email}})}),1),i("strong",[t._v("Choose the email address to be shown in your recipients inbox\n            when they receive your email")])],1)])])]):t._e(),t.csv_create_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(5),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.addProductCsvTemplate(3)}}},[t._v("Save & Quit")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addProductCsvTemplate(2)}}},[t._v("Confirm")])],1)]),i("div",{staticClass:"set-up-content editTool-table-content"},[i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{on:{click:function(e){t.csv_create_dialog_visible=!1}}},[t._v("Back")])],1),i("div",{staticClass:"editTool-table"},[i("ul",t._l(t.csv_form.csvColumnList,function(e,n){return i("li",{key:n},[i("p",{staticClass:"title"},[i("span",[t._v(t._s(t.MathToLetter(n)))]),i("em",[i("i",{staticClass:"el-icon-delete-solid",on:{click:function(){t.pdf_form.csvColumnList.splice(n,1)}}}),i("i",{staticClass:"el-icon-circle-plus",on:{click:function(){t.pdf_form.csvColumnList.splice(n+1,0,{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""})}}})])]),i("p",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.columnName,expression:"item.columnName"}],staticClass:"input",attrs:{type:"text",placeholder:"Title"},domProps:{value:e.columnName},on:{input:function(i){i.target.composing||t.$set(e,"columnName",i.target.value)}}})]),i("p",[i("el-select",{attrs:{placeholder:"KeyWord"},model:{value:e.columnKeyWord,callback:function(i){t.$set(e,"columnKeyWord",i)},expression:"item.columnKeyWord"}},t._l(t.pdf_form.pdf_bing_keyWord_list,function(t,e){return i("el-option",{key:e,attrs:{label:t.placeholder_name,value:t.placeholder}})}),1)],1),i("p",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.columnFunction,expression:"item.columnFunction"}],staticClass:"input",attrs:{type:"text",placeholder:"Formula"},domProps:{value:e.columnFunction},on:{input:function(i){i.target.composing||t.$set(e,"columnFunction",i.target.value)}}}),i("strong",[t._v("eg: B+C")])])])}),0)])])]):t._e(),t.sms_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(6),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.sms_dialog_visible=!1}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goVisualBuildDocument("sms")}}},[t._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"more-lang fs-14 blue"},[t._v("\n        "+t._s(t.LanguageListData.filter(function(e){return e.name==t.sms_form.sms_lang})[0].language)+"\n      ")]),i("h3",[t._v("Set up your sms")]),i("ul",[i("li",[i("p",[t._v("SMS Document Name")]),i("el-input",{model:{value:t.sms_form.sms_name,callback:function(e){t.$set(t.sms_form,"sms_name",e)},expression:"sms_form.sms_name"}}),i("strong",[t._v("Give your SMS document an internal name to help organize and\n            locate it easily within your account. For example:\n            'Sale_October'")])],1),i("li",[i("el-checkbox",{model:{value:t.sms_form.sms_bing_status,callback:function(e){t.$set(t.sms_form,"sms_bing_status",e)},expression:"sms_form.sms_bing_status"}},[t._v("Connect DI")]),t.sms_form.sms_bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.product_options.map(function(i){e==i.productId&&(t.sms_form.sms_bing_productName=JSON.parse(i.productData).name,t.sms_form.sms_bing_keyWord_list=JSON.parse(i.productData).keywordSocketList)})}},model:{value:t.sms_form.sms_bing_product,callback:function(e){t.$set(t.sms_form,"sms_bing_product",e)},expression:"sms_form.sms_bing_product"}},t._l(t.product_options,function(t,e){return i("el-option",{key:e+"list",attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1):t._e()],1),i("li",[i("div",{staticClass:"sms-message"},[i("span",[t._v("SMS Message")]),i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectPlaceholder}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                Placeholder"),i("i",{staticClass:"el-icon-circle-plus-outline"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.sms_form.sms_bing_keyWord_list,function(e,n){return i("el-dropdown-item",{key:n,attrs:{command:e.placeholder}},[t._v(t._s(e.placeholder_name))])}),1)],1)],1),i("el-input",{attrs:{type:"textarea","show-word-limit":""},model:{value:t.sms_form.sms_bing_content,callback:function(e){t.$set(t.sms_form,"sms_bing_content",e)},expression:"sms_form.sms_bing_content"}})],1)])])]):t._e(),t.sms_preview_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(7),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.DocumentInfo.sms_addLang?t.addSmsLangTemplate(t.document_type,3):t.editSmsTemplate(t.document_type,3)}}},[t._v("Save & Quit")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.DocumentInfo.sms_addLang?t.addSmsLangTemplate(t.document_type,2):t.editSmsTemplate(t.document_type,2)}}},[t._v("Confirm")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"preview"},[i("h3",[t._v("Preview")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.sms_dialog_visible=!0,t.sms_preview_dialog_visible=!1}}},[t._v("Edit the document content")])],1),i("ul",[i("li",[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("span",[t._v("Document Name：")]),i("span",[t._v(t._s(t.DocumentInfo.sms_name))])]),i("div",{staticClass:"form-row"},[i("span",[t._v("Document Content：")]),i("span",[t._v(t._s(t.DocumentInfo.sms_bing_content))])])])]),i("li",[t._m(8),i("p",{staticStyle:{"margin-bottom":"40px"}},[t._v("\n            Verify that you are sending the test SMS to an existing contact in\n            your database with a mobile phone number saved in the 'SMS' field\n            and who is not blacklisted for SMS campaigns. The cost of sending\n            your test SMS will be deducted from your SMS credits.\n          ")]),i("p",[t._v("Test SMS recipient")]),i("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.test_sms.test_sms_phone,callback:function(e){t.$set(t.test_sms,"test_sms_phone",e)},expression:"test_sms.test_sms_phone"}},t._l(t.contact_list,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.phone,value:t.phoneCountryCode+"+"+t.phone}})}),1),i("strong",[t._v("Provide SMS address that will recrive test sends.")])],1)])])]):t._e(),t.underwriting_json_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(9),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.underwriting_json_dialog_visible=!1}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goVisualBuildDocument("underwriting")}}},[t._v("Next")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"more-lang fs-14 blue"},[t._v("\n        "+t._s(t.LanguageListData.filter(function(e){return e.name==t.underwriting_json_form.underwriting_json_lang})[0].language)+"\n      ")]),i("h3",[t._v("Set up your underwriting json")]),i("ul",[i("li",[t._m(10),i("el-input",{model:{value:t.underwriting_json_form.underwriting_json_name,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_name",e)},expression:"underwriting_json_form.underwriting_json_name"}}),i("strong",[t._v("Give your Underwriting document an internal name to help organize\n            and locate it easily within your account. For example:\n            'Sale_October'")])],1),i("li",[t._m(11),i("el-input",{model:{value:t.underwriting_json_form.underwriting_json_zip_name,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_zip_name",e)},expression:"underwriting_json_form.underwriting_json_zip_name"}})],1),i("li",[t._m(12),i("el-input",{model:{value:t.underwriting_json_form.underwriting_json_file_name,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_file_name",e)},expression:"underwriting_json_form.underwriting_json_file_name"}})],1),i("li",[i("el-checkbox",{model:{value:t.underwriting_json_form.underwriting_json_bing_status,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_bing_status",e)},expression:"underwriting_json_form.underwriting_json_bing_status"}},[t._v("Connect DI")]),t.underwriting_json_form.underwriting_json_bing_status?i("el-select",{attrs:{placeholder:"Select"},on:{change:function(e){t.product_options.map(function(i){e==i.productId&&(t.underwriting_json_form.underwriting_json_bing_productName=JSON.parse(i.productData).name,t.underwriting_json_form.underwriting_json_bing_keyWord_list=JSON.parse(i.productData).keywordSocketList)})}},model:{value:t.underwriting_json_form.underwriting_json_bing_product,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_bing_product",e)},expression:"underwriting_json_form.underwriting_json_bing_product"}},t._l(t.product_options,function(t,e){return i("el-option",{key:e+"list",attrs:{label:JSON.parse(t.productData).name,value:t.productId}})}),1):t._e()],1),i("li",[i("div",{staticClass:"sms-message"},[t._m(13),i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectQuestionJsonPlaceholder}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                Placeholder"),i("i",{staticClass:"el-icon-circle-plus-outline"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.underwriting_json_form.underwriting_json_bing_keyWord_list.concat([{placeholder:"##insuredPersonList##{{ {} }}##insuredPersonList##",placeholder_name:"Multiple insured keyWord"},{placeholder:"##underwritingQuestion##",placeholder_name:"Underwriting question"}]),function(e,n){return i("el-dropdown-item",{key:n,attrs:{command:e.placeholder}},[t._v(t._s(e.placeholder_name))])}),1)],1)],1),i("el-input",{attrs:{type:"textarea","show-word-limit":""},model:{value:t.underwriting_json_form.underwriting_json_bing_content,callback:function(e){t.$set(t.underwriting_json_form,"underwriting_json_bing_content",e)},expression:"underwriting_json_form.underwriting_json_bing_content"}})],1)])])]):t._e(),t.underwriting_json_preview_dialog_visible?i("div",{staticClass:"set-up"},[i("div",{staticClass:"set-up-headed"},[t._m(14),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.DocumentInfo.underwriting_json_addLang?t.addSmsLangTemplate(t.DocumentInfo.type,3):t.editSmsTemplate(t.DocumentInfo.type,3)}}},[t._v("Save & Quit")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.DocumentInfo.underwriting_json_addLang?t.addSmsLangTemplate(t.DocumentInfo.type,2):t.editSmsTemplate(t.DocumentInfo.type,2)}}},[t._v("Confirm")])],1)]),i("div",{staticClass:"set-up-content"},[i("div",{staticClass:"preview"},[i("h3",[t._v("Preview")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.underwriting_json_dialog_visible=!0,t.underwriting_json_preview_dialog_visible=!1}}},[t._v("Edit the document content")])],1),i("ul",[i("li",[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("span",[t._v("Document Name：")]),i("span",[t._v(t._s(t.DocumentInfo.underwriting_json_name))])]),i("div",{staticClass:"form-row"},[i("span",[t._v("Document Content：")]),i("span",[t._v(t._s(t.DocumentInfo.underwriting_json_bing_content))])])])])])])]):t._e(),i("el-dialog",{staticClass:"test_email",attrs:{title:"Test Email",visible:t.test_email_dialog,width:"500px"},on:{"update:visible":function(e){t.test_email_dialog=e}}},[i("div",{staticClass:"test_email_content"},[t.test_email_dialog_show_tag?i("div",{staticClass:"success-tag"},t._l([{name:"Test email sent successful",type:"success"}],function(e){return i("el-tag",{key:e.name,attrs:{closable:"",type:e.type},on:{close:function(e){t.test_email_dialog_show_tag=!1}}},[i("i",{staticClass:"el-icon-circle-check"}),i("span",[t._v(t._s(e.name))])])}),1):t._e(),i("p",[t._v("Test email recipient")]),i("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"me@domain.com, colleague@domain.com, etc."},model:{value:t.test_email.test_email_value,callback:function(e){t.$set(t.test_email,"test_email_value",e)},expression:"test_email.test_email_value"}},t._l(t.contact_list,function(t){return i("el-option",{key:t.email,attrs:{label:t.email,value:t.email}})}),1),i("strong",[t._v("Provide email address that will recrive test sends.")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.sendTestEmail}},[t._v("Send a Test")])],1)],1)]),i("el-dialog",{staticClass:"test_email",attrs:{title:"Test SMS",visible:t.test_sms_dialog,width:"500px"},on:{"update:visible":function(e){t.test_sms_dialog=e}}},[i("div",{staticClass:"test_email_content"},[t.test_sms_dialog_show_tag?i("div",{staticClass:"success-tag"},t._l([{name:"Test sms sent successful",type:"success"}],function(e){return i("el-tag",{key:e.name,attrs:{closable:"",type:e.type},on:{close:function(e){t.test_sms_dialog_show_tag=!1}}},[i("i",{staticClass:"el-icon-circle-check"}),i("span",[t._v(t._s(e.name))])])}),1):t._e(),i("p",[t._v("Test sms recipient")]),i("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.test_sms.test_sms_phone,callback:function(e){t.$set(t.test_sms,"test_sms_phone",e)},expression:"test_sms.test_sms_phone"}},t._l(t.contact_list,function(t,e){return i("el-option",{key:e+"list",attrs:{label:t.phone,value:t.phoneCountryCode+"+"+t.phone}})}),1),i("strong",[t._v("Provide SMS address that will recrive test sends.")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendSmsByPhone(t.test_sms.test_sms_templateContent)}}},[t._v("Send a Test")])],1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.attach_pdfList_dialog_visible||t.attach_upload_dialog_visible,expression:"attach_pdfList_dialog_visible || attach_upload_dialog_visible"}],staticClass:"attach-document"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.attach_pdfList_dialog_visible,expression:"attach_pdfList_dialog_visible"}],staticClass:"pdf-list absolute"},[i("div",{staticClass:"headed flex-row space-between align-center mb-10"},[i("h3",{staticClass:"fs-16"},[t._v("Document Editor")]),i("i",{staticClass:"el-icon-close fs-20 pointer",on:{click:function(e){t.attach_pdfList_dialog_visible=!1}}})]),i("el-input",{attrs:{"prefix-icon":"el-icon-search"},on:{input:function(t){}},model:{value:t.searchBindFont,callback:function(e){t.searchBindFont=e},expression:"searchBindFont"}}),i("div",{staticClass:"connect-DI flex-row space-between align-center mt-10"},[i("span",{staticClass:"fs-15"},[t._v("Connect DI")]),i("span",{staticClass:"fs-12"},[t._v("Selected\n          "+t._s(t.email_form.email_bing_pdfList&&t.email_form.email_bing_pdfList.length)+"\n          of\n          ")])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"bg-light-gray mb-10",staticStyle:{width:"35%","margin-right":"2px"}},[i("ul",[i("li",{staticClass:"fs-14 pointer",staticStyle:{"text-align":"center"}},[i("p",{staticClass:"mt-8 mb-8",class:{blue:"pdf"==t.need_bing_type},on:{click:function(e){t.need_bing_type="pdf"}}},[t._v("\n                PDF\n              ")]),2==t.email_form.email_type?i("p",{staticClass:"mt-8 mb-8",class:{blue:"csv"==t.need_bing_type},on:{click:function(e){t.need_bing_type="csv"}}},[t._v("\n                CSV\n              ")]):t._e(),2==t.email_form.email_type?i("p",{staticClass:"mt-8 mb-8",class:{blue:"json"==t.need_bing_type},on:{click:function(e){t.need_bing_type="json"}}},[t._v("\n                JSON\n              ")]):t._e()])])]),i("div",{staticClass:"connect-DI-list bg-light-gray box-sizing plr-10 ptb-10 mb-10",staticStyle:{width:"65%",overflow:"auto"}},[i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"pdf"==t.need_bing_type,expression:"need_bing_type == 'pdf'"}],model:{value:t.email_form.email_bing_pdfList,callback:function(e){t.$set(t.email_form,"email_bing_pdfList",e)},expression:"email_form.email_bing_pdfList"}},t._l(t.searchBindFont?t.attach_pdf_list.dtxPdfFileList.filter(function(e){return-1!==e.templateName.indexOf(t.searchBindFont)}):t.attach_pdf_list.dtxPdfFileList,function(e){return i("el-checkbox",{key:e.id,staticClass:"mb-10",staticStyle:{display:"block"},attrs:{label:e.id}},[t._v(t._s(e.templateName))])}),1),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"csv"==t.need_bing_type,expression:"need_bing_type == 'csv'"}],model:{value:t.email_form.email_bing_csvList,callback:function(e){t.$set(t.email_form,"email_bing_csvList",e)},expression:"email_form.email_bing_csvList"}},t._l(t.searchBindFont?t.attach_pdf_list.csvResponseList.filter(function(e){return-1!==e.csvSheetName.indexOf(t.searchBindFont)}):t.attach_pdf_list.csvResponseList,function(e){return i("el-checkbox",{key:e.csvId,staticClass:"mb-10",staticStyle:{display:"block"},attrs:{label:e.csvId}},[t._v(t._s(e.csvSheetName))])}),1),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"json"==t.need_bing_type,expression:"need_bing_type == 'json'"}],model:{value:t.email_form.email_bing_jsonList,callback:function(e){t.$set(t.email_form,"email_bing_jsonList",e)},expression:"email_form.email_bing_jsonList"}},t._l(t.searchBindFont?t.attach_pdf_list.dtxJsonResponseList.filter(function(e){return-1!==e.jsonName.indexOf(t.searchBindFont)}):t.attach_pdf_list.dtxJsonResponseList,function(e){return i("el-checkbox",{key:e.id,staticClass:"mb-10",staticStyle:{display:"block"},attrs:{label:e.id}},[t._v(t._s(e.jsonName))])}),1)],1)]),i("div",{staticClass:"flex-row space-between align-center"},[i("el-button",{on:{click:function(e){t.attach_pdfList_dialog_visible=!1}}},[t._v("Cannel")]),i("el-button",{on:{click:function(e){t.attach_pdfList_dialog_visible=!1}}},[t._v("Confirm")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.attach_upload_dialog_visible,expression:"attach_upload_dialog_visible"}],staticClass:"document-upload absolute"},[i("div",{staticClass:"headed flex-row space-between align-center mb-10"},[i("h3",{staticClass:"fs-16"},[t._v("Document Editor")]),i("i",{staticClass:"el-icon-close fs-20 pointer",on:{click:function(e){t.attach_upload_dialog_visible=!1}}})]),i("div",[i("el-upload",{staticClass:"upload",attrs:{action:"",multiple:"",limit:10,"before-upload":t.beforeUpload,"file-list":t.file_list,"on-preview":t.handlePreview,"before-remove":t.beforeRemove}},[i("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("Drag_and_Drop_file")))])],1)],1)])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[t._v("Setup")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Setup/Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Email type"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Email Document Name"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[t._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[t._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",[t._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"blue"},[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[t._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",[t._v("Setup/Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"blue"},[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview"},[i("h3",[t._v("Send A Test SMS")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",{staticClass:"blue"},[t._v("Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",[t._v("Confirmation")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Underwriting Document Name"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Underwriting Document Zip Name"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Underwriting Document File Name"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("underwriting Document Message"),i("i",{staticClass:"hint"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Breadcrumb"},[i("span",[t._v("Setup/Design")]),i("i",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"blue"},[t._v("Confirmation")])])}],a=(i("8e6e"),i("28a5"),i("ac6a"),i("456d"),i("96cf"),i("3b8d")),o=(i("7f7f"),i("bd86")),r=i("2f62"),c=i("4ea2");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach(function(e){Object(o["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var m={components:{dragUpload:c["a"]},data:function(){return{V_loading:!1,document_list_lang:"",document_list:[],trash_document_list:[],document_type:"",document_sort:"",current_page:1,current_page_size:5,product_options:[],contact_list:[],email_dialog_visible:!1,pdf_dialog_visible:!1,sms_dialog_visible:!1,csv_dialog_visible:!1,underwriting_json_dialog_visible:!1,csv_create_dialog_visible:!1,underwriting_json_create_dialog_visible:!1,sms_preview_dialog_visible:!1,underwriting_json_preview_dialog_visible:!1,attach_pdfList_dialog_visible:!1,attach_upload_dialog_visible:!1,attach_pdf_list:[],eVoucher_keyword_list:[],email_form:{email_type:"",email_lang:"",email_id:"",email_documentId:"",email_name:"",email_bing_status:!1,email_bing_product:"",email_bing_productName:"",email_bing_keyWord_list:[],email_subject_line:"",email_preview_text:"",email_from_email:"",email_from_name:"",email_receiver:"",email_skeleton:[],email_bing_pdfList:[],email_bing_csvList:[],email_bing_jsonList:[],email_bing_upload_list:[]},pdf_form:{pdf_lang:"",pdf_id:"",pdf_documentId:"",pdf_name:"",pdf_bing_status:!1,pdf_bing_product:"",pdf_bing_productName:"",pdf_bing_keyWord_list:[],pdf_file_name:"",pdf_from_email:"",pdf_from_name:"",pdf_skeleton:[]},csv_form:{csv_id:"",csv_name:"",csv_sheet_name:"",csv_file_name:"",csv_email_subject:"",csv_email_to:"",csv_email_cc:"",csv_bing_status:!1,csv_bing_product:"",csv_bing_productName:"",csv_bing_keyWord_list:[],csvColumnList:[{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""},{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""},{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""}]},underwriting_json_form:{type:"underwriting",underwriting_json_lang:"",underwriting_json_addLang:!1,underwriting_json_id:"",underwriting_json_name:"",underwriting_json_zip_name:"",underwriting_json_file_name:"",underwriting_json_bing_status:!1,underwriting_json_bing_product:"",underwriting_json_bing_productName:"",underwriting_json_bing_keyWord_list:[],underwriting_json_bing_content:""},sms_form:{type:"sms",sms_lang:"",sms_addLang:!1,sms_id:"",sms_name:"",sms_bing_status:!1,sms_bing_product:"",sms_bing_productName:"",sms_bing_keyWord_list:[],sms_bing_content:""},test_email:{test_email_lang:"",test_email_value:[],test_email_title:"",test_email_pdf_name:"",test_email_templateContent:"",test_email_csvFileNameProduct:"",test_email_csvSheetName:"",test_email_csvColumnList:""},test_pdf:{test_pdf_value:""},test_sms:{test_sms_phone:[],test_sms_templateContent:""},test_email_dialog:!1,test_email_dialog_show_tag:!1,test_sms_dialog:!1,test_sms_dialog_show_tag:!1,allSocketIdList:[],documentJson:"",productSkeleton:"",file_list:[],searchBindFont:"",need_bing_type:"",dtxInsurersDept:[]}},computed:_({},Object(r["c"])(["AccountData","ProductOriginalData","CreateProductInfo","EditSelectComponent","EditSelectComponentPosition","PcOrMobile","EditCurrentPage","DocumentInfo","LanguageListData","BusinessVerification"]),{getProductStatusNum:function(){var t=this;return function(e){var i=0;return t.document_list.map(function(t){t.status===e&&(i+=1)}),i}},getProductList:function(){var t,e=this;return 5==this.document_sort?this.trash_document_list:this.document_sort?(t=this.document_list.filter(function(t){return t.status==e.document_sort}),t):this.document_list},getMoreLangList:function(){var t=this;return function(e){for(var i=[],n=0;n<t.LanguageListData.length;n++)-1===e.langs.indexOf(t.LanguageListData[n].name)&&i.push(t.LanguageListData[n]);return i}}}),filters:{getDocumentStatus:function(t){return 1===t?"Online":2===t?"Offline":3===t?"Draft":5===t?"Trash":void 0}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.getDtxInsurersDept(),this.getKeyword(),t.next=4,this.GetProducts();case 4:this.getAllContact(),this.document_type=this.$route.query.type,this.document_list_lang=this.LanguageListData[0].name,"sms"==this.document_type||"underwriting"==this.document_type?(this.getAllSmsTemplate(this.document_type),this.getAllSmsTemplate(this.document_type,5)):"email"==this.document_type||"pdf"==this.document_type?(this.getTemplateList(this.document_type),this.getTemplateList(this.document_type,5)):"csv"==this.document_type&&(this.getProductCsvTemplate(),this.getProductCsvTemplate(5));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:_({},Object(r["b"])(["reset","setDocumentInfo"]),{goBack:function(){this.$router.push({path:"/document-menu",query:{}})},changeLang:function(t){this.document_list_lang=t,"sms"==this.document_type||"underwriting"==this.document_type?(this.getAllSmsTemplate(this.document_type),this.getAllSmsTemplate(this.document_type,5)):(this.getTemplateList(this.document_type),this.getTemplateList(this.document_type,5))},createNewDocument:function(){switch(this.reset(["DocumentInfo"]),this.document_type){case"email":this.email_form.email_lang=this.LanguageListData[0].name,this.email_form.email_type="",this.email_form.email_id="",this.email_form.email_documentId="",this.email_form.email_name="",this.email_form.email_bing_status=!1,this.email_form.email_bing_product="",this.email_form.email_bing_productName="",this.email_form.email_bing_keyWord_list=[],this.email_form.email_subject_line="",this.email_form.email_preview_text="",this.email_form.email_from_email="",this.email_form.email_receiver="",this.email_form.email_from_name="",this.email_form.email_skeleton=[],this.email_form.email_bing_pdfList=[],this.email_form.email_bing_csvList=[],this.email_form.email_bing_jsonList=[],this.email_form.email_bing_upload_list=[],this.email_dialog_visible=!0;break;case"sms":this.sms_form.sms_lang=this.LanguageListData[0].name,this.sms_form.sms_addLang=!1,this.sms_form.sms_id="",this.sms_form.sms_name="",this.sms_form.sms_bing_status=!1,this.sms_form.sms_bing_product="",this.sms_form.sms_bing_productName="",this.sms_form.sms_bing_keyWord_list=[],this.sms_form.sms_bing_content="",this.sms_dialog_visible=!0;break;case"csv":this.csv_form.csv_id="",this.csv_form.csv_name="",this.csv_form.csv_sheet_name="",this.csv_form.csv_file_name="",this.csv_form.csv_email_subject="",this.csv_form.csv_email_to="",this.csv_form.csv_email_cc="",this.csv_form.csv_bing_status=!1,this.csv_form.csv_bing_product="",this.csv_form.csv_bing_productName="",this.csv_form.csv_bing_keyWord_list=[],this.csv_form.csvColumnList=[{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""},{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""},{columnName:"",columnKeyWord:"",columnFunction:"",columnOrderNo:""}],this.csv_dialog_visible=!0;break;case"underwriting":this.underwriting_json_form.underwriting_json_lang=this.LanguageListData[0].name,this.underwriting_json_form.underwriting_json_addLang=!1,this.underwriting_json_form.underwriting_json_id="",this.underwriting_json_form.underwriting_json_name="",this.underwriting_json_form.underwriting_json_zip_name="",this.underwriting_json_form.underwriting_json_file_name="",this.underwriting_json_form.underwriting_json_bing_status=!1,this.underwriting_json_form.underwriting_json_bing_product="",this.underwriting_json_form.underwriting_json_bing_productName="",this.underwriting_json_form.underwriting_json_bing_keyWord_list=[],this.underwriting_json_form.underwriting_json_bing_content="",this.underwriting_json_dialog_visible=!0;break;case"pdf":this.pdf_form.pdf_lang=this.LanguageListData[0].name,this.pdf_form.pdf_id="",this.pdf_form.pdf_documentId="",this.pdf_form.pdf_name="",this.pdf_form.pdf_bing_status=!1,this.pdf_form.pdf_bing_product="",this.pdf_form.pdf_bing_productName="",this.pdf_form.pdf_bing_keyWord_list=[],this.pdf_form.pdf_file_name="",this.pdf_form.pdf_from_email="",this.pdf_form.pdf_from_name="",this.pdf_form.pdf_skeleton=[],this.pdf_dialog_visible=!0;break;default:break}},handleCommandLang:function(t,e){switch(this.reset(["DocumentInfo"]),this.document_type){case"email":this.email_form.email_lang=t,this.email_form.email_type=e.type,this.email_form.email_id="",this.email_form.email_documentId=e.documentId,this.email_form.email_name="",this.email_form.email_bing_status=!!e.productId,this.email_form.email_bing_product=e.productId,this.email_form.email_bing_productName=e.productName,this.email_form.email_bing_keyWord_list=[],this.email_form.email_subject_line="",this.email_form.email_preview_text="",this.email_form.email_from_email=e.addresser,this.email_form.email_receiver=e.receiver,this.email_form.email_from_name=e.addresserName,this.email_form.email_skeleton=e.projectData,this.email_form.email_bing_pdfList=[],this.email_form.email_bing_csvList=[],this.email_form.email_bing_jsonList=[],this.email_form.email_bing_upload_list=[],this.email_dialog_visible=!0;break;case"sms":this.sms_form.sms_lang=t,this.sms_form.sms_addLang=!0,this.sms_form.sms_id=e.id,this.sms_form.sms_name="",this.sms_form.sms_bing_status=!!e.productId,this.sms_form.sms_bing_product=e.productId,this.sms_form.sms_bing_productName=e.productName,this.sms_form.sms_bing_keyWord_list=[],this.sms_form.sms_bing_content="",this.sms_dialog_visible=!0;break;case"pdf":this.pdf_form.pdf_lang=t,this.pdf_form.pdf_id="",this.pdf_form.pdf_documentId=e.documentId,this.pdf_form.pdf_name="",this.pdf_form.pdf_bing_status=!!e.productId,this.pdf_form.pdf_bing_product=e.productId,this.pdf_form.pdf_bing_productName=e.productName,this.pdf_form.pdf_bing_keyWord_list=[],this.pdf_form.pdf_file_name="",this.pdf_form.pdf_from_email=e.addresser,this.pdf_form.pdf_from_name=e.addresserName,this.pdf_form.pdf_skeleton=e.projectData,this.pdf_dialog_visible=!0;break;case"underwriting":this.underwriting_json_form.underwriting_json_lang=t,this.underwriting_json_form.underwriting_json_addLang=!0,this.underwriting_json_form.underwriting_json_id=e.id,this.underwriting_json_form.underwriting_json_name="",this.underwriting_json_form.underwriting_json_zip_name="",this.underwriting_json_form.underwriting_json_file_name="",this.underwriting_json_form.underwriting_json_bing_status=!!e.productId,this.underwriting_json_form.underwriting_json_bing_product=e.productId,this.underwriting_json_form.underwriting_json_bing_productName=e.productName,this.underwriting_json_form.underwriting_json_bing_keyWord_list=[],this.underwriting_json_form.underwriting_json_bing_content="",this.underwriting_json_dialog_visible=!0;break;default:break}},getAllContact:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getAllContact({dtxAccountId:this.AccountData.dtxAccountId,status:0});case 4:e=t.sent,200==e.data.status?this.contact_list=e.data.data:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),GetProducts:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.GetProducts({companyId:this.AccountData.dtxAccountId,deviceType:"pc",language:"en_us",type:"1"});case 4:e=t.sent,200==e.data.status&&(this.product_options=e.data.data),this.$nextTick(function(){i.V_loading=!1}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),getAllSmsTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getAllSmsTemplate({companyId:this.AccountData.dtxAccountId,status:i,language:this.document_list_lang,smsType:e});case 4:n=t.sent,200==n.data.status?5===i?this.trash_document_list=n.data.data:this.document_list=n.data.data:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i){return t.apply(this,arguments)}return e}(),editSmsTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i,n,s){var a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,a=5===i?{id:n,status:i}:"sms"===e&&s?{companyId:this.AccountData.dtxAccountId,status:i,productId:s.productId,language:s.lang,templateContent:s.msgContent,id:s.id,templateName:s.msgName,productName:s.productName,smsType:e}:"underwriting"===e&&s?{companyId:this.AccountData.dtxAccountId,status:i,productId:s.productId,language:s.lang,templateContent:s.msgContent,id:s.id,templateName:s.msgName,productName:s.productName,smsType:e,zipName:s.zipName,fileName:s.fileName}:"sms"===e?{companyId:this.AccountData.dtxAccountId,status:i,productId:this.DocumentInfo.sms_bing_product,language:this.DocumentInfo.sms_lang,templateContent:this.DocumentInfo.sms_bing_content,id:this.DocumentInfo.sms_id,templateName:this.DocumentInfo.sms_name,productName:this.DocumentInfo.sms_bing_productName,smsType:e}:{companyId:this.AccountData.dtxAccountId,status:i,productId:this.DocumentInfo.underwriting_json_bing_product,language:this.DocumentInfo.underwriting_json_lang,templateContent:this.DocumentInfo.underwriting_json_bing_content,id:this.DocumentInfo.underwriting_json_id,templateName:this.DocumentInfo.underwriting_json_name,productName:this.DocumentInfo.underwriting_json_bing_productName,smsType:e,zipName:this.DocumentInfo.underwriting_json_zip_name,fileName:this.DocumentInfo.underwriting_json_file_name},t.prev=2,t.next=5,this.$http.editSmsTemplate(a);case 5:o=t.sent,200==o.data.status?(this.reset(["DocumentInfo"]),this.sms_dialog_visible=!1,this.sms_preview_dialog_visible=!1,this.underwriting_json_dialog_visible=!1,this.underwriting_json_preview_dialog_visible=!1,this.getAllSmsTemplate(this.document_type),this.getAllSmsTemplate(this.document_type,5)):this.$alert(o.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.V_loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));function e(e,i,n,s){return t.apply(this,arguments)}return e}(),addSmsLangTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,n="sms"===e?{companyId:this.AccountData.dtxAccountId,status:i,productId:this.DocumentInfo.sms_bing_product,language:this.DocumentInfo.sms_lang,templateContent:this.DocumentInfo.sms_bing_content,id:this.DocumentInfo.sms_id,templateName:this.DocumentInfo.sms_name,productName:this.DocumentInfo.sms_bing_productName,smsType:e}:{companyId:this.AccountData.dtxAccountId,status:i,productId:this.DocumentInfo.underwriting_json_bing_product,language:this.DocumentInfo.underwriting_json_lang,templateContent:this.DocumentInfo.underwriting_json_bing_content,id:this.DocumentInfo.underwriting_json_id,templateName:this.DocumentInfo.underwriting_json_name,productName:this.DocumentInfo.underwriting_json_bing_productName,smsType:e,zipName:this.DocumentInfo.underwriting_json_zip_name,fileName:this.DocumentInfo.underwriting_json_file_name},t.prev=2,t.next=5,this.$http.addSmsLangTemplate(n);case 5:s=t.sent,200==s.data.status?(this.reset(["DocumentInfo"]),this.sms_dialog_visible=!1,this.sms_preview_dialog_visible=!1,this.underwriting_json_dialog_visible=!1,this.underwriting_json_preview_dialog_visible=!1,this.getAllSmsTemplate(this.document_type),this.getAllSmsTemplate(this.document_type,5)):this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.V_loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));function e(e,i){return t.apply(this,arguments)}return e}(),copySmsById:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.copySmsById({id:i,smsType:e});case 4:n=t.sent,200==n.data.status?this.getAllSmsTemplate(this.document_type):this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i){return t.apply(this,arguments)}return e}(),sendSmsByPhone:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.sendSmsByPhone({msgContent:e,phoneList:this.test_sms.test_sms_phone});case 4:i=t.sent,200==i.data.status?(this.test_sms.test_sms_templateContent="",this.test_sms.test_sms_phone=[],this.test_sms_dialog_show_tag=!1):this.$alert(i.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),restoreSms:function(t,e){var i=this;this.$alert("Are you confirm to restore your document?","",{confirmButtonText:"Restore",confirmButtonClass:"blue",callback:function(n){"sms"==i.document_type||"underwriting"==i.document_type?i.editSmsTemplate(i.document_type,3,t,e):"email"!=i.document_type&&"pdf"!=i.document_type&&"csv"!=i.document_type||i.updateStatus(t,3,i.document_type)}})},getTemplateList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getTemplateList({companyId:this.AccountData.dtxAccountId,templateType:e,status:i,language:this.document_list_lang});case 4:n=t.sent,200==n.data.status?5===i?this.trash_document_list=n.data.data:this.document_list=n.data.data:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i){return t.apply(this,arguments)}return e}(),updateStatus:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i,n){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.updateStatus({id:e,status:i,templateType:n,companyId:this.AccountData.dtxAccountId});case 4:s=t.sent,200==s.data.status?"csv"===n?(this.getProductCsvTemplate(),this.getProductCsvTemplate(5)):(this.getTemplateList(this.document_type),this.getTemplateList(this.document_type,5)):this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i,n){return t.apply(this,arguments)}return e}(),sendTestEmail:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.sendTestEmail({companyId:this.AccountData.dtxAccountId,email:this.test_email.test_email_value.join(","),language:this.test_email.test_email_lang,templateContent:this.test_email.test_email_templateContent,title:this.test_email.test_email_title,templateType:this.document_type,templateName:this.test_email.test_email_pdf_name,csvFileNameProduct:this.test_email.test_email_csvFileNameProduct,csvSheetName:this.test_email.test_email_csvSheetName,csvColumnList:this.test_email.test_email_csvColumnList||[]});case 4:e=t.sent,200==e.data.status?this.test_email_dialog=!1:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),getBindingPdf:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i,n){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getBindingPdf({companyId:this.AccountData.dtxAccountId,id:n,language:e,productId:0===this.email_form.email_type?i:""});case 4:s=t.sent,200==s.data.status?this.attach_pdf_list=s.data.data:this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i,n){return t.apply(this,arguments)}return e}(),goVisualBuildDocument:function(t){if("email"===t){if(""===this.email_form.email_type||""===this.email_form.email_lang||""===this.email_form.email_name)return void this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.reset(["ProductOriginalData","CreateProductInfo","EditSelectComponent","EditSelectComponentPosition","PcOrMobile","EditCurrentPage"]),this.setDocumentInfo(this.email_form),this.$router.push({path:"/visualBuildDocument",query:{type:t}})}else if("sms"===t){if(""===this.sms_form.sms_lang||""===this.sms_form.sms_name||""===this.sms_form.sms_bing_content)return void this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.setDocumentInfo(this.sms_form),this.sms_preview_dialog_visible=!0}else if("csv"===t){if(""===this.csv_form.csv_name||""===this.csv_form.csv_sheet_name||""===this.csv_form.csv_email_subject||""===this.csv_form.csv_email_to||""===this.csv_form.csv_file_name)return void this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.setDocumentInfo(this.csv_form),this.csv_create_dialog_visible=!0}else if("underwriting"===t){if(""===this.underwriting_json_form.underwriting_json_lang||""===this.underwriting_json_form.underwriting_json_name||""===this.underwriting_json_form.underwriting_json_zip_name||""===this.underwriting_json_form.underwriting_json_file_name||""===this.underwriting_json_form.underwriting_json_bing_content)return void this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.setDocumentInfo(this.underwriting_json_form),this.underwriting_json_preview_dialog_visible=!0}else if("pdf"===t){if(""===this.pdf_form.pdf_lang||""===this.pdf_form.pdf_name||""===this.pdf_form.pdf_file_name)return void this.$alert("Please input content","",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.reset(["ProductOriginalData","CreateProductInfo","EditSelectComponent","EditSelectComponentPosition","PcOrMobile","EditCurrentPage"]),this.setDocumentInfo(this.pdf_form),this.$router.push({path:"/visualBuildDocument",query:{type:t}})}},getProductCsvTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.getProductCsvTemplate({dtxAccountId:this.AccountData.dtxAccountId,status:e});case 4:i=t.sent,200==i.data.status?5===e?this.trash_document_list=i.data.data:this.document_list=i.data.data:this.$alert(i.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),addProductCsvTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=i||{csvColumnList:this.DocumentInfo.csvColumnList,csvType:1,csvSheetName:this.DocumentInfo.csv_sheet_name,productId:this.DocumentInfo.csv_bing_product||null,csvFileNameProduct:this.DocumentInfo.csv_file_name,csvId:this.DocumentInfo.csv_id||null,emailSubject:this.DocumentInfo.csv_email_subject,csvEmailTo:this.DocumentInfo.csv_email_to,csvEmailCc:this.DocumentInfo.csv_email_cc,dtxAccountId:this.AccountData.dtxAccountId,status:e},this.V_loading=!0,t.prev=2,t.next=5,this.$http.addProductCsvTemplate(n);case 5:s=t.sent,200==s.data.status?(this.reset(["DocumentInfo"]),this.csv_dialog_visible=!1,this.csv_create_dialog_visible=!1,this.getProductCsvTemplate()):this.$alert(s.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.V_loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));function e(e,i){return t.apply(this,arguments)}return e}(),GetUploadFile:function(t,e){this.email_form[e]=[],this.email_form[e]=t.fileList},removePdf:function(t,e,i){this.email_form[e]=t.fileList,this.email_form[i].splice(t.index,1)},handleEdit:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("sms"!=this.document_type){t.next=6;break}this.sms_form={sms_lang:this.document_list_lang,sms_addLang:!1,sms_id:i.id,sms_name:i.msgName,sms_bing_status:!!i.productId,sms_bing_product:i.productId,sms_bing_productName:i.productName,sms_bing_keyWord_list:i.productId?JSON.parse(this.product_options.filter(function(t){return t.productId==i.productId})[0].productData).keywordSocketList:[],sms_bing_content:i.msgContent},this.setDocumentInfo(this.sms_form),this.sms_dialog_visible=!0,t.next=22;break;case 6:if("underwriting"!=this.document_type){t.next=12;break}this.underwriting_json_form={underwriting_json_lang:this.document_list_lang,underwriting_json_addLang:!1,underwriting_json_id:i.id,underwriting_json_name:i.msgName,underwriting_json_zip_name:i.zipName,underwriting_json_file_name:i.fileName,underwriting_json_bing_status:!!i.productId,underwriting_json_bing_product:i.productId,underwriting_json_bing_productName:i.productName,underwriting_json_bing_keyWord_list:i.productId?JSON.parse(this.product_options.filter(function(t){return t.productId==i.productId})[0].productData).keywordSocketList:[],underwriting_json_bing_content:i.msgContent},this.setDocumentInfo(this.underwriting_json_form),this.underwriting_json_dialog_visible=!0,t.next=22;break;case 12:if("email"!=this.document_type){t.next=21;break}if(!i.productId){t.next=16;break}return t.next=16,this.getBindingPdf(i.language,i.productId,i.id);case 16:this.email_form={email_lang:i.language,email_type:i.type,email_id:i.id,email_documentId:i.documentId,email_name:i.templateName,email_bing_status:!!i.productId,email_bing_product:i.productId,email_bing_productName:i.productName,email_bing_keyWord_list:0!==i.type&&2!==i.type||!i.productId?1===i.type?this.eVoucher_keyword_list:[]:JSON.parse(this.product_options.filter(function(t){return t.productId==i.productId})[0].productData).keywordSocketList,email_subject_line:i.title,email_preview_text:i.preview,email_from_email:i.addresser,email_receiver:i.receiver,email_from_name:i.addresserName,email_skeleton:i.projectData,email_bing_pdfList:i.documentBinding&&JSON.parse(i.documentBinding).pdf||[],email_bing_csvList:i.documentBinding&&JSON.parse(i.documentBinding).csv||[],email_bing_jsonList:i.documentBinding&&JSON.parse(i.documentBinding).json||[],email_bing_upload_list:i.documentFile||[]},this.setDocumentInfo(this.email_form),this.email_dialog_visible=!0,t.next=22;break;case 21:"pdf"==this.document_type?(this.pdf_form={pdf_lang:i.language,pdf_id:i.id,pdf_documentId:i.documentId,pdf_name:i.templateName,pdf_bing_status:!!i.productId,pdf_bing_product:i.productId,pdf_bing_productName:i.productName,pdf_bing_keyWord_list:i.productId?JSON.parse(this.product_options.filter(function(t){return t.productId==i.productId})[0].productData).keywordSocketList:[],pdf_file_name:i.title,pdf_skeleton:i.projectData},this.setDocumentInfo(this.pdf_form),this.pdf_dialog_visible=!0):"csv"==this.document_type&&(this.csv_form={csv_id:i.id,csv_name:i.templateName,csv_sheet_name:i.csvSheetName,csv_file_name:i.csvFileNameProduct,csv_email_subject:i.emailSubject,csv_email_to:i.csvEmailTo,csv_email_cc:i.csvEmailCc,csv_bing_status:!!i.productId,csv_bing_product:i.productId,csv_bing_productName:i.productName,csv_bing_keyWord_list:i.productId?JSON.parse(this.product_options.filter(function(t){return t.productId==i.productId})[0].productData).keywordSocketList:[],csvColumnList:i.csvColumnList},this.setDocumentInfo(this.csv_form),this.csv_dialog_visible=!0);case 22:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),getKeyword:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.getKeyword({type:1});case 3:if(e=t.sent,200==e.data.status){for(i=[],n=0;n<e.data.data.length;n++)i.push({placeholder:e.data.data[n].keyWord,placeholder_name:e.data.data[n].keyName,type:2});this.eVoucher_keyword_list=[].concat(i)}else this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});this.V_loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.V_loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){},handleCurrentChange:function(t){},handleCommand:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e){t.next=28;break}if("sms"!=this.document_type&&"underwriting"!=this.document_type){t.next=5;break}this.copySmsById(this.document_type,i.id),t.next=26;break;case 5:if("email"!=this.document_type&&"pdf"!=this.document_type){t.next=25;break}if(n=JSON.parse(i.projectData),!n){t.next=11;break}return this.GetAllSocketId(n),t.next=11,this.getTemplateSocket(this.allSocketIdList,n);case 11:return s=this.ChangeSocketId(this.documentJson),this.allSocketList=[],this.GetAllSocket(s),this.GetSkeleton(JSON.parse(JSON.stringify(s))),t.next=17,this.addTemplateSocket(this.allSocketList);case 17:if(a=t.sent,!a){t.next=21;break}return t.next=21,this.addTemplateV2(this.productSkeleton,3,i);case 21:return t.next=23,this.getTemplateList(this.document_type);case 23:t.next=26;break;case 25:"csv"==this.document_type&&this.addProductCsvTemplate(3,{csvColumnList:i.csvColumnList,csvType:1,csvSheetName:i.csvSheetName,productId:null,csvFileNameProduct:i.csvFileNameProduct,csvId:null,emailSubject:i.emailSubject,csvEmailTo:i.csvEmailTo,csvEmailCc:i.csvEmailCc,dtxAccountId:this.AccountData.dtxAccountId,status:3});case 26:t.next=29;break;case 28:2===e?"sms"==this.document_type?(this.test_sms.test_sms_templateContent=i.msgContent,this.test_sms_dialog=!0,this.test_sms_dialog_show_tag=!1):"email"!=this.document_type&&"pdf"!=this.document_type&&"csv"!=this.document_type&&"underwriting"!=this.document_type||(this.test_email.test_email_lang=i.language||"",this.test_email.test_email_title="email"==this.document_type?i.title:"",this.test_email.test_email_templateContent=i.content||i.msgContent||"",this.test_email.test_email_pdf_name="pdf"==this.document_type?i.title:"underwriting"==this.document_type?i.msgName:"",this.test_email.test_email_csvFileNameProduct=i.csvFileNameProduct||"",this.test_email.test_email_csvSheetName=i.csvSheetName||"",this.test_email.test_email_csvColumnList=i.csvColumnList||"",this.test_email_dialog=!0,this.test_email_dialog_show_tag=!1):3===e&&("sms"==this.document_type||"underwriting"==this.document_type?this.editSmsTemplate(this.document_type,5,i.id):"email"!=this.document_type&&"pdf"!=this.document_type&&"csv"!=this.document_type||this.updateStatus(i.id,5,this.document_type));case 29:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),selectPlaceholder:function(t){this.sms_form.sms_bing_content=this.sms_form.sms_bing_content+t},selectQuestionJsonPlaceholder:function(t){this.underwriting_json_form.underwriting_json_bing_content=this.underwriting_json_form.underwriting_json_bing_content+t},GetAllSocketId:function(t){for(var e=t,i=0;i<e.length;i++)e[i].children?(this.allSocketIdList.push(e[i].componentId),this.GetAllSocketId(e[i].children)):this.allSocketIdList.push(e[i].componentId)},getTemplateSocket:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.getTemplateSocket({companyId:this.AccountData.dtxAccountId,findDataBeans:e,templateType:this.document_type});case 3:n=t.sent,200==n.data.status?this.documentJson=this.ConnectSocket(n.data.data,i):this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.V_loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e,i){return t.apply(this,arguments)}return e}(),ConnectSocket:function(t,e){for(var i=this,n=e,s=function(e){if(n[e].children){var s=i.GetSocketInfo(n[e].componentId,t);Object.keys(s).map(function(t){i.$set(n[e],t,s[t])}),i.ConnectSocket(t,n[e].children)}else{var a=i.GetSocketInfo(n[e].componentId,t);Object.keys(a).map(function(t){i.$set(n[e],t,a[t])})}},a=0;a<n.length;a++)s(a);return n},GetSocketInfo:function(t,e){for(var i=0;i<e.length;i++)if(e[i]&&e[i].socketId===t)return JSON.parse(e[i].properties)},ChangeSocketId:function(t){for(var e=t,i=0;i<e.length;i++)e[i].children?(this.$set(e[i],"componentId",e[i].componentId.split("_")[0]+"_"+this.GetRamNumber(8)),this.ChangeSocketId(e[i].children)):this.$set(e[i],"componentId",e[i].componentId.split("_")[0]+"_"+this.GetRamNumber(8));return e},GetAllSocket:function(t){for(var e=this,i=t,n=function(t){if(i[t].children){var n={};Object.keys(i[t]).map(function(e){"children"!==e&&(n[e]=i[t][e])}),e.allSocketList.push({properties:n,socketId:i[t].componentId}),e.GetAllSocket(i[t].children)}else e.allSocketList.push({properties:i[t],socketId:i[t].componentId})},s=0;s<i.length;s++)n(s)},GetSkeleton:function(t){for(var e=this,i=t,n=function(t){i[t].children?(Object.keys(i[t]).map(function(n){"componentId"!==n&&"type"!==n&&"children"!==n&&e.$delete(i[t],n)}),e.GetSkeleton(i[t].children)):Object.keys(i[t]).map(function(n){"componentId"!==n&&"type"!==n&&e.$delete(i[t],n)})},s=0;s<i.length;s++)n(s);this.productSkeleton=i},addTemplateSocket:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.addTemplateSocket({companyId:this.AccountData.dtxAccountId,dataBeans:e,templateType:this.document_type});case 3:if(i=t.sent,200!=i.data.status){t.next=9;break}return this.V_loading=!1,t.abrupt("return",!0);case 9:return this.$alert(i.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.abrupt("return",!1);case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t["catch"](0),this.V_loading=!1,t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,this,[[0,14]])}));function e(e){return t.apply(this,arguments)}return e}(),addTemplateV2:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,i,n){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return"email"==this.document_type?s={title:n.title,preview:n.preview,receiver:n.receiver,addResSer:n.addresser,addResSerName:n.addresserName,companyId:this.AccountData.dtxAccountId,language:n.language,jsonData:JSON.stringify(e),templateName:n.templateName,content:n.content,productId:n.productId,templateType:this.document_type,id:"",status:i,type:n.email_type,documentId:"",findDataBeans:[],documents:[]}:"pdf"==this.document_type&&(s={title:n.title,preview:"",addResSer:"",addResSerName:"",companyId:this.AccountData.dtxAccountId,language:n.language,jsonData:JSON.stringify(e),templateName:n.templateName,content:n.content,productId:n.productId,templateType:this.document_type,id:"",status:i,documentId:""}),t.prev=1,t.next=4,this.$http.addTemplateV2(s);case 4:a=t.sent,200==a.data.status||this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,i,n){return t.apply(this,arguments)}return e}(),verifyFormat:function(t,e){var i=/^[A-Za-z0-9.^\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,n=/^[0-9]+$/;return"email"==t?i.test(e):"phone"==t||"phoneCountryCode"==t?n.test(e):void 0},beforeUpload:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i,n,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i={url:"",name:""},n=new FileReader,n.readAsDataURL(e),n.onload=function(){i.url=n.result},i.name=e.name,s=new FormData,s.append("file",e),s.append("path",this.AccountData.dtxAccountId+"/eng"),s.append("permissionsType","publicUpload"),t.prev=9,t.next=12,this.$http.DtxFile(s);case 12:a=t.sent,200==a.data.status?this.email_form.email_bing_upload_list.push(a.data.data[0]):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](9),this.V_loading=!1,this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}});case 21:return t.abrupt("return",!1);case 22:case"end":return t.stop()}},t,this,[[9,17]])}));function e(e){return t.apply(this,arguments)}return e}(),handlePreview:function(t){var e=window.open();e.document.write('<body style="margin:0px;"><object data="'+t.url+'" type="application/pdf" width="100%" height="100%"><iframe src="'+t.url+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')},beforeRemove:function(t){for(var e=0;e<this.email_form.email_bing_upload_list.length;e++)this.email_form.email_bing_upload_list[e].name===t.name&&this.email_form.email_bing_upload_list.splice(e,1)},getDtxInsurersDept:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.getDtxInsurersDept({dtxAccountId:this.AccountData.dtxAccountId});case 3:e=t.sent,200==e.data.status?this.dtxInsurersDept=e.data.data:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.V_loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}()})},u=m,d=(i("abf9"),i("2877")),p=Object(d["a"])(u,n,s,!1,null,"671e82ce",null);e["default"]=p.exports},"576a":function(t,e,i){},abf9:function(t,e,i){"use strict";var n=i("576a"),s=i.n(n);s.a},c14c:function(t,e,i){"use strict";var n=i("e209"),s=i.n(n);s.a},e209:function(t,e,i){}}]);