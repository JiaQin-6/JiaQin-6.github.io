(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a6d569c"],{"3cf8":function(t,e,n){"use strict";var r=n("5fae"),a=n.n(r);a.a},"456d":function(t,e,n){var r=n("4bf8"),a=n("0d58");n("5eda")("keys",function(){return function(t){return a(r(t))}})},"5cf9":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contactTip"},[n("div",{staticClass:"content"},[n("h3",{domProps:{innerHTML:t._s(t.tipInfo)}}),n("button",{on:{click:t.CloseTip}},[t._v(t._s(t.$t("confirm_upper")))])])])},a=[],i={props:{tipInfo:{require:!0,type:String}},methods:{CloseTip:function(){this.$emit("CloseTip",!1)}}},c=i,o=(n("3cf8"),n("2877")),s=Object(o["a"])(c,r,a,!1,null,"0159afc8",null);e["a"]=s.exports},"5eda":function(t,e,n){var r=n("5ca1"),a=n("8378"),i=n("79e5");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],c={};c[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",c)}},"5fae":function(t,e,n){},"632b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.V_loading,expression:"V_loading"}]},[n("form",{attrs:{id:"payment-form",method:"POST",action:"https://merchant.com/charge-card"}},[n("div",{staticClass:"one-liner"},[n("div",{staticClass:"card-frame"}),n("button",{attrs:{id:"pay-button"}},[t._v("\n        PAY "+t._s(t.CreateProductInfo&&t.CreateProductInfo.currencySymbol||"HK$")+" "+t._s(t.price)+"\n      ")])]),n("p",{staticClass:"success-payment-message"})]),n("div",{staticClass:"loading",attrs:{id:"loading"}}),t.showTip?n("Tip",{attrs:{tipInfo:t.tipInfo},on:{CloseTip:function(e){t.showTip=e}}}):t._e()],1)},a=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),c=n("bd86"),o=n("2f62"),s=n("5cf9");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f={components:{Tip:s["a"]},data:function(){return{showTip:!1,tipInfo:"",price:"",key:"",V_loading:!1}},computed:p({},Object(o["c"])(["CompanyInfo","ApplicationID","CreateProductInfo"])),mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GetPaymentInfo();case 2:e=document.getElementById("pay-button"),n=document.getElementById("payment-form"),Frames.init(this.key),Frames.addEventHandler(Frames.Events.CARD_VALIDATION_CHANGED,function(t){e.disabled=!Frames.isCardValid()}),Frames.addEventHandler(Frames.Events.CARD_TOKENIZED,function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.CallBackCheckout(e.token);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("submit",function(t){t.preventDefault(),Frames.submitCard()});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{GetPaymentInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.GetPaymentInfo({dtxAccountId:this.CompanyInfo.dtxAccountId,applicationId:this.$route.query.aid,paymentType:"checkout",language:""});case 4:if(e=t.sent,this.V_loading=!1,200!=e.data.status){t.next=11;break}this.price=e.data.data.amountReceived,this.key=e.data.data.checkoutPublicKey,t.next=14;break;case 11:return this.showTip=!0,this.tipInfo=e.data.msg,t.abrupt("return",!1);case 14:t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](1),this.V_loading=!1,this.showTip=!0,this.tipInfo=this.$t("request_error_title");case 21:case"end":return t.stop()}},t,this,[[1,16]])}));function e(){return t.apply(this,arguments)}return e}(),CallBackCheckout:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.CallBackCheckout({applicationId:this.$route.query.aid,token:e,language:"",paymentType:"checkout"});case 4:if(n=t.sent,200!=n.data.status){t.next=9;break}n.data.data?window.location.href=n.data.data:this.$router.push({path:"/Complete",query:{}}),t.next=16;break;case 9:if(108!=n.data.status){t.next=15;break}this.showTip=!0,this.tipInfo=n.data.msg,this.$router.push({path:this.$route.path,query:{}}),t.next=16;break;case 15:return t.abrupt("return",!1);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](1),this.showTip=!0,this.tipInfo=this.$t("request_error_title");case 22:case"end":return t.stop()}},t,this,[[1,18]])}));function e(e){return t.apply(this,arguments)}return e}()},destroyed:function(){this.V_loading=!1}},d=f,h=(n("8496"),n("2877")),l=Object(h["a"])(d,r,a,!1,null,"55319f52",null);e["default"]=l.exports},"6c79":function(t,e,n){},8496:function(t,e,n){"use strict";var r=n("6c79"),a=n.n(r);a.a},"8e6e":function(t,e,n){var r=n("5ca1"),a=n("990b"),i=n("6821"),c=n("11e9"),o=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=i(t),s=c.f,u=a(r),p={},f=0;while(u.length>f)n=s(r,e=u[f++]),void 0!==n&&o(p,e,n);return p}})},"990b":function(t,e,n){var r=n("9093"),a=n("2621"),i=n("cb7c"),c=n("7726").Reflect;t.exports=c&&c.ownKeys||function(t){var e=r.f(i(t)),n=a.f;return n?e.concat(n(t)):e}},f1ae:function(t,e,n){"use strict";var r=n("86cc"),a=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}}}]);