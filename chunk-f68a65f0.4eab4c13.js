(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f68a65f0"],{"2c01":function(t,e,n){"use strict";var i=n("c6ae"),a=n.n(i);a.a},c6ae:function(t,e,n){},cf25:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.V_loading,expression:"V_loading"}],staticClass:"container"},[n("div",{staticClass:"menu_header"},[n("div",{staticClass:"menu_header_left"},[n("div",{staticClass:"home"},[n("router-link",{attrs:{to:"/home"}},[n("i",{staticClass:"iconfont icon-yooxi"})])],1)]),n("div",{staticClass:"menu_header_right"},[n("div",{staticClass:"addPage",on:{click:t.SavePanelSection}},[n("i",{staticClass:"iconfont icon-baocun"}),n("span",[t._v("Save")])]),t._m(0),n("div",{staticClass:"addPage",class:{active:t.showTools},on:{click:function(e){t.showTools=!t.showTools}}},[n("i",{staticClass:"el-icon-circle-plus-outline"}),n("span",[t._v("Tools")])])])]),n("div",{staticClass:"mainPart"},[n("div",{staticClass:"mainPart_main",attrs:{id:"mainPart_main"}},[n("div",{staticClass:"mainPart_main_left"},[t.IsToolList?n("div",{staticClass:"toollist"},[n("toollist",{attrs:{page_element_switch:t.page_element_switch,panelList:t.panelList,sectionList:t.sectionList}})],1):t._e(),n("div",{staticClass:"switch",on:{click:function(e){t.IsToolList=!t.IsToolList}}},[n("i",{staticClass:"el-icon-arrow-right"})])]),n("div",{staticClass:"mainPart_main_content"},[n("div",{staticClass:"canvasMenu"},[n("div",{staticClass:"canvasMenu_left"},[n("ul",[n("li",{class:{active:"pc"==t.PcOrMobile},on:{click:function(e){return t.ChangeDevice("pc")}}},[n("i",{staticClass:"iconfont icon-diannao"})]),n("li",{class:{active:"mobile"==t.PcOrMobile},on:{click:function(e){return t.ChangeDevice("mobile")}}},[n("i",{staticClass:"iconfont icon-shouji"})])])])]),n("div",{staticClass:"canvasContent",class:{mobile_img:"mobile"==t.PcOrMobile}},[n("contentCanvas")],1)]),n("div",{staticClass:"mainPart_main_contentEdit"},[n("componentEdit",{attrs:{showComponentEdit:t.showTools},on:{ShowfileLibrary:t.ShowfileLibrary}})],1)])]),n("ImageLibrary",{attrs:{showimageLibrary:t.showimageLibrary,uploadType:t.uploadType},on:{GetimageUrl:t.GetimageUrl,IsshowimageUrl:t.IsshowimageUrl}}),n("el-dialog",{attrs:{title:"Setting",visible:t.showSetPanelSection,width:"400px"},on:{"update:visible":function(e){t.showSetPanelSection=e}}},[n("el-form",{attrs:{model:t.SetPanelSection}},[n("el-form-item",{attrs:{label:"Type","label-width":"50px"}},[n("el-select",{model:{value:t.SetPanelSection.type,callback:function(e){t.$set(t.SetPanelSection,"type",e)},expression:"SetPanelSection.type"}},[n("el-option",{attrs:{label:"Panel",value:"panel"}}),n("el-option",{attrs:{label:"Section",value:"section"}})],1)],1),n("el-form-item",{attrs:{label:"Name","label-width":"50px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.SetPanelSection.name,callback:function(e){t.$set(t.SetPanelSection,"name",e)},expression:"SetPanelSection.name"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.showSetPanelSection=!1}}},[t._v(t._s(t.$t("Cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:t.SaveProductInfo}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addPage"},[n("i",{staticClass:"el-icon-circle-plus-outline"}),n("span",[t._v("Tast")])])}],o=(n("8e6e"),n("ac6a"),n("456d"),n("28a5"),n("c5f6"),n("7f7f"),n("96cf"),n("3b8d")),s=n("bd86"),c=n("2f62"),l=n("21d6"),r=n("9436"),p=n("7be8"),h=n("f972");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){Object(s["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={components:{ImageLibrary:l["a"],toollist:r["a"],componentEdit:p["a"],contentCanvas:h["a"]},data:function(){return{showimageLibrary:!1,uploadType:"",uploadTarget:null,V_loading:!1,page_element_switch:"element",showTools:!1,IsToolList:!0,panelOrsection:"",panelList:[],sectionList:[],showSetPanelSection:!1,SetPanelSection:{type:"",id:"",name:""}}},computed:u({},Object(c["c"])(["AccountData","DefaultActive","ProductOriginalData","EditSelectComponent","PcOrMobile","EditCurrentPage","EditSelectMultipleComponent"])),watch:{ProductOriginalData:{handler:function(t,e){this.setProductOriginalData(this.ProductOriginalData)},deep:!0},"EditSelectComponent.componentId":{handler:function(t,e){var n=this;this.$nextTick(function(){for(var t=document.getElementById(n.EditSelectComponent.componentId).parentNode.parentNode.children,e=0;e<t.length-1;e++)t[e].children[0].style["z-index"]="1";document.getElementById(n.EditSelectComponent.componentId).style["z-index"]="10"})},deep:!0},Route:function(t){}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.PcOrMobile||this.setPcOrMobile("pc"),this.setProductOriginalData([{version:"1",type:"screen",componentId:"screen_"+this.GetRamNumber(8),page_name:"Page name",style:{pc:{position:"relative",width:"100%",height:"100%","z-index":1,top:"0px",left:"0px"},mobile:{position:"relative","z-index":1,width:"100%",height:"100%",top:"0px",left:"0px"}},children:[{version:"1",type:"box",componentId:"box_"+this.GetRamNumber(8),style:{pc:{position:"absolute",width:"100%",height:"400px","z-index":1,top:"0px",left:"0px"},mobile:{position:"absolute","z-index":1,width:"100%",height:"400px",top:"0px",left:"0px"}},children:[]}]}]),this.setEditCurrentPage(0),t.next=5,this.GetPanel();case 5:return t.next=7,this.GetSection();case 7:this.reset(["EditSelectComponent"]);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:u({},Object(c["b"])(["setProductOriginalData","setPcOrMobile","setEditCurrentPage","reset","setEditSelectMultipleComponent"]),{ShowfileLibrary:function(t,e,n){this.showimageLibrary=!0,this.uploadType=t,this.uploadTarget=e},IsshowimageUrl:function(t){this.showimageLibrary=t},GetimageUrl:function(t){this.uploadTarget.realLink=t,this.IsshowimageUrl(!1)},ChangeDevice:function(t){this.reset(["EditSelectComponent"]),this.setPcOrMobile(t)},TransformationEditType:function(){this.$router.push("/blockly")},SavePanelSection:function(){this.showSetPanelSection=!0,this.SetPanelSection.id="",this.SetPanelSection.name="",this.EditSelectComponent&&this.EditSelectComponent.panelId?(this.SetPanelSection.id=this.EditSelectComponent.panelId,this.SetPanelSection.name=this.EditSelectComponent.panelName,this.SetPanelSection.type="panel"):this.EditSelectComponent&&this.EditSelectComponent.sectionId?(this.SetPanelSection.id=this.EditSelectComponent.sectionId,this.SetPanelSection.name=this.EditSelectComponent.sectionName,this.SetPanelSection.type="section"):(this.SetPanelSection.id="panel"+this.GetRamNumber(8),this.SetPanelSection.name="",this.SetPanelSection.type="")},SaveProductInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.SetPanelSection.type&&this.SetPanelSection.name||this.$message({message:"Please input content",type:"warning"}),e=JSON.parse(JSON.stringify(this.EditSelectComponent)),this.getTargetSocket(this.ProductOriginalData[0].children,this.EditSelectComponent.componentId),"panel"!==this.SetPanelSection.type){t.next=12;break}return e.panelId=this.SetPanelSection.id,e.panelName=this.SetPanelSection.name,t.next=8,this.SavePanel(e);case 8:return t.next=10,this.GetPanel();case 10:t.next=18;break;case 12:return e.sectionId=this.SetPanelSection.id,e.sectionName=this.SetPanelSection.name,t.next=16,this.SaveSection(e);case 16:return t.next=18,this.GetSection();case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),SavePanel:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.SavePanel({companyId:this.AccountData.dtxAccountId,panelId:this.SetPanelSection.id,panelName:this.SetPanelSection.name,jsonData:JSON.stringify(e),scope:"admin"});case 4:n=t.sent,200==n.data.status?this.showSetPanelSection=!1:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),GetPanel:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.GetPanel({companyId:this.AccountData.dtxAccountId,scope:"admin",sign:"1"});case 4:e=t.sent,200==e.data.status?this.panelList=e.data.data:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),SaveSection:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.SaveSection({companyId:this.AccountData.dtxAccountId,sectionId:this.SetPanelSection.id,sectionName:this.SetPanelSection.name,jsonData:JSON.stringify(e),scope:"admin"});case 4:n=t.sent,200==n.data.status?this.showSetPanelSection=!1:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),GetSection:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.V_loading=!0,t.prev=1,t.next=4,this.$http.GetSection({companyId:this.AccountData.dtxAccountId,scope:"admin",sign:"1"});case 4:e=t.sent,200==e.data.status?this.sectionList=e.data.data:this.$alert(e.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(t){}}),this.V_loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.V_loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),setBoxHeight:function(t,e,n){for(var i=t,a=0;a<i.length;a++){var o=[],s=[];if(i[a].componentId===e){if(-1!==i[a].style.pc.height.indexOf("%"))return!1;for(var c=0;c<i.length;c++)-1!==i[c].style.pc.height.indexOf("px")&&o.push(Number(i[c].style.pc.height.split("px")[0])+document.getElementById(i[c].componentId).offsetTop);var l="";if(o.length>1)for(var r=0;r<o.length;r++)l=o[r]>l?o[r]:l;else l=o[0];if(-1!==n.style.pc.height.indexOf("px")){var p=Number(n.style.pc.height.split("px")[0]);p<l&&(n.style.pc.height=l+20+"px")}else if(document.getElementById(n.componentId)){var h=document.getElementById(n.componentId).getBoundingClientRect().height;h<l&&(n.style.pc.height=l+20+"px")}if(-1!==i[a].style.mobile.height.indexOf("%"))return!1;for(var d=0;d<i.length;d++)-1!==i[d].style.mobile.height.indexOf("px")&&s.push(Number(i[d].style.mobile.height.split("px")[0])+Number(i[d].style.mobile.top.split("px")[0]));var u="";if(s.length>1)for(var m=0;m<s.length;m++)u=s[m]>u?s[m]:u;else u=s[0];if(-1!==n.style.mobile.height.indexOf("px")){var f=Number(n.style.mobile.height.split("px")[0]);f<u&&(n.style.mobile.height=u+20+"px")}else n.style.mobile.height=u+20+"px";return!1}i[a].children&&this.setBoxHeight(i[a].children,e,i[a])}},keyDownFun:function(){var t=this,e=arguments;document.onkeydown=function(n){var i=n||event||window.event||e.callee.caller.arguments[0];switch(i.keyCode){case 17:t.setEditSelectMultipleComponent({isCtrl:!0,selectedData:t.EditSelectMultipleComponent&&t.EditSelectMultipleComponent.selectedData||[]});case 91:t.setEditSelectMultipleComponent({isCtrl:!0,selectedData:t.EditSelectMultipleComponent&&t.EditSelectMultipleComponent.selectedData||[]});break}},document.onkeyup=function(n){n||event||window.event||e.callee.caller.arguments[0];switch(n.keyCode){case 17:t.setEditSelectMultipleComponent({isCtrl:!1,selectedData:t.EditSelectMultipleComponent&&t.EditSelectMultipleComponent.selectedData||[]});case 91:t.setEditSelectMultipleComponent({isCtrl:!1,selectedData:t.EditSelectMultipleComponent&&t.EditSelectMultipleComponent.selectedData||[]});break}}},getTargetSocket:function(t,e){for(var n=t,i=0;i<n.length;i++){if(n[i].componentId===e)return n.splice(i,1),!1;n[i].children&&this.getTargetSocket(n[i].children,e)}}}),beforeDestroy:function(){this.reset(["ProductOriginalData"])}},f=m,g=(n("2c01"),n("2877")),S=Object(g["a"])(f,i,a,!1,null,"7141d03b",null);e["default"]=S.exports}}]);