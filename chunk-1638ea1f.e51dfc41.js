(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1638ea1f"],{"229f":function(e,t,a){},"5d58":function(e,t,a){e.exports=a("d8d6")},"67bb":function(e,t,a){e.exports=a("f921")},7618:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("5d58"),r=a.n(n),i=a("67bb"),l=a.n(i);function o(e){return o="function"===typeof l.a&&"symbol"===typeof r.a?function(e){return typeof e}:function(e){return e&&"function"===typeof l.a&&e.constructor===l.a&&e!==l.a.prototype?"symbol":typeof e},o(e)}function s(e){return s="function"===typeof l.a&&"symbol"===o(r.a)?function(e){return o(e)}:function(e){return e&&"function"===typeof l.a&&e.constructor===l.a&&e!==l.a.prototype?"symbol":o(e)},s(e)}},"9b19":function(e,t,a){},"9e26":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.V_loading,expression:"V_loading"}],staticClass:"container"},[a("div",{staticClass:"main"},[a("div",{staticClass:"main_wrap"},[a("h2",[e._v(e._s(e.$t("My_Channels")))]),a("el-button",{staticClass:"addBtn",staticStyle:{"border-radius":"5px","margin-right":"20px"},attrs:{round:"",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.AddedDialog}},[e._v(e._s(e.$t("Create_Channel")))])],1),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"","row-style":{height:"80px"}}},["42822"!=e.AWSAccountData["custom:fileNo"]?a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label1"),prop:"channelType","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.typeList[t.row.channelType])+"\n        ")]}}],null,!1,3899731194)}):e._e(),a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label2"),prop:"code","min-width":"150px"}}),"42822"!=e.AWSAccountData["custom:fileNo"]?a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label3"),prop:"email","min-width":"150px"}}):e._e(),a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label4"),prop:"logoUrl","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.logoUrl,expression:"scope.row.logoUrl"}],staticStyle:{"max-width":"120px","max-height":"50px"}})]}}])}),a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label5"),prop:"name","min-width":"150px"}}),a("el-table-column",{attrs:{label:e.$t("Channel_Table_Label6"),prop:"country","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.countryList[t.row.country])+"\n        ")]}}])}),a("el-table-column",{attrs:{label:e.$t("Operation"),"min-width":"400px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"warning",size:"mini",icon:"el-icon-s-tools"},on:{click:function(a){return e.showEditDialog(t.row.id)}}},[e._v(e._s(e.$t("Modify")))]),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-connection"},on:{click:function(a){return e.DetailsList(t.row)}}},[e._v(e._s(e.$t("Binding")))]),0==t.row.upLine?a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini",icon:"el-icon-bottom"},on:{click:function(a){return e.updateOnline(t.row.id,1)}}},[e._v(e._s(e.$t("Offline")))]):a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success",size:"mini",icon:"el-icon-top"},on:{click:function(a){return e.updateOnline(t.row.id,0)}}},[e._v(e._s(e.$t("Publish")))])]}}])})],1),a("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":[5,10,20,30,50],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.titleMap[e.dialogStatus],visible:e.addDialogVisible,width:"560px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addedClosed}},[a("el-form",{ref:"addruleFormRef",attrs:{model:e.ruleForm,"status-icon":"",rules:e.oneRules,"label-width":"132px"}},[a("el-form-item",{attrs:{label:e.$t("Channel_Table_Label4")+":",prop:"channelLogoUrl.logoUrl"}},[a("div",{staticClass:"upload"},[a("dragUpload",{staticStyle:{"margin-left":"135px",width:"50%"},attrs:{isAvatar:e.isAvatar,fileType:"image",isShow:e.isShow,fixedNumberList:[7,5]},on:{GetUpload:function(t){e.GetUpload(t)},show:function(t){e.show(t)}}}),e.ruleForm.channelLogoUrl.logoUrl&&"editEquipment"==e.dialogStatus?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.ruleForm.channelLogoUrl.logoUrl,expression:"ruleForm.channelLogoUrl.logoUrl"}],staticClass:"img",attrs:{alt:""}}):e._e()],1)]),a("el-form-item",{attrs:{label:e.$t("Channel_Table_Label2")+":",prop:"channelCode.code"}},[a("el-input",{staticClass:"mleft1",staticStyle:{width:"86%"},attrs:{type:"text",placeholder:e.$t("Channel_Form_rule2"),disabled:e.ruleForm&&!e.ruleForm.channelCode.flag},model:{value:e.ruleForm.channelCode.code,callback:function(t){e.$set(e.ruleForm.channelCode,"code",t)},expression:"ruleForm.channelCode.code"}})],1),a("el-form-item",{attrs:{label:"42822"!=e.AWSAccountData["custom:fileNo"]?e.$t("Channel_Table_Label5")+":":"Channel Identity :",prop:"42822"!=e.AWSAccountData["custom:fileNo"]?"channelName.name":"channelName1.name"}},["42822"!=e.AWSAccountData["custom:fileNo"]?a("div",[a("el-input",{staticClass:"mleft1",staticStyle:{width:"86%"},attrs:{type:"text",placeholder:e.$t("Channel_Form_rule5"),disabled:e.ruleForm&&!e.ruleForm.channelName.flag},model:{value:e.ruleForm.channelName.name,callback:function(t){e.$set(e.ruleForm.channelName,"name",t)},expression:"ruleForm.channelName.name"}})],1):a("div",[a("span",[e._v("繁體中文: ")]),a("el-input",{staticClass:"mleft1",staticStyle:{width:"78%","margin-top":"5px"},attrs:{type:"text",placeholder:"請輸入渠道碼身份",disabled:e.ruleForm&&!e.ruleForm.channelName1.flag},model:{value:e.ruleForm.channelName1.name.zh_tw,callback:function(t){e.$set(e.ruleForm.channelName1.name,"zh_tw",t)},expression:"ruleForm.channelName1.name.zh_tw"}}),a("span",[e._v("简体中文: ")]),a("el-input",{staticClass:"mleft1",staticStyle:{width:"78%","margin-top":"5px"},attrs:{type:"text",placeholder:"请输入渠道码身份",disabled:e.ruleForm&&!e.ruleForm.channelName1.flag},model:{value:e.ruleForm.channelName1.name.zh_cn,callback:function(t){e.$set(e.ruleForm.channelName1.name,"zh_cn",t)},expression:"ruleForm.channelName1.name.zh_cn"}}),a("span",{staticStyle:{"font-size":"15px"}},[e._v(" English : ")]),a("el-input",{staticClass:"mleft1",staticStyle:{width:"78%","margin-top":"5px"},attrs:{type:"text",placeholder:"Please enter channel identity",disabled:e.ruleForm&&!e.ruleForm.channelName1.flag},model:{value:e.ruleForm.channelName1.name.en_us,callback:function(t){e.$set(e.ruleForm.channelName1.name,"en_us",t)},expression:"ruleForm.channelName1.name.en_us"}})],1)]),"42822"!=e.AWSAccountData["custom:fileNo"]?a("el-form-item",{attrs:{label:e.$t("Channel_Table_Label3")+":",prop:"channelEmail.email"}},[a("el-input",{staticClass:"mleft1",staticStyle:{width:"86%"},attrs:{type:"text",placeholder:e.$t("Channel_Form_rule3"),disabled:e.ruleForm&&!e.ruleForm.channelEmail.flag},model:{value:e.ruleForm.channelEmail.email,callback:function(t){e.$set(e.ruleForm.channelEmail,"email",t)},expression:"ruleForm.channelEmail.email"}})],1):e._e(),"42822"!=e.AWSAccountData["custom:fileNo"]?a("el-form-item",{attrs:{label:e.$t("Channel_Table_Label6")+":",prop:"country.country"}},[a("el-select",{staticClass:"mleft1",staticStyle:{width:"86%"},attrs:{disabled:!e.ruleForm.country.flag,placeholder:e.$t("Channel_Form_rule6")},model:{value:e.ruleForm.country.country,callback:function(t){e.$set(e.ruleForm.country,"country",t)},expression:"ruleForm.country.country"}},e._l(e.countryOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"canBtn",on:{click:function(t){e.addDialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:function(t){return e.Submit("addruleFormRef")}}},[e._v(e._s(e.$t("Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("Binding_List"),visible:e.detailsDialogVisible,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(t){e.detailsDialogVisible=t}}},[a("div",[a("el-button",{staticClass:"addBtn",staticStyle:{"border-radius":"5px"},attrs:{round:"",type:"primary"},on:{click:e.addDetails}},[e._v(e._s(e.$t("Binding_New")))])],1),a("el-table",{attrs:{data:e.detailsInfoList,border:""}},[a("el-table-column",{attrs:{label:e.$t("Channel_Table2_Label1"),prop:"id","min-width":"50px"}}),a("el-table-column",{attrs:{label:e.$t("Channel_Table2_Label2"),prop:"channelId","min-width":"88px"}}),a("el-table-column",{attrs:{label:e.$t("Channel_Table2_Label3"),prop:"productId","min-width":"100px"}}),a("el-table-column",{attrs:{label:e.$t("Product_Name"),prop:"productName","min-width":"130px"}}),a("el-table-column",{attrs:{label:e.$t("Channel_Table2_Label5"),prop:"productUrl","min-width":"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.productUrl,target:"_blank"}},[a("span",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(t.row.productUrl))])])]}}])}),a("el-table-column",{attrs:{label:e.$t("Operation"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"addBtn",attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.upADdialogVisible(t.row)}}},[e._v(e._s(e.$t("Modify")))])]}}])})],1),a("el-pagination",{attrs:{"current-page":this.currentPageTwo,"page-sizes":[5,10,20,30,50],"page-size":this.pageSizeTwo,layout:"total, sizes, prev, pager, next, jumper",total:e.totalTwo},on:{"size-change":e.handleSizeChangeS,"current-change":e.handleCurrentChangeS}})],1),a("el-dialog",{attrs:{title:e.titleMap[e.dialogStatus],visible:e.ADdialogVisible,width:"480px","close-on-click-modal":!1},on:{"update:visible":function(t){e.ADdialogVisible=t},close:e.CloseAddDetails}},[a("div",[a("p",[e._v("\n          "+e._s(e.$t("Channel_Form2_Label1"))+":\n          "),a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("Channel_Form2_rule1")},model:{value:e.selectProducts,callback:function(t){e.selectProducts=t},expression:"selectProducts"}},e._l(e.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.productName,value:e.productId}})}),1)],1)]),"42822"!=e.AWSAccountData["custom:fileNo"]?a("div",{staticClass:"top20"},[a("p",[e._v("\n          "+e._s(e.$t("Channel_Form2_Label2"))+":\n          "),a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("Channel_Form2_rule2")},model:{value:e.selectProductsTwo,callback:function(t){e.selectProductsTwo=t},expression:"selectProductsTwo"}},e._l(e.selectProductsYjName,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)]):e._e(),"42822"!=e.AWSAccountData["custom:fileNo"]?a("div",{staticClass:"top20"},[a("p",[e._v("\n          "+e._s(e.$t("Channel_Form2_Label3"))+":\n          "),a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("Channel_Form2_rule3")},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)]):e._e(),"42822"==e.AWSAccountData["custom:fileNo"]?a("p",{staticClass:"top20"},[e._v("\n        "+e._s(e.$t("Channel_Form2_Label4"))+":\n        "),a("el-input",{staticStyle:{width:"50%"},model:{value:e.inputPromoCode,callback:function(t){e.inputPromoCode=t},expression:"inputPromoCode"}})],1):e._e(),e.inputUrl?a("div",{staticClass:"top20"},[a("el-input",{model:{value:e.inputUrl,callback:function(t){e.inputUrl=t},expression:"inputUrl"}})],1):e._e(),a("div",{staticClass:"top20 left5"},[a("el-button",{staticClass:"canBtn",on:{click:function(t){e.ADdialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:function(t){return e.submitBuiId(e.detailsType)}}},[e._v(e._s(e.$t("Confirm")))])],1)])],1)])},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("c5f6"),a("7f7f"),a("96cf"),a("3b8d")),l=a("bd86"),o=a("2f62"),s=a("f6d4"),c=a("31c6");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach(function(t){Object(l["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var d={components:{dragUpload:s["a"],TinymceEditor:c["a"]},data:function(){var e=this,t=function(t,a,n){var r=/[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)/;if(r.test(a))return n();n(new Error(e.$t("Channel_Form_email")))};return{isAvatar:"",DiscountDialogVisible:!1,inputPromoCode:"",inputValue:10,inputUrl:"",V_loading:!1,selectProducts:"",selectProductsTwo:1,selectProductsYjName:[{id:1,name:this.$t("Percent")},{id:2,name:this.$t("Fixed_amount")}],selectList:[],upId:"",tableData:[],dialogStatus:"",titleMap:{addEquipment:"",editEquipment:this.$t("Modify")},dialogTitle:"",currentPage:1,pageSize:5,total:0,currentPageTwo:1,pageSizeTwo:5,totalTwo:0,addDialogVisible:!1,detailsDialogVisible:!1,ADdialogVisible:!1,ruleForm:{channelType:{flag:!1,value:""},channelEmail:{flag:!1,email:""},channelCode:{flag:!1,code:""},channelLogoUrl:{flag:!1,logoUrl:""},channelPhone:{flag:!1,phone:""},channelName:{flag:!1,name:""},channelName1:{flag:!1,name:{zh_tw:"",zh_cn:"",en_us:""}},country:{flag:!1,country:""},broker:{flag:!1,broker:""}},countryOptions:[{value:825,label:this.$t("HongKong")},{value:62,label:this.$t("Indonesia")},{value:44,label:this.$t("United_Kingdom")},{value:65,label:this.$t("Singapore")},{value:66,label:this.$t("Thailand")}],BrokerOptions:[],BrokerList:[],countryList:{825:this.$t("HongKong"),62:this.$t("Indonesia"),44:this.$t("United_Kingdom"),65:this.$t("Singapore")},typeList:{0:this.$t("Primary_Channel"),1:this.$t("Vouchersurance_Channel")},editForm:{},oneRules:{"channelType.value":[{required:!0,message:this.$t("Channel_Form_rule1"),trigger:"blur"}],"channelCode.code":[{required:!0,message:this.$t("Channel_Form_rule2"),trigger:"blur"}],"channelEmail.email":[{required:!0,message:this.$t("Channel_Form_rule3"),trigger:"blur"},{validator:t,trigger:"blur"}],"channelPhone.phone":[{required:!0,message:this.$t("Merchant_Form_rule6"),trigger:"blur"}],"channelLogoUrl.logoUrl":[{required:!0,message:this.$t("Channel_Form_rule4"),trigger:"blur"}],"channelName.name":[{required:!0,message:this.$t("Channel_Form_rule5"),trigger:"blur"}],"country.country":[{required:!0,message:this.$t("Channel_Form_rule6"),trigger:"blur"}]},detailsInfoList:[],detaId:"",addPromoCodeId:"",req_FormData:null,file:null,typeId:"",detailsType:0,isShow:!0}},computed:h({},Object(o["c"])(["AccountData","AWSAccountData"])),created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBrokerList();case 2:return e.next=4,this.ChannelList();case 4:this.titleMap.addEquipment=this.$t("Create_Channel"),"add"==this.$route.params.type&&this.AddedDialog();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},methods:{GetUpload:function(e){this.file=e,this.UploadImg()},show:function(e){this.isShow=e},UploadImg:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.req_FormData=new FormData,this.req_FormData.append("file",this.file),this.req_FormData.append("path",this.AccountData.dtxAccountId+"/"+this.AccountData.subId+"/"+this.PageComponent+"/channel"),this.req_FormData.append("permissionsType","publicUpload"),e.prev=4,e.next=7,this.$http.DtxFile(this.req_FormData);case 7:t=e.sent,200==t.data.status?this.ruleForm.channelLogoUrl.logoUrl=t.data.data[0]:this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),this.$alert(this.$t("request_error_title"),"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 14:case"end":return e.stop()}},e,this,[[4,11]])}));function t(){return e.apply(this,arguments)}return t}(),AddedDialog:function(){this.addDialogVisible=!0,this.dialogStatus="addEquipment",this.dialogTitle="addData",this.isAvatar="no",this.ruleForm.channelEmail.email="",this.ruleForm.channelCode.code="",this.ruleForm.channelLogoUrl.logoUrl="",this.ruleForm.channelName.name="",this.ruleForm.channelName1.name.zh_tw="",this.ruleForm.channelName1.name.zh_cn="",this.ruleForm.channelName1.name.en_us="",this.ruleForm.country.country="",this.ruleForm.channelType.flag=!0,this.ruleForm.channelEmail.flag=!0,this.ruleForm.channelCode.flag=!0,this.ruleForm.channelLogoUrl.flag=!0,this.ruleForm.channelName.flag=!0,this.ruleForm.channelName1.flag=!0,this.ruleForm.country.flag=!0},Submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs[t].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}if("addData"!==a.dialogTitle){e.next=6;break}return e.next=4,a.AddChannelList();case 4:e.next=9;break;case 6:if("showEditDialog"!==a.dialogTitle){e.next=9;break}return e.next=9,a.UpChannel();case 9:a.addDialogVisible=!1,e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),AddChannelList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={dtxAccountId:this.AccountData.dtxAccountId,channelType:0,code:this.ruleForm.channelCode.code,email:this.ruleForm.channelEmail.email,logoUrl:this.ruleForm.channelLogoUrl.logoUrl,name:"42822"==this.AWSAccountData["custom:fileNo"]?JSON.stringify(this.ruleForm.channelName1.name):this.ruleForm.channelName.name,phone:this.ruleForm.channelPhone.phone,brokerId:this.ruleForm.broker.broker,country:"42822"!=this.AWSAccountData["custom:fileNo"]?this.ruleForm.country.country:825},e.prev=1,e.next=4,this.$http.createChannel(t);case 4:if(a=e.sent,200!=a.data.status){e.next=11;break}return this.addDialogVisible=!1,e.next=9,this.ChannelList();case 9:e.next=12;break;case 11:this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](1);case 16:this.isShow=!1;case 17:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),updateOnline:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.updateChannel({channelId:t,upLine:a});case 3:if(n=e.sent,200!==n.data.status){e.next=9;break}return e.next=7,this.ChannelList();case 7:e.next=10;break;case 9:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:case"end":return e.stop()}},e,this,[[0,12]])}));function t(t,a){return e.apply(this,arguments)}return t}(),UpChannel:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.updateChannel({channelId:this.upId,email:this.ruleForm.channelEmail.email,code:this.ruleForm.channelCode.code,logoUrl:this.ruleForm.channelLogoUrl.logoUrl,name:"42822"==this.AWSAccountData["custom:fileNo"]?JSON.stringify(this.ruleForm.channelName1.name):this.ruleForm.channelName.name,phone:this.ruleForm.channelPhone.phone||"",country:this.ruleForm.country.country});case 3:if(t=e.sent,200!==t.data.status){e.next=9;break}return e.next=7,this.ChannelList();case 7:e.next=10;break;case 9:this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}(),DetailsList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.detailsDialogVisible=!0,this.detaId=t,e.prev=2,e.next=5,this.$http.channelProductsList({channelId:this.detaId.id},{nowPage:this.currentPageTwo,pageSize:this.pageSizeTwo});case 5:a=e.sent,200==a.data.status?(this.detailsInfoList=a.data.data.rows,this.totalTwo=a.data.data.total):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}},e,this,[[2,9]])}));function t(t){return e.apply(this,arguments)}return t}(),submitBuiId:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a={channelId:this.detaId.id,productId:this.selectProducts,commissionType:this.selectProductsTwo,commissionValue:this.inputValue,promoCode:this.inputPromoCode},this.selectProducts){e.next=6;break}return this.$message({message:this.$t("Channel_Form2_rule1"),type:"warning"}),e.abrupt("return");case 6:if(this.selectProductsTwo){e.next=11;break}return this.$message({message:this.$t("Channel_Form2_rule2"),type:"warning"}),e.abrupt("return");case 11:if(this.inputValue){e.next=14;break}return this.$message({message:this.$t("Channel_Form2_rule3"),type:"warning"}),e.abrupt("return");case 14:if(0!=t){e.next=33;break}return e.prev=15,e.next=18,this.$http.channelBindingProduct(a);case 18:if(n=e.sent,200!=n.data.status){e.next=26;break}return this.inputUrl=n.data.data,this.ADdialogVisible=!1,e.next=24,this.DetailsList(this.detaId);case 24:e.next=27;break;case 26:this.$alert(n.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 27:e.next=31;break;case 29:e.prev=29,e.t0=e["catch"](15);case 31:e.next=50;break;case 33:return a.id=this.addPromoCodeId,e.prev=34,e.next=37,this.$http.updateChannelBindingProduct(a);case 37:if(r=e.sent,200!=r.data.status){e.next=45;break}return this.inputUrl=r.data.data,this.ADdialogVisible=!1,e.next=43,this.DetailsList(this.detaId);case 43:e.next=46;break;case 45:this.$alert(r.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});case 46:e.next=50;break;case 48:e.prev=48,e.t1=e["catch"](34);case 50:case"end":return e.stop()}},e,this,[[15,29],[34,48]])}));function t(t){return e.apply(this,arguments)}return t}(),channelDetails:function(e){this.$router.push({name:"channelDetails"}),sessionStorage.setItem("channelId",e.id)},GetProductList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.GetProductList({userId:this.AccountData.dtxAccountId,status:t});case 4:if(a=e.sent,200==a.data.status)for("42822"==this.AWSAccountData["custom:fileNo"]?this.selectList=[{productName:"學宜無憂留學保險",productId:"5f8566bb3bdbd6825e1f9f80"}]:this.selectList=[],n=a.data.data,r=0;r<n.length;r++){for(i=r+1;i<n.length;i++)n[r].productId===n[i].productId&&(r++,i=r);this.selectList.push(n[r])}else this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}});this.V_loading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.V_loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),getBrokerList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.getBrokerList({companyId:this.AccountData.dtxAccountId},{nowPage:this.currentPage,pageSize:this.pageSize});case 4:t=e.sent,200==t.data.status?(this.BrokerList=t.data.data,t.data.data.map(function(e){a.BrokerOptions.push({label:e.brokerName,value:e.id})}),this.V_loading=!1):this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.V_loading=!1;case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),getBrokerInfo:function(e){var t=this;this.BrokerList.map(function(a){e==a.id&&(t.ruleForm.channelEmail.email=a.brokerEmail,t.ruleForm.channelEmail.flag=!1,t.ruleForm.channelCode.code=a.brokerCode,t.ruleForm.channelCode.flag=!1,t.ruleForm.channelLogoUrl.logoUrl=a.brokerLogo,t.ruleForm.channelLogoUrl.flag=!1,t.ruleForm.channelName.name=a.brokerName,t.ruleForm.channelName.flag=!0,t.ruleForm.country.country=Number(a.brokerCountry),t.ruleForm.country.flag=!1,t.ruleForm.channelPhone.phone=a.brokerNumber,t.ruleForm.channelType.flag=!1)})},addDetails:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.ADdialogVisible=!0,this.detailsType=0,this.dialogStatus="addEquipment",this.dialogTitle="addData",e.next=6,this.GetProductList(1);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),upADdialogVisible:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addPromoCodeId=t.id,this.detailsType=1,this.dialogStatus="editEquipment",this.dialogTitle="showEditDialog",e.next=6,this.GetProductList(1);case 6:return e.next=8,this.updateChannelBindingProductShow();case 8:this.ADdialogVisible=!0;case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateChannelBindingProductShow:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={id:this.addPromoCodeId},e.prev=1,e.next=4,this.$http.updateChannelBindingProductShow(t);case 4:a=e.sent,200==a.data.status?(this.inputUrl=a.data.data.productUrl,this.inputValue=a.data.data.commissionValue,this.selectProducts=a.data.data.productId,this.selectProductsTwo=a.data.data.commissionType,this.inputPromoCode=a.data.data.promoCode):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),getRamNumber:function(){for(var e="",t=0;t<10;t++)e+=Math.floor(10*Math.random()).toString(10);return e.toUpperCase()},ChannelList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.V_loading=!0,e.prev=1,e.next=4,this.$http.findChannelListByInsurer({dtxAccountId:this.AccountData.dtxAccountId,channelType:0},{nowPage:this.currentPage,pageSize:this.pageSize});case 4:t=e.sent,200==t.data.status?(this.tableData=t.data.data.rows,this.total=t.data.data.total,this.V_loading=!1):this.$alert(t.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.V_loading=!1;case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.upId=t,this.addDialogVisible=!0,this.isAvatar="no",this.dialogStatus="editEquipment",this.dialogTitle="showEditDialog",e.prev=5,e.next=8,this.$http.updateChannelShow({channelId:t});case 8:a=e.sent,200===a.data.status?(this.ruleForm.channelEmail.email=a.data.data.channelEmail.value,this.ruleForm.channelEmail.flag=a.data.data.channelEmail.flag,this.ruleForm.channelCode.code=a.data.data.channelCode.value,this.ruleForm.channelCode.flag=a.data.data.channelCode.flag,this.ruleForm.channelLogoUrl.logoUrl=a.data.data.channelLogoUrl.value,this.ruleForm.channelLogoUrl.flag=a.data.data.channelLogoUrl.flag,"42822"==this.AWSAccountData["custom:fileNo"]?this.ruleForm.channelName1.name=JSON.parse(a.data.data.channelName.value):this.ruleForm.channelName.name=a.data.data.channelName.value,"42822"==this.AWSAccountData["custom:fileNo"]?this.ruleForm.channelName1.flag=a.data.data.channelName.flag:this.ruleForm.channelName.flag=a.data.data.channelName.flag,this.ruleForm.country.country=Number(a.data.data.channelCountry.value),this.ruleForm.country.flag=a.data.data.channelCountry.flag,this.ruleForm.channelPhone.phone=a.data.data.phone,this.ruleForm.country.flag=!1,this.ruleForm.channelType.value=Number(a.data.data.channelType.value),this.ruleForm.channelType.flag=a.data.data.channelType.flag):this.$alert(a.data.msg,"",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](5);case 14:case"end":return e.stop()}},e,this,[[5,12]])}));function t(t){return e.apply(this,arguments)}return t}(),addedClosed:function(){this.$refs.addruleFormRef.resetFields(),this.file="",this.isAvatar="ok"},CloseAddDetails:function(){this.selectProducts="",this.inputUrl="",this.inputPromoCode=""},handleSizeChange:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.pageSize=t,e.next=3,this.ChannelList();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleSizeChangeS:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.pageSizeTwo=t,e.next=3,this.DetailsList(this.detaId);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.next=3,this.ChannelList();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChangeS:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPageTwo=t,e.next=3,this.DetailsList(this.detaId);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},p=d,m=(a("fe49"),a("2877")),f=Object(m["a"])(p,n,r,!1,null,"b6d8c152",null);t["default"]=f.exports},e073a:function(e,t,a){"use strict";var n=a("9b19"),r=a.n(n);r.a},f6d4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"upload",staticClass:"uploadPDF",attrs:{action:e.action,"show-file-list":!1,"before-upload":e.beforeUpload,"auto-upload":!0,drag:"",multiple:""}},[e.imageUrl&&e.isShow?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("span",[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.fileName,expression:"!fileName"}],staticClass:"el-icon-upload avatar-uploader-icon"}),a("span",[e._v(e._s(e.$t("Drag_and_Drop_file")))])]),e.imageUrl?e._e():a("p",{staticClass:"pdfFile",on:{click:e.viewfile}},[e._v(e._s(e.fileName))])]),a("el-dialog",{attrs:{title:e.$t("Picture_Clipping"),visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"cropper-content"},[a("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[a("VueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,fixed:e.option.fixed,fixedNumber:e.option.fixedNumber,centerBox:e.option.centerBox,infoTrue:e.option.infoTrue,fixedBox:e.option.fixedBox}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.finish}},[e._v(e._s(e.$t("Confirm")))])],1)])],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("7f7f"),a("7618")),l=(a("96cf"),a("3b8d")),o=a("bd86"),s=a("2f62");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h={props:{url:{type:String,default:""},fileType:{type:String,default:""},excelOnlineName:{type:String,default:""},isAvatar:{type:String,default:""},isShow:{type:Boolean,default:!0},fixedNumberList:{type:Array,default:[7,5]}},data:function(){return{action:window.BASE_URL+"/v1/upload/dtxFile",file:"",fileName:"",fileData:"",imageUrl:"",dialogVisible:!1,option:{img:"",info:!0,outputSize:.8,outputType:"png",canScale:!1,autoCrop:!0,fixedBox:!1,fixed:!1,fixedNumber:[7,5],full:!0,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!0},fileinfo:"",picsList:[],loading:!1}},computed:u({},Object(s["c"])(["AccountData"]),{onlineImageUrl:function(){this.url&&(this.imageUrl=this.url),this.excelOnlineName&&(this.fileName="Price.xls",this.fileData=this.excelOnlineName)}}),watch:{onlineImageUrl:function(e){},isAvatar:function(e){"ok"==e&&(this.imageUrl="")}},created:function(){},methods:{getUploadFile1:function(e){},getUploadFile:function(e,t){var a=this,n=e.raw;this.fileinfo=e;var r=new FileReader;r.onload=function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n="object"===Object(i["a"])(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result],{type:"image/jpeg"})):t.target.result,a.option.img=n,a.dialogVisible=!0;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.readAsArrayBuffer(n),this.option.fixedNumber=this.fixedNumberList},changeUpload:function(e,t){var a=this,n=e.size/1024/1024<5;if(!n)return this.$message.error("上传文件大小不能超过 5MB!"),!1;this.fileinfo=e,this.$nextTick(function(){try{a.option.imgObject=e}catch(t){a.option.img=window.URL.createObjectURL(e)}a.dialogVisible=!0})},finish:function(){var e=this;this.$refs.cropper.getCropBlob(function(t){var a=new FormData;a.append("file",new window.File([t],"cropper"+e.fileinfo.raw.name,{type:e.fileinfo.raw.type})),e.imageUrl=URL.createObjectURL(a.get("file")),e.$emit("GetUpload",a.get("file")),e.dialogVisible=!1})},beforeUpload:function(e){if("image"==this.fileType)var t="png"==e.name.split(".").slice(-1)[0]||"jpg"==e.name.split(".").slice(-1)[0]||"jpeg"==e.name.split(".").slice(-1)[0]||"svg"==e.name.split(".").slice(-1)[0];else t="pdf"==e.name.split(".").slice(-1)[0]||"png"==e.name.split(".").slice(-1)[0]||"jpg"==e.name.split(".").slice(-1)[0]||"jpeg"==e.name.split(".").slice(-1)[0]||"gif"==e.name.split(".").slice(-1)[0]||"svg"==e.name.split(".").slice(-1)[0]||"xlsx"==e.name.split(".").slice(-1)[0]||"xls"==e.name.split(".").slice(-1)[0]||void 0;if(t){if("pdf"==e.name.split(".").slice(-1)||"xlsx"==e.name.split(".").slice(-1)||"xls"==e.name.split(".").slice(-1)){this.fileName=e.name,this.imageUrl="";var a=new FileReader;a.readAsDataURL(e);var n=this;return a.onload=function(){n.fileData=a.result},this.$emit("GetUpload",e),!1}this.fileName="",this.fileData="",this.imageUrl=URL.createObjectURL(e),this.$emit("GetUpload",e),this.$emit("show",!0);var r=e.size/1024/1024<5;return r||this.$alert("上传图片大小不能超过 5MB!","",{confirmButtonText:this.$t("Confirm"),callback:function(e){}}),r}this.$alert("Document does not comply!","",{confirmButtonText:this.$t("Confirm"),callback:function(e){}})},viewfile:function(){var e=window.open();e.document.write('<body style="margin:0px;"><object data="'+this.fileData+'" type="application/pdf" width="100%" height="100%"><iframe src="'+this.fileData+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')}}},d=h,p=(a("e073a"),a("2877")),m=Object(p["a"])(d,n,r,!1,null,"e535f140",null);t["a"]=m.exports},fe49:function(e,t,a){"use strict";var n=a("229f"),r=a.n(n);r.a}}]);