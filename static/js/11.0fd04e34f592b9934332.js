webpackJsonp([11],{HOIG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),o=s.n(a),r=s("exGp"),n=s.n(r),i=s("Dd8w"),l=s.n(i),u=s("NYxO"),c={data:function(){return{userTotalInfo:{userData:{gender:"Gender",Surname:"",Givenname:"",datebirth:"Date of birth",Position:"Position",Nationality:"Nationality",Effective:"Effective date"},address:{Territory:"Territory",District:"District",block:"",floor:"",room:"",building:""},form:{HKID_passport:"",HKID1:"",HKID2:""}},select:1,ages:"",data_type:"",data_type_two:"",isuserData:""}},created:function(){this.getProtectorInfo(),console.log(this.userTotalInfo)},methods:l()({},Object(u.b)(["setProtectorInfo","setHelperInfo"]),{showPicker:function(e,t){var s=this;this.data_type_two=e,this.isuserData=t;var a=[];"gender"==e?a=[{text:this.$t("Female"),value:"Male"},{text:this.$t("Male"),value:"Female"}]:"Position"==e?a=[{text:"Domestic Helper",value:"Domestic Helper"},{text:"Gardener",value:"Gardener"},{text:"Others",value:"Others"}]:"Nationality"==e?a=[{text:"Chinese",value:"Chinese"},{text:"Hong Kong",value:"Hong Kong"},{text:"Others",value:"Others"}]:"Territory"==e?a=[{text:"NEW TERRITORIES",value:"NEW TERRITORIES"},{text:"HONG KONG",value:"HONG KONG"},{text:"KOWLOON",value:"KOWLOON"}]:"District"==e&&(a=[{text:"North District",value:"North District"},{text:"Tai Po",value:"Tai Po"},{text:"Tsuen Wan",value:"Tsuen Wan"},{text:"Kai Hing",value:"Kai Hing"}]),setTimeout(function(){s.picker.$updateProps({title:e,data:[a]})},0),this.picker||(this.picker=this.$createPicker({title:this.$t("Gender"),data:[a],cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectGender,onCancel:this.cancelGender})),this.picker.show()},selectGender:function(e,t,s){this.userTotalInfo[this.isuserData][this.data_type_two]=s.join(" ")},cancelGender:function(){},showDatePicker:function(e){var t=this;setTimeout(function(){t.datePicker.$updateProps({title:e})},0),this.data_type=e,this.datePicker||(this.datePicker=this.$createDatePicker({title:this.$t("account_info_birthday"),min:new Date(1900,1,1),max:new Date,value:new Date(1980,5,20),cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectHandle,onCancel:this.cancelHandle})),this.datePicker.show()},selectHandle:function(e,t,s){this.userTotalInfo.userData[this.data_type]=this.dateTozero(t).join("-"),this.$refs[this.data_type].value=this.userTotalInfo.form.datebirth,console.log(this.userTotalInfo.userData),"datebirth"==this.data_type&&this.getYears()},cancelHandle:function(){},dateTozero:function(e){return e.map(function(e){return e<10?"0"+e:""+e})},confirm:function(){var e=this;return n()(o.a.mark(function t(){var s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.userTotalInfo),"Date of birth"!=e.userTotalInfo.userData.datebirth&&""!=e.userTotalInfo.userData.Givenname&&"Gender"!=e.userTotalInfo.userData.gender&&""!=e.userTotalInfo.userData.Surname&&"Position"!=e.userTotalInfo.userData.Position&&"Nationality"!=e.userTotalInfo.userData.Nationality&&"Effective date"!=e.userTotalInfo.userData.Effective&&"Territory"!=e.userTotalInfo.address.Territory&&"District"!=e.userTotalInfo.address.District&&""!=e.userTotalInfo.address.block&&""!=e.userTotalInfo.address.floor&&""!=e.userTotalInfo.address.room&&""!=e.userTotalInfo.address.building){t.next=4;break}return e.$createToast({txt:e.$t("notInformation"),time:3e3,type:"txt"}).show(),t.abrupt("return",!1);case 4:if(""!=e.userTotalInfo.form.HKID1||""!=e.userTotalInfo.form.HKID_passport){t.next=7;break}return e.$createToast({txt:e.$t("notInformation"),time:3e3,type:"txt"}).show(),t.abrupt("return",!1);case 7:if(""==e.userTotalInfo.form.HKID1||""!=e.userTotalInfo.form.HKID2){t.next=10;break}return e.$createToast({txt:e.$t("notInformation"),time:3e3,type:"txt"}).show(),t.abrupt("return",!1);case 10:return t.next=12,e.verifyUserFrom(e.userTotalInfo.form);case 12:if(0!=(s=t.sent)){t.next=15;break}return t.abrupt("return",!1);case 15:console.log(s),1==s&&(e.setHelperInfo(e.userTotalInfo),e.$router.push({path:"/Question"}));case 17:case"end":return t.stop()}},t,e)}))()},getProtectorInfo:function(){if(console.log(this.helperInfo),this.helperInfo){for(var e in this.helperInfo)for(var t in this.helperInfo[e])this.userTotalInfo[e][t]=this.helperInfo[e][t];""!=this.userTotalInfo.form.HKID_passport&&(this.select=2)}this.getYears()},verifyUserFrom:function(e){var t=this;return n()(o.a.mark(function e(){var s,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!1,""==t.userTotalInfo.form.HKID1){e.next=19;break}return a=t.userTotalInfo.form.HKID1+t.userTotalInfo.form.HKID2,console.log(a),e.prev=4,e.next=7,t.$http.post("/wesupromo/web/validate/validateHKIDWithLng",{language:"tc",hkid:a});case 7:r=e.sent,console.log(r),console.log(r.status),e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(4),console.log(e.t0),0!=e.t0.data.is_valid){e.next=19;break}return t.$createToast({time:3500,type:"txt",txt:e.t0.msg}).show(),e.abrupt("return",!1);case 19:return s=!0,console.log(s),e.abrupt("return",s);case 22:case"end":return e.stop()}},e,t,[[4,12]])}))()},toPrePage:function(){this.$router.push("/EmployerDetail")},inputHkid:function(){""!=this.$refs.HKID_passport.value.trim()?(this.$createToast({txt:this.$t("onlyOne"),time:3e3,type:"txt"}).show(),this.select=2):this.select=1},inputPassport:function(){""!=this.$refs.HKID1.value.trim()||""!=this.$refs.HKID2.value.trim()?(this.$createToast({txt:this.$t("onlyOne"),time:3e3,type:"txt"}).show(),this.select=1):this.select=2},getToday:function(e){var t=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var a=e.getDate();return t+"/"+s+"/"+(a=a<10?"0"+a:a)},getYears:function(){var e=this.getToday(new Date),t=Math.ceil((new Date(e+" 00:00:00").getTime()-new Date(this.userTotalInfo.userData.datebirth.replace(/-/g,"/")+" 00:00:00").getTime())/864e5);this.ages=Math.floor(t/365),console.log(this.ages+"å²")}}),computed:l()({},Object(u.c)(["helperInfo","product_id","language","plan"]))},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-wrap"},[s("div",{staticClass:"headTitle"},[s("i",{staticClass:"cubeic-arrow",on:{click:e.toPrePage}}),e._v(" "),s("p",[e._v(e._s(e.$t("hl_helper_edit1")))])]),e._v(" "),s("div",{staticClass:"center_contain"},[s("div",{staticClass:"top"},[s("div",{staticClass:"form-item"},[s("p",[e._v(e._s(e.$t("sex_title_1")))]),e._v(" "),s("div",{ref:"Gender",staticClass:"GenderDiv",class:{blank:"Gender"!=e.userTotalInfo.userData.gender},on:{click:function(t){return e.showPicker("gender","userData")}}},[e._v(e._s(e.userTotalInfo.userData.gender))])]),e._v(" "),s("p",[e._v(e._s(e.$t("account_info_lastname2")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.userData.Surname,expression:"userTotalInfo.userData.Surname"}],attrs:{type:"text",placeholder:"Passport Surname (English)*"},domProps:{value:e.userTotalInfo.userData.Surname},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.userData,"Surname",t.target.value)}}}),e._v(" "),s("p",[e._v(e._s(e.$t("account_info_firstname2")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.userData.Givenname,expression:"userTotalInfo.userData.Givenname"}],attrs:{type:"text",placeholder:"Passport Given Name (English)*"},domProps:{value:e.userTotalInfo.userData.Givenname},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.userData,"Givenname",t.target.value)}}}),e._v(" "),s("div",{staticClass:"form-item"},[s("p",[e._v(e._s(e.$t("Date_of_Birth")))]),e._v(" "),s("div",{ref:"datebirth",staticClass:"GenderDiv",class:{blank:"Date of birth"!=e.userTotalInfo.userData.datebirth},on:{click:function(t){return e.showDatePicker("datebirth")}}},[e._v(e._s(e.userTotalInfo.userData.datebirth))])]),e._v(" "),s("div",{staticClass:"form-item"},[s("p",[e._v(e._s(e.$t("hl_helper_desc25")))]),e._v(" "),s("div",{ref:"Position",staticClass:"GenderDiv",class:{blank:"Position"!=e.userTotalInfo.userData.Position},on:{click:function(t){return e.showPicker("Position","userData")}}},[e._v(e._s(this.userTotalInfo.userData.Position))])]),e._v(" "),s("div",{staticClass:"form-item"},[s("p",[e._v(e._s(e.$t("hl_helper_desc27")))]),e._v(" "),s("div",{ref:"Nationality",staticClass:"GenderDiv",class:{blank:"Nationality"!=e.userTotalInfo.userData.Nationality},on:{click:function(t){return e.showPicker("Nationality","userData")}}},[e._v(e._s(this.userTotalInfo.userData.Nationality))])]),e._v(" "),s("div",{staticClass:"form-item"},[s("p",[e._v(e._s(e.$t("Effective_date")))]),e._v(" "),s("div",{ref:"Effective",staticClass:"GenderDiv",class:{blank:"Effective date"!=e.userTotalInfo.userData.Effective},on:{click:function(t){return e.showDatePicker("Effective")}}},[e._v(e._s(e.userTotalInfo.userData.Effective))])])]),e._v(" "),s("div",{staticClass:"text"},[s("p",[e._v("\n        "+e._s(e.$t("hl_helper_desc11"))+"\n        "),s("span",[e._v(e._s(e.$t("hl_helper_desc10")))])])]),e._v(" "),s("div",{staticClass:"table_address"},[s("div",{staticClass:"content"},[s("div",{staticClass:"terntory",class:{blank:"Territory"!=e.userTotalInfo.address.Territory},on:{click:function(t){return e.showPicker("Territory","address")}}},[e._v(e._s(e.userTotalInfo.address.Territory))]),e._v(" "),s("div",{staticClass:"distnct",class:{blank:"District"!=e.userTotalInfo.address.District},on:{click:function(t){return e.showPicker("District","address")}}},[e._v(e._s(e.userTotalInfo.address.District))]),e._v(" "),s("div",{staticClass:"block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.address.block,expression:"userTotalInfo.address.block"}],attrs:{type:"text",placeholder:"Block"},domProps:{value:e.userTotalInfo.address.block},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.address,"block",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.address.floor,expression:"userTotalInfo.address.floor"}],attrs:{type:"text",placeholder:"Floor"},domProps:{value:e.userTotalInfo.address.floor},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.address,"floor",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.address.room,expression:"userTotalInfo.address.room"}],attrs:{type:"text",placeholder:"Room"},domProps:{value:e.userTotalInfo.address.room},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.address,"room",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"building"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.address.building,expression:"userTotalInfo.address.building"}],attrs:{type:"text",placeholder:"Building/Estate/Street No*"},domProps:{value:e.userTotalInfo.address.building},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.address,"building",t.target.value)}}})])])]),e._v(" "),s("div",[s("button",{staticClass:"HKID",class:[1==e.select?"blue":""],on:{click:e.inputHkid}},[e._v("\n        "+e._s(e.$t("personal_hkid"))+"\n        "),s("i",{class:[1==e.select?"cubeic-ok":""]})]),e._v(" "),s("button",{staticClass:"passport",class:[2==e.select?"blue":""],on:{click:e.inputPassport}},[e._v("\n        "+e._s(e.$t("info_passport"))+"\n        "),s("i",{class:[2==e.select?"cubeic-ok":""]})])]),e._v(" "),s("div",{staticClass:"HK"},[s("span",{staticClass:"hkNumber"},[e._v(e._s(1==e.select?e.$t("account_info_hkid")+":":e.$t("info_passport")+":"))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.select,expression:"select == 1"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.form.HKID1,expression:"userTotalInfo.form.HKID1"}],ref:"HKID1",staticClass:"IDnumber",attrs:{type:"text",placeholder:"A123456"},domProps:{value:e.userTotalInfo.form.HKID1},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.form,"HKID1",t.target.value)}}})]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.select,expression:"select == 1"}]},[e._v("(")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.select,expression:"select == 1"}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.form.HKID2,expression:"userTotalInfo.form.HKID2"}],ref:"HKID2",staticClass:"num",attrs:{type:"text",placeholder:"7"},domProps:{value:e.userTotalInfo.form.HKID2},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.form,"HKID2",t.target.value)}}})]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.select,expression:"select == 1"}]},[e._v(")")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.select,expression:"select == 2"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTotalInfo.form.HKID_passport,expression:"userTotalInfo.form.HKID_passport"}],ref:"HKID_passport",staticClass:"IDnumber",class:[2==e.select?"width":""],attrs:{type:"text",placeholder:"A123456"},domProps:{value:e.userTotalInfo.form.HKID_passport},on:{input:function(t){t.target.composing||e.$set(e.userTotalInfo.form,"HKID_passport",t.target.value)}}})])])])]),e._v(" "),s("div",{staticClass:"button-bar"},[s("button",{staticClass:"proceed",on:{click:e.confirm}},[e._v("Confirm")])])])},staticRenderFns:[]};var d=s("VU/8")(c,f,!1,function(e){s("zNsb")},"data-v-b2b4a9fe",null);t.default=d.exports},zNsb:function(e,t){}});
//# sourceMappingURL=11.0fd04e34f592b9934332.js.map