webpackJsonp([7],{Nwsu:function(e,t){},eerB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),o=a.n(s),i=a("exGp"),n=a.n(i),r=a("Dd8w"),c=a.n(r),l=a("NYxO"),d={data:function(){return{travelInfo:{},more:!1,data:"",flag:!0,remarks:[],ischecked:0,productId:"",areacode:"86",trip:"",price:"",Language:"",rendomNum:"",MerchantId:"",agesInfo:{},isShow:!0,showExplain:!1,facility:"",options:["繁體中文","English"],selectValue:"",title:this.$t("language"),placeholder:"请选择入职时间",autoPop:!1,disabled:!1,showCustomerService:!1}},computed:c()({},Object(l.c)(["product_id","language","plan","ageInfo","pricedata"])),created:function(){this.reset(["product_info","plan","travelInfo","userInfo","protectorInfo","userPhone","userId","commonKey","certificateId","ageInfo","pricedata"]),this.getRamNumber(),this.productId=this.$route.params.productId,this.Language=this.$route.params.language,this.selectValue="eng"==this.Language?"English":"繁體中文",this.MerchantId=this.$route.params.merchantId,this.setBeginProductId(this.productId),this.setProductId(this.productId),this.setLanguage(this.Language),this.setMerchantId(this.MerchantId),this.setSession(this.MerchantId+this.rendomNum),window.localStorage.setItem("lang",this.Language),console.log(this.$i18n.locale),this.$i18n.locale="tc"==this.Language?this.$i18n.locale="tc":this.$i18n.locale="eng",this.IsPC()},mounted:function(){var e=this;return n()(o.a.mark(function t(){var a,s,i,n,r,c,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("https://api.ipify.org");case 3:a=t.sent,console.log(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return s={language:e.Language,product_id:e.productId,phone_country_code:e.areacode,merchant_id:e.MerchantId},(i=e.$createToast({time:0,txt:e.$t("loading")})).show(),t.prev=13,t.next=16,e.$http.post("/wesupromo/web/tpc/getProductDetails",s);case 16:n=t.sent,console.log(n),100==n.status&&(e.data=n.data,console.log(e.data),e.$nextTick(function(){i.hide()}),e.setPlan({period_type:n.data.period_type,period_value:n.data.period_value,price_desc:n.data.price_desc,product_code:n.data.product_code,product_id:n.data.product_id}),e.setName(n.data.name),e.setProductType(n.data.product_type),e.setPriceSymbol(n.data.currency_desc),e.data.remarks=e.ReplaceUrl(n.data.remarks),e.data.customer_service=e.ReplaceUrl(n.data.customer_service)),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(13),t.t1.msg?e.$createToast({txt:t.t1.msg,time:3e3,type:"txt"}).show():e.$createToast({txt:e.$t("request_error_toast2"),time:3e3,type:"txt"}).show();case 24:if(r=e.getCookie(e.productId),console.log(r),console.log(e.facility),""!=r&&r==e.productId){t.next=43;break}return c=e.randomString(20),t.prev=29,t.next=32,e.$http.post("/wesupromo/web/addClicks",{merchant_id:e.MerchantId,product_id:e.productId,device_session_id:c,device_platform:e.facility});case 32:l=t.sent,console.log(l),e.setCookieFixed(e.productId,c,"00:00:00"),t.next=40;break;case 37:t.prev=37,t.t2=t.catch(29),console.log(t.t2);case 40:console.log("没cookie,创建了一个cookie"),t.next=44;break;case 43:console.log("有cookie");case 44:case"end":return t.stop()}},t,e,[[0,7],[13,21],[29,37]])}))()},methods:c()({},Object(l.b)(["setPlan","setName","reset","setProductId","setLanguage","setSession","setProductType","setMerchantId","setPriceSymbol","setages","setBeginProductId","setfacility"]),{clickmore:function(){this.flag=!this.flag},setPlanProductId:function(e){this.setPlan(e),this.setProductId(e.product_id)},quato:function(){this.agesInfo.max_age=this.data.max_age,this.agesInfo.max_persons=this.data.max_persons,this.agesInfo.max_pp_age=this.data.max_pp_age,this.agesInfo.min_age=this.data.min_age,this.agesInfo.min_pp_age=this.data.min_pp_age,console.log(this.agesInfo),this.setages(this.agesInfo),this.setfacility(this.facility),this.$router.push({path:"/Travelinfo"})},getRamNumber:function(){for(var e="",t=0;t<8;t++)e+=Math.floor(16*Math.random()).toString(16);console.log(e.toUpperCase()),this.rendomNum=e.toUpperCase()},IsPC:function(){var e=navigator.userAgent;console.log(e);for(var t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,s=0;s<t.length;s++)if(e.indexOf(t[s])>0){a=!1,console.log("移动端"),this.phoneType();break}return a&&(console.log("PC端"),this.facility="PC"),a},phoneType:function(){var e=navigator.userAgent;e.indexOf("Android")>-1||e.indexOf("Linux")>-1?(console.log("Android"),this.facility="Android"):e.indexOf("iPhone")>-1?(console.log("iPhone"),this.facility="iPhone"):e.indexOf("Windows Phone")>-1?(console.log("Windows Phone"),this.facility="Windows Phone"):e.indexOf("iPad")>-1&&(console.log("iPad"),this.facility="tPC")},hideDiscount:function(){console.log("1"),this.isShow=!1},randomString:function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a=e,s="",o=0;o<a;o++){var i=Math.floor(Math.random()*t.length);s+=t.substring(i,i+1)}return s},getCookie:function(e){var t="";return console.log(document.cookie),document.cookie.length>0&&-1!=(t=document.cookie.indexOf(e+"="))?(t=t+e.length+1,-1==document.cookie.indexOf(";",t)&&document.cookie.length,e):""},setCookie:function(e,t,a){var s=new Date;s.setTime(s.getTime()+1e3*a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+s.toGMTString())},setCookieFixed:function(e,t,a){var s=new Date,o=s.getTime(),i=this.convertTime(s,a);console.log(i);var n=i-o;if(console.log(n),n<0){var r=new Date(o+864e5);r=this.getToday(r),i=new Date(r+" "+a).getTime(),console.log(i)}var c=new Date;c.setTime(i),document.cookie=e+"="+t+";expires="+c.toGMTString()},convertTime:function(e,t){var a=t.split(":"),s=parseInt(a[0]),o=parseInt(a[1]),i=parseInt(a[2]);return e.setHours(s),e.setMinutes(o),e.setSeconds(i),Date.parse(e)},getToday:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var s=e.getDate();return t+"/"+a+"/"+(s=s<10?"0"+s:s)},changeStatus:function(){console.log("开关改变了")},showHiddenExplain:function(e){if(this.showExplain=!this.showExplain,"show"==e){var t=function(e){e.preventDefault()};document.body.style.overflow="hidden",document.addEventListener("touchmove",t,!1)}else{t=function(e){e.preventDefault()};document.body.style.overflow="",document.removeEventListener("touchmove",t,!1)}},toCoverage:function(){var e=this.$router.resolve({path:"/productImg",query:{title:"coverage"}}).href;window.open(e,"_blank")},change:function(e,t,a){console.log("change",e,t,a),this.Language=localStorage.getItem("lang")||"tc","tc"===this.Language?(this.Language="eng",this.$i18n.locale=this.Language):(this.Language="tc",this.$i18n.locale=this.Language),localStorage.setItem("lang",this.Language),this.$router.push("/index/"+this.MerchantId+"/"+this.productId+"/"+this.Language),window.location.reload()},ReplaceUrl:function(e){var t=e.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,function(e){return'<a href="'+e+'" target=_blank style="color:#0c81ff;text-decoration:underline;">'+e+"</a>"});return console.log(t),t}})},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-wrap"},[s("cube-select",{staticClass:"cubeSelect",attrs:{title:e.title,options:e.options,placeholder:e.placeholder,"auto-pop":e.autoPop,disabled:e.disabled,cancelTxt:e.$t("cancel"),confirmTxt:e.$t("confirm")},on:{change:e.change},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),e._v(" "),s("p",{staticClass:"title"},[e._v("\n    "+e._s(e.data.displayed_owned_by)+"\n    "),s("img",{attrs:{src:a("jH3u")},on:{click:function(t){return e.showHiddenExplain("show")}}})]),e._v(" "),s("div",{staticClass:"headerimgs progressive"},[s("img",{directives:[{name:"progressive",rawName:"v-progressive",value:e.data.insurers_banner,expression:"data.insurers_banner"}],staticClass:"headerimg",attrs:{src:a("1q8V"),alt:""}})]),e._v(" "),s("p",{staticClass:"travelead"},[e._v(e._s(e.data.name))]),e._v(" "),s("p",{staticClass:"budget"},[e._v(e._s(e.data.desc1))]),e._v(" "),s("div",{staticClass:"travel-insurance"},[e._v(e._s(e.data.category_name))]),e._v(" "),s("div",{staticClass:"price"},[e._v("\n    "+e._s(e.data.price_desc)+"\n  ")]),e._v(" "),s("div",{staticClass:"discount"},[e._v(e._s(e.data.discount_price_desc))]),e._v(" "),s("div",{staticClass:"projectImg progressive"},[s("img",{directives:[{name:"progressive",rawName:"v-progressive",value:e.data.products_imgs[0],expression:"data.products_imgs[0]"}],staticClass:"box",attrs:{src:a("S2MT"),alt:""}})]),e._v(" "),s("div",{staticClass:"line"}),e._v(" "),s("div",{staticClass:"buttons"},e._l(this.data.plan_list,function(t,a){return s("button",{key:a,staticClass:"single btn",class:{isActive:e.plan.period_type==t.period_type},on:{click:function(a){return e.setPlanProductId(t)}}},[e._v(e._s(t.plan_list_name))])}),0),e._v(" "),e.plan?s("div",{staticClass:"trip"},[e._v(e._s(e.plan.plan_list_desc?e.plan.plan_list_desc:""))]):e._e(),e._v(" "),s("div",[s("p",{staticClass:"key"},[e._v(e._s(e.$t("product_decs_key_title")))]),e._v(" "),s("div",{staticClass:"key-content"},[s("div",{staticClass:"features-wrap"},[s("p",{class:{features:e.flag},domProps:{innerHTML:e._s(e.data.remarks)}}),e._v(" "),s("span",{staticClass:"more",on:{click:e.clickmore}},[e._v(e._s(e.flag?e.$t("product_decs_key_more"):e.$t("hide")))])])])]),e._v(" "),s("div",{staticClass:"customers",on:{click:function(t){e.showCustomerService=!e.showCustomerService}}},[s("span",{staticClass:"starrs"},[s("img",{staticClass:"starr",attrs:{src:e.data.cs_logo,alt:""}})]),e._v(" "),s("span",{staticClass:"customer"},[e._v(e._s(e.$t("account_customer_service")))]),e._v(" "),s("i",{staticClass:"cubeic-arrow"})]),e._v(" "),s("a",{staticClass:"coverages",attrs:{target:"_Blank",href:"https://dev-wesurance814.com/wesupromo/webview/coverageDetails?product_id="+e.productId+"&language="+e.Language}},[e._m(0),e._v(" "),s("span",{staticClass:"coverage"},[e._v(e._s(e.$t("products_choose_plan_coverage_title1")))]),e._v(" "),s("i",{staticClass:"cubeic-arrow"})]),e._v(" "),s("div",{staticClass:"button-bar"},[s("button",{staticClass:"quato",on:{click:e.quato}},[e._v(e._s(e.$t("Quote")))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showExplain,expression:"showExplain"}],staticClass:"popover_back"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showExplain,expression:"showExplain"}],staticClass:"explain"},[s("img",{attrs:{src:e.data.insurers_banner,alt:""}}),e._v(" "),s("p",[e._v(e._s(e.data.displayed_owned_by_details))]),e._v(" "),s("div",{staticClass:"button_back",on:{click:function(t){return e.showHiddenExplain("hidden")}}},[e._v(e._s(e.$t("btn_back")))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCustomerService,expression:"showCustomerService"}],staticClass:"popover_back"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCustomerService,expression:"showCustomerService"}],staticClass:"CustomerService"},[s("p",{domProps:{innerHTML:e._s(e.data.customer_service)}}),e._v(" "),s("div",{staticClass:"button_back",on:{click:function(t){e.showCustomerService=!e.showCustomerService}}},[e._v(e._s(e.$t("confirm")))])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"covers"},[t("img",{staticClass:"cover",attrs:{src:a("txLY"),alt:""}})])}]};var p=a("VU/8")(d,u,!1,function(e){a("Nwsu")},"data-v-266e291a",null);t.default=p.exports},txLY:function(e,t){e.exports="data:image/png;base64,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"}});