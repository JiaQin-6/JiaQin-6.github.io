webpackJsonp([17],{HOIG:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),r=s.n(a),o=s("exGp"),n=s.n(o),i=s("Dd8w"),l=s.n(i),u=s("NYxO"),c={data:function(){return{userTotalInfo:{userData:{gender:"Gender",Surname:"",Givenname:"",datebirth:"Date of birth",Position:"Position",Nationality:"Nationality",Effective:"Effective date"},address:{Territory:"Territory",District:"District",block:"",floor:"",room:"",building:""},form:{HKID_passport:"",HKID1:"",HKID2:""}},select:1,ages:"",data_type:"",data_type_two:"",isuserData:""}},created:function(){this.getProtectorInfo(),console.log(this.userTotalInfo)},methods:l()({},Object(u.b)(["setProtectorInfo","setHelperInfo"]),{showPicker:function(t,e){var s=this;this.data_type_two=t,this.isuserData=e;var a=[];"gender"==t?a=[{text:this.$t("Female"),value:"Male"},{text:this.$t("Male"),value:"Female"}]:"Position"==t?a=[{text:"Domestic Helper",value:"Domestic Helper"},{text:"Gardener",value:"Gardener"},{text:"Others",value:"Others"}]:"Nationality"==t?a=[{text:"Chinese",value:"Chinese"},{text:"Hong Kong",value:"Hong Kong"},{text:"Others",value:"Others"}]:"Territory"==t?a=[{text:"NEW TERRITORIES",value:"NEW TERRITORIES"},{text:"HONG KONG",value:"HONG KONG"},{text:"KOWLOON",value:"KOWLOON"}]:"District"==t&&(a=[{text:"North District",value:"North District"},{text:"Tai Po",value:"Tai Po"},{text:"Tsuen Wan",value:"Tsuen Wan"},{text:"Kai Hing",value:"Kai Hing"}]),setTimeout(function(){s.picker.$updateProps({title:t,data:[a]})},0),this.picker||(this.picker=this.$createPicker({title:this.$t("Gender"),data:[a],cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectGender,onCancel:this.cancelGender})),this.picker.show()},selectGender:function(t,e,s){this.userTotalInfo[this.isuserData][this.data_type_two]=s.join(" ")},cancelGender:function(){},showDatePicker:function(t){var e=this;setTimeout(function(){e.datePicker.$updateProps({title:t})},0),this.data_type=t,this.datePicker||(this.datePicker=this.$createDatePicker({title:this.$t("account_info_birthday"),min:new Date(1980,7,28),max:new Date,value:new Date,cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectHandle,onCancel:this.cancelHandle})),this.datePicker.show()},selectHandle:function(t,e,s){this.userTotalInfo.userData[this.data_type]=this.dateTozero(e).join("-"),this.$refs[this.data_type].value=this.userTotalInfo.form.datebirth,console.log(this.userTotalInfo.userData),"datebirth"==this.data_type&&this.getYears()},cancelHandle:function(){},dateTozero:function(t){return t.map(function(t){return t<10?"0"+t:""+t})},confirm:function(){var t=this;return n()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.userTotalInfo),"Date of birth"!=t.userTotalInfo.userData.datebirth&&""!=t.userTotalInfo.userData.Givenname&&"Gender"!=t.userTotalInfo.userData.gender&&""!=t.userTotalInfo.userData.Surname&&"Position"!=t.userTotalInfo.userData.Position&&"Nationality"!=t.userTotalInfo.userData.Nationality&&"Effective date"!=t.userTotalInfo.userData.Effective&&"Territory"!=t.userTotalInfo.address.Territory&&"District"!=t.userTotalInfo.address.District&&""!=t.userTotalInfo.address.block&&""!=t.userTotalInfo.address.floor&&""!=t.userTotalInfo.address.room&&""!=t.userTotalInfo.address.building){e.next=4;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 4:if(""!=t.userTotalInfo.form.HKID1||""!=t.userTotalInfo.form.HKID_passport){e.next=7;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 7:if(""==t.userTotalInfo.form.HKID1||""!=t.userTotalInfo.form.HKID2){e.next=10;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 10:return e.next=12,t.verifyUserFrom(t.userTotalInfo.form);case 12:if(0!=(s=e.sent)){e.next=15;break}return e.abrupt("return",!1);case 15:console.log(s),1==s&&(t.setHelperInfo(t.userTotalInfo),t.$router.push({path:"/Question"}));case 17:case"end":return e.stop()}},e,t)}))()},getProtectorInfo:function(){if(console.log(this.helperInfo),this.helperInfo){for(var t in this.helperInfo)for(var e in this.helperInfo[t])this.userTotalInfo[t][e]=this.helperInfo[t][e];""!=this.userTotalInfo.form.HKID_passport&&(this.select=2)}this.getYears()},verifyUserFrom:function(t){var e=this;return n()(r.a.mark(function s(){var a,o,n,i;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=!1,o=new RegExp("^[0-9]*$"),""==t.HKID_passport.trim()||o.test(t.HKID_passport)){s.next=5;break}return e.$createToast({txt:e.$t("passportErr"),time:3500,type:"txt"}).show(),s.abrupt("return",!1);case 5:if(""==e.userTotalInfo.form.HKID1){s.next=23;break}return n=e.userTotalInfo.form.HKID1+e.userTotalInfo.form.HKID2,console.log(n),s.prev=8,s.next=11,e.$http.post("/wesupromo/web/validate/validateHKIDWithLng",{language:"tc",hkid:n});case 11:i=s.sent,console.log(i),console.log(i.status),s.next=23;break;case 16:if(s.prev=16,s.t0=s.catch(8),console.log(s.t0),0!=s.t0.data.is_valid){s.next=23;break}return e.$createToast({time:3500,type:"txt",txt:s.t0.msg}).show(),s.abrupt("return",!1);case 23:return a=!0,console.log(a),s.abrupt("return",a);case 26:case"end":return s.stop()}},s,e,[[8,16]])}))()},toPrePage:function(){this.$router.back()},inputHkid:function(){""!=this.$refs.HKID_passport.value.trim()?(this.$createToast({txt:this.$t("onlyOne"),time:3e3,type:"txt"}).show(),this.select=2):this.select=1},inputPassport:function(){""!=this.$refs.HKID1.value.trim()||""!=this.$refs.HKID2.value.trim()?(this.$createToast({txt:this.$t("onlyOne"),time:3e3,type:"txt"}).show(),this.select=1):this.select=2},getToday:function(t){var e=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var a=t.getDate();return e+"/"+s+"/"+(a=a<10?"0"+a:a)},getYears:function(){var t=this.getToday(new Date),e=Math.ceil((new Date(t+" 00:00:00").getTime()-new Date(this.userTotalInfo.userData.datebirth.replace(/-/g,"/")+" 00:00:00").getTime())/864e5);this.ages=Math.floor(e/365),console.log(this.ages+"岁")}}),computed:l()({},Object(u.c)(["helperInfo","product_id","language","plan"]))},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-wrap"},[s("div",{staticClass:"headTitle"},[s("i",{staticClass:"cubeic-arrow",on:{click:t.toPrePage}}),t._v(" "),s("p",[t._v("Helper details")])]),t._v(" "),s("div",{staticClass:"center_contain"},[s("div",{staticClass:"top"},[s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("sex_title_1")))]),t._v(" "),s("div",{ref:"Gender",staticClass:"GenderDiv",class:{blank:"Gender"!=t.userTotalInfo.userData.gender},on:{click:function(e){return t.showPicker("gender","userData")}}},[t._v(t._s(t.userTotalInfo.userData.gender))])]),t._v(" "),s("p",[t._v("Passport Surname (English)*")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.userData.Surname,expression:"userTotalInfo.userData.Surname"}],attrs:{type:"text",placeholder:"Passport Surname (English)*"},domProps:{value:t.userTotalInfo.userData.Surname},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.userData,"Surname",e.target.value)}}}),t._v(" "),s("p",[t._v("Passport Given Name (English)*")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.userData.Givenname,expression:"userTotalInfo.userData.Givenname"}],attrs:{type:"text",placeholder:"Passport Given Name (English)*"},domProps:{value:t.userTotalInfo.userData.Givenname},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.userData,"Givenname",e.target.value)}}}),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("Date_of_Birth")))]),t._v(" "),s("div",{ref:"datebirth",staticClass:"GenderDiv",class:{blank:"Date of birth"!=t.userTotalInfo.userData.datebirth},on:{click:function(e){return t.showDatePicker("datebirth")}}},[t._v(t._s(t.userTotalInfo.userData.datebirth))])]),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v("Position*")]),t._v(" "),s("div",{ref:"Position",staticClass:"GenderDiv",class:{blank:"Position"!=t.userTotalInfo.userData.Position},on:{click:function(e){return t.showPicker("Position","userData")}}},[t._v(t._s(this.userTotalInfo.userData.Position))])]),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v("Nationality*")]),t._v(" "),s("div",{ref:"Nationality",staticClass:"GenderDiv",class:{blank:"Nationality"!=t.userTotalInfo.userData.Nationality},on:{click:function(e){return t.showPicker("Nationality","userData")}}},[t._v(t._s(this.userTotalInfo.userData.Nationality))])]),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v("Effective date*")]),t._v(" "),s("div",{ref:"Effective",staticClass:"GenderDiv",class:{blank:"Effective date"!=t.userTotalInfo.userData.Effective},on:{click:function(e){return t.showDatePicker("Effective")}}},[t._v(t._s(t.userTotalInfo.userData.Effective))])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"table_address"},[s("div",{staticClass:"content"},[s("div",{staticClass:"terntory",class:{blank:"Territory"!=t.userTotalInfo.address.Territory},on:{click:function(e){return t.showPicker("Territory","address")}}},[t._v(t._s(t.userTotalInfo.address.Territory))]),t._v(" "),s("div",{staticClass:"distnct",class:{blank:"District"!=t.userTotalInfo.address.District},on:{click:function(e){return t.showPicker("District","address")}}},[t._v(t._s(t.userTotalInfo.address.District))]),t._v(" "),s("div",{staticClass:"block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.block,expression:"userTotalInfo.address.block"}],attrs:{type:"text",placeholder:"Block"},domProps:{value:t.userTotalInfo.address.block},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"block",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.floor,expression:"userTotalInfo.address.floor"}],attrs:{type:"text",placeholder:"Floor"},domProps:{value:t.userTotalInfo.address.floor},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"floor",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.room,expression:"userTotalInfo.address.room"}],attrs:{type:"text",placeholder:"Room"},domProps:{value:t.userTotalInfo.address.room},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"room",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"building"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.building,expression:"userTotalInfo.address.building"}],attrs:{type:"text",placeholder:"Building/Estate/Street No*"},domProps:{value:t.userTotalInfo.address.building},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"building",e.target.value)}}})])])]),t._v(" "),s("div",[s("button",{staticClass:"HKID",class:[1==t.select?"blue":""],on:{click:t.inputHkid}},[t._v("\n        "+t._s(t.$t("personal_hkid"))+"\n        "),s("i",{class:[1==t.select?"cubeic-ok":""]})]),t._v(" "),s("button",{staticClass:"passport",class:[2==t.select?"blue":""],on:{click:t.inputPassport}},[t._v("\n        "+t._s(t.$t("info_passport"))+"\n        "),s("i",{class:[2==t.select?"cubeic-ok":""]})])]),t._v(" "),s("div",{staticClass:"HK"},[s("span",{staticClass:"hkNumber"},[t._v(t._s(1==t.select?t.$t("account_info_hkid")+":":t.$t("info_passport")+":"))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.form.HKID1,expression:"userTotalInfo.form.HKID1"}],ref:"HKID1",staticClass:"IDnumber",attrs:{type:"text",placeholder:"A123456"},domProps:{value:t.userTotalInfo.form.HKID1},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.form,"HKID1",e.target.value)}}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}]},[t._v("(")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.form.HKID2,expression:"userTotalInfo.form.HKID2"}],ref:"HKID2",staticClass:"num",attrs:{type:"text",placeholder:"7"},domProps:{value:t.userTotalInfo.form.HKID2},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.form,"HKID2",e.target.value)}}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}]},[t._v(")")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.select,expression:"select == 2"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.form.HKID_passport,expression:"userTotalInfo.form.HKID_passport"}],ref:"HKID_passport",staticClass:"IDnumber",class:[2==t.select?"width":""],attrs:{type:"text",placeholder:"A123456"},domProps:{value:t.userTotalInfo.form.HKID_passport},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.form,"HKID_passport",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"button-bar"},[s("button",{staticClass:"proceed",on:{click:t.confirm}},[t._v("Confirm")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[e("p",[this._v("\n        Place of Employment\n        "),e("span",[this._v("*Pleace fill in if the place is different from employer’s address")])])])}]};var d=s("VU/8")(c,f,!1,function(t){s("t4nv")},"data-v-038ab36e",null);e.default=d.exports},t4nv:function(t,e){}});
//# sourceMappingURL=17.1650c228d53775a4fb80.js.map