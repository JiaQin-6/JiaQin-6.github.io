webpackJsonp([10],{HOIG:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Xxa5"),a=s.n(r),o=s("exGp"),n=s.n(o),i=s("Dd8w"),u=s.n(i),l=s("NYxO"),c={data:function(){return{userTotalInfo:{userData:{gender:"Gender",Surname:"",Givenname:"",datebirth:"Date of birth",Position:"Position",Nationality:"Nationality"},address:{Territory:this.$t("ws_territory"),District:this.$t("insurance_address_District"),block:"",floor:"",room:"",building:""},form:{HKID_passport:"",HKID1:""}},select:1,ages:"",data_type:"",data_type_two:"",isuserData:"",territoryInfo:[],districtInfo:[],otherPosition:!1,otherPositionInfo:"",loading:!1}},created:function(){this.getProtectorInfo()},methods:u()({},Object(l.b)(["setHelperInfo"]),{showPicker:function(t,e){var s=this;this.data_type_two=t,this.isuserData=e;var r="",a=[];"gender"==t?(r=this.$t("Gender"),a=[{text:this.$t("Female"),value:"Male"},{text:this.$t("Male"),value:"Female"}]):"Position"==t?(r=this.$t("hl_helper_desc5"),a=[{text:this.$t("hl_helper_desc51"),value:"domestic helper"},{text:this.$t("hl_helper_desc52"),value:"gardener"},{text:this.$t("hl_helper_desc53"),value:"chauffeur"},{text:this.$t("hl_helper_desc54"),value:"others"}]):"Nationality"==t?(r=this.$t("hl_helper_desc7"),a=[{text:this.$t("Chinese"),value:"Chinese"},{text:this.$t("HongKongChinese"),value:"Hong Kong Chinese"},{text:this.$t("Filipino"),value:"Filipino"},{text:this.$t("Indian"),value:"Indian"},{text:this.$t("Indonesian"),value:"Indonesian"},{text:this.$t("Nepalese"),value:"Nepalese"},{text:this.$t("Pakistani"),value:"Pakistani"},{text:this.$t("Thai"),value:"Thai"},{text:this.$t("Burmese"),value:"Burmese"},{text:this.$t("Bangladeshi"),value:"Bangladeshi"},{text:this.$t("SriLankan"),value:"Sri Lankan"},{text:this.$t("hl_helper_desc54"),value:"others"}]):"Territory"==t?(a=this.territoryInfo,r=this.$t("ws_territory")):"District"==t&&(r=this.$t("insurance_address_District"),a=this.districtInfo),setTimeout(function(){s.picker.$updateProps({title:r,data:[a]})},0),this.picker||(this.picker=this.$createPicker({title:this.$t("Gender"),data:[a],cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectGender,onCancel:this.cancelGender})),this.picker.show()},selectGender:function(t,e,s){var r=this;return n()(a.a.mark(function e(){var o,n,i,u,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.userTotalInfo[r.isuserData][r.data_type_two]=s.join(" "),"Territory"!=r.data_type_two){e.next=16;break}return(o=r.$createToast({time:0,txt:r.$t("loading")})).show(),r.userTotalInfo.address.District=r.$t("insurance_address_District"),r.districtInfo=[],e.prev=6,e.next=9,r.$http.post("/wesupromo/web/dictionary/getHkAddress",{territory_id:t[0]});case 9:if(100==(n=e.sent).status){for(r.$nextTick(function(){o.hide()}),i=[],u=0;u<n.data.length;u++)(l={}).text=n.data[u].name_eng,l.value=n.data[u].id,i.push(l);r.districtInfo=i}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),e.t0.msg?r.$createToast({txt:e.t0.msg,time:3e3,type:"txt"}).show():r.$createToast({txt:r.$t("request_error_title"),time:3e3,type:"txt"}).show();case 16:"Position"==r.data_type_two&&(s.join(" ")==r.$t("hl_helper_desc54")?r.otherPosition=!0:(r.otherPosition=!1,r.otherPositionInfo=""));case 17:case"end":return e.stop()}},e,r,[[6,13]])}))()},cancelGender:function(){},showDatePicker:function(t){var e=this;setTimeout(function(){e.datePicker.$updateProps({title:t})},0),this.data_type=t,this.datePicker||(this.datePicker=this.$createDatePicker({title:this.$t("account_info_birthday"),min:new Date(1900,1,1),max:new Date,value:new Date(1980,5,20),cancelTxt:this.$t("cancel"),confirmTxt:this.$t("confirm"),onSelect:this.selectHandle,onCancel:this.cancelHandle})),this.datePicker.show()},selectHandle:function(t,e,s){this.userTotalInfo.userData[this.data_type]=this.dateTozero(e).join("-"),this.$refs[this.data_type].value=this.userTotalInfo.form.datebirth,"datebirth"==this.data_type&&this.getYears()},cancelHandle:function(){},dateTozero:function(t){return t.map(function(t){return t<10?"0"+t:""+t})},confirm:function(){var t=this;return n()(a.a.mark(function e(){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Date of birth"!=t.userTotalInfo.userData.datebirth&&""!=t.userTotalInfo.userData.datebirth&&""!=t.userTotalInfo.userData.Givenname&&"Gender"!=t.userTotalInfo.userData.gender&&""!=t.userTotalInfo.userData.gender&&""!=t.userTotalInfo.userData.Surname&&"Position"!=t.userTotalInfo.userData.Position&&""!=t.userTotalInfo.userData.Position&&"Nationality"!=t.userTotalInfo.userData.Nationality&&""!=t.userTotalInfo.userData.Nationality&&t.userTotalInfo.address.Territory!=t.$t("ws_territory")&&""!=t.userTotalInfo.address.Territory&&t.userTotalInfo.address.District!=t.$t("insurance_address_District")&&""!=t.userTotalInfo.address.District&&""!=t.userTotalInfo.address.block&&""!=t.userTotalInfo.address.floor&&""!=t.userTotalInfo.address.room&&""!=t.userTotalInfo.address.building){e.next=3;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 3:if(t.userTotalInfo.userData.Nationality!=t.$t("hl_helper_desc54")){e.next=6;break}return t.$createToast({txt:t.$t("industry_other_toast"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 6:if(""!=t.userTotalInfo.form.HKID1||""!=t.userTotalInfo.form.HKID_passport){e.next=9;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 9:return t.loading=!0,e.next=12,t.verifyUserFrom(t.userTotalInfo.form);case 12:if(0!=(s=e.sent)){e.next=15;break}return e.abrupt("return",!1);case 15:return e.next=17,t.verifyAge(t.userTotalInfo.userData);case 17:if(e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:if(1!=t.otherPosition){e.next=26;break}if(t.otherPositionInfo){e.next=25;break}return t.$createToast({txt:t.$t("notInformation"),time:3e3,type:"txt"}).show(),e.abrupt("return",!1);case 25:t.userTotalInfo.userData.Position=t.otherPositionInfo;case 26:1==s&&(t.setHelperInfo(t.userTotalInfo),"true"==t.$route.query.isChange?t.$router.push({path:"/ConfirmOrder"}):t.$router.push({path:"/Question"}));case 27:case"end":return e.stop()}},e,t)}))()},getProtectorInfo:function(){if(this.userAddress)for(var t in this.userAddress)this.userTotalInfo.address[t]=this.userAddress[t];if(this.helperInfo){for(var t in this.helperInfo)for(var e in this.helperInfo[t])this.userTotalInfo[t][e]=this.helperInfo[t][e];""!=this.userTotalInfo.form.HKID_passport&&(this.select=2)}this.getYears()},verifyUserFrom:function(t){var e=this;return n()(a.a.mark(function t(){var s,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=!1,""==e.userTotalInfo.form.HKID1){t.next=14;break}return r=e.userTotalInfo.form.HKID1,t.prev=3,t.next=6,e.$http.post("/wesupromo/web/validate/validateHKIDWithLng",{language:"tc",hkid:r});case 6:t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(3),e.loading=!1,t.t0.msg?e.$createToast({txt:t.t0.msg,time:3e3,type:"txt"}).show():e.$createToast({txt:e.$t("request_error_title"),time:3e3,type:"txt"}).show(),t.abrupt("return",!1);case 14:return s=!0,t.abrupt("return",s);case 16:case"end":return t.stop()}},t,e,[[3,9]])}))()},toPrePage:function(){this.$router.push("/EmployerDetail")},inputHkid:function(){this.userTotalInfo.form.HKID_passport="",this.select=1},inputPassport:function(){this.userTotalInfo.form.HKID1="",this.select=2},getToday:function(t){var e=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var r=t.getDate();return e+"/"+s+"/"+(r=r<10?"0"+r:r)},getYears:function(){var t=this.getToday(new Date),e=Math.ceil((new Date(t+" 00:00:00").getTime()-new Date(this.userTotalInfo.userData.datebirth.replace(/-/g,"/")+" 00:00:00").getTime())/864e5);this.ages=Math.floor(e/365)},verifyAge:function(t){var e=this;return n()(a.a.mark(function s(){var r;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$http.post("/wesupromo/web/product/checkAge",{product_id:e.product_id,who_age:"insured",others_insured_list:[{dob:t.datebirth}]});case 3:if(100!=(r=s.sent).status||0!=r.data.checkAge){s.next=9;break}return e.loading=!1,e.$createToast({time:2e3,type:"txt",txt:e.$t("member_toast_age")}).show(),s.abrupt("return",!1);case 9:s.next=16;break;case 11:return s.prev=11,s.t0=s.catch(0),e.loading=!1,s.t0.msg?e.$createToast({txt:s.t0.msg,time:3e3,type:"txt"}).show():e.$createToast({txt:e.$t("request_error_title"),time:3e3,type:"txt"}).show(),s.abrupt("return",!1);case 16:return s.abrupt("return",!0);case 17:case"end":return s.stop()}},s,e,[[0,11]])}))()}}),computed:u()({},Object(l.c)(["helperInfo","product_id","language","plan","userAddress"])),mounted:function(){var t=this;return n()(a.a.mark(function e(){var s,r,o,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=t.$createToast({time:0,txt:t.$t("loading")})).show(),e.next=4,t.$http.post("/wesupromo/web/dictionary/getHkAddress",{territory_id:""});case 4:if(100==(r=e.sent).status)for(t.$nextTick(function(){s.hide()}),o=0;o<r.data.length;o++)(n={}).text=r.data[o].name_eng,n.value=r.data[o].id,t.territoryInfo.push(n);case 6:case"end":return e.stop()}},e,t)}))()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-wrap"},[s("div",{staticClass:"headTitle"},[s("i",{staticClass:"cubeic-arrow",on:{click:t.toPrePage}}),t._v(" "),s("p",[t._v(t._s(t.$t("hl_helper_desc1")))])]),t._v(" "),s("div",{staticClass:"center_contain"},[s("div",{staticClass:"top"},[s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("sex_title_1")))]),t._v(" "),s("div",{ref:"Gender",staticClass:"GenderDiv",class:{blank:"Gender"!=t.userTotalInfo.userData.gender},on:{click:function(e){return t.showPicker("gender","userData")}}},[t._v(t._s(t.userTotalInfo.userData.gender))])]),t._v(" "),s("p",[t._v(t._s(t.$t("account_info_lastname2")))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.userData.Surname,expression:"userTotalInfo.userData.Surname"}],attrs:{type:"text",placeholder:"Passport Surname (English)*"},domProps:{value:t.userTotalInfo.userData.Surname},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.userData,"Surname",e.target.value)}}}),t._v(" "),s("p",[t._v(t._s(t.$t("account_info_firstname2")))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.userData.Givenname,expression:"userTotalInfo.userData.Givenname"}],attrs:{type:"text",placeholder:"Passport Given Name (English)*"},domProps:{value:t.userTotalInfo.userData.Givenname},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.userData,"Givenname",e.target.value)}}}),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("Date_of_Birth")))]),t._v(" "),s("div",{ref:"datebirth",staticClass:"GenderDiv",class:{blank:"Date of birth"!=t.userTotalInfo.userData.datebirth},on:{click:function(e){return t.showDatePicker("datebirth")}}},[t._v(t._s(t.userTotalInfo.userData.datebirth))])]),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("hl_helper_desc25")))]),t._v(" "),s("div",{ref:"Position",staticClass:"GenderDiv",class:{blank:"Position"!=t.userTotalInfo.userData.Position},on:{click:function(e){return t.showPicker("Position","userData")}}},[t._v(t._s(this.userTotalInfo.userData.Position))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.otherPositionInfo,expression:"otherPositionInfo"},{name:"show",rawName:"v-show",value:t.otherPosition,expression:"otherPosition"}],attrs:{type:"text",placeholder:t.$t("hl_helper_desc6")},domProps:{value:t.otherPositionInfo},on:{input:function(e){e.target.composing||(t.otherPositionInfo=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-item"},[s("p",[t._v(t._s(t.$t("hl_helper_desc27")))]),t._v(" "),s("div",{ref:"Nationality",staticClass:"GenderDiv",class:{blank:"Nationality"!=t.userTotalInfo.userData.Nationality},on:{click:function(e){return t.showPicker("Nationality","userData")}}},[t._v(t._s(this.userTotalInfo.userData.Nationality))])])]),t._v(" "),s("div",{staticClass:"text"},[s("p",[t._v("\n        "+t._s(t.$t("hl_helper_desc11"))+"\n        "),s("span",[t._v(t._s(t.$t("hl_helper_desc10")))])])]),t._v(" "),s("div",{staticClass:"table_address"},[s("div",{staticClass:"content"},[s("div",{staticClass:"terntory",class:{blank:t.userTotalInfo.address.Territory!=t.$t("ws_territory")},on:{click:function(e){return t.showPicker("Territory","address")}}},[t._v(t._s(t.userTotalInfo.address.Territory))]),t._v(" "),s("div",{staticClass:"distnct",class:{blank:t.userTotalInfo.address.District!=t.$t("insurance_address_District")},on:{click:function(e){return t.showPicker("District","address")}}},[t._v(t._s(t.userTotalInfo.address.District))]),t._v(" "),s("div",{staticClass:"block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.block,expression:"userTotalInfo.address.block"}],attrs:{type:"text",placeholder:t.$t("ws_block")},domProps:{value:t.userTotalInfo.address.block},on:{blur:function(e){t.userTotalInfo.address.block=t.userTotalInfo.address.block.replace(/[\u4E00-\u9FA5]/g,"")},input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"block",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.floor,expression:"userTotalInfo.address.floor"}],attrs:{type:"text",placeholder:t.$t("insurance_address_Room1")},domProps:{value:t.userTotalInfo.address.floor},on:{blur:function(e){t.userTotalInfo.address.floor=t.userTotalInfo.address.floor.replace(/[\u4E00-\u9FA5]/g,"")},input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"floor",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.room,expression:"userTotalInfo.address.room"}],attrs:{type:"text",placeholder:t.$t("insurance_address1")},domProps:{value:t.userTotalInfo.address.room},on:{blur:function(e){t.userTotalInfo.address.room=t.userTotalInfo.address.room.replace(/[\u4E00-\u9FA5]/g,"")},input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"room",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"building"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.address.building,expression:"userTotalInfo.address.building"}],attrs:{type:"text",placeholder:"Building/Estate/Street No*"},domProps:{value:t.userTotalInfo.address.building},on:{blur:function(e){t.userTotalInfo.address.building=t.userTotalInfo.address.building.replace(/[\u4E00-\u9FA5]/g,"")},input:function(e){e.target.composing||t.$set(t.userTotalInfo.address,"building",e.target.value)}}})])])]),t._v(" "),s("div",[s("button",{staticClass:"HKID",class:[1==t.select?"blue":""],on:{click:t.inputHkid}},[t._v("\n        "+t._s(t.$t("personal_hkid"))+"\n        "),s("i",{class:[1==t.select?"cubeic-ok":""]})]),t._v(" "),s("button",{staticClass:"passport",class:[2==t.select?"blue":""],on:{click:t.inputPassport}},[t._v("\n        "+t._s(t.$t("info_passport"))+"\n        "),s("i",{class:[2==t.select?"cubeic-ok":""]})])]),t._v(" "),s("div",{staticClass:"HK"},[s("span",{staticClass:"hkNumber"},[t._v(t._s(1==t.select?t.$t("account_info_hkid")+":":t.$t("info_passport")+":"))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.form.HKID1,expression:"userTotalInfo.form.HKID1"}],ref:"HKID1",staticClass:"IDnumber",attrs:{type:"text",placeholder:"A123456"},domProps:{value:t.userTotalInfo.form.HKID1},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.form,"HKID1",e.target.value)}}})])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.select,expression:"select == 2"}],staticClass:"right"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTotalInfo.form.HKID_passport,expression:"userTotalInfo.form.HKID_passport"}],ref:"HKID_passport",staticClass:"IDnumber",attrs:{type:"text",placeholder:"A123456"},domProps:{value:t.userTotalInfo.form.HKID_passport},on:{input:function(e){e.target.composing||t.$set(t.userTotalInfo.form,"HKID_passport",e.target.value)}}})])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select==1? true:false"}],staticClass:"remark",staticStyle:{color:"rgb(74, 74, 74)"}},[s("p",[t._v(t._s(t.$t("card_hk_desc")))])])]),t._v(" "),s("div",{staticClass:"button-bar"},[s("button",{staticClass:"proceed",on:{click:t.confirm}},[t._v(t._s(t.$t("confirm")))])]),t._v(" "),s("cube-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},staticRenderFns:[]};var f=s("VU/8")(c,d,!1,function(t){s("qJsK")},"data-v-4c15015a",null);e.default=f.exports},qJsK:function(t,e){}});
//# sourceMappingURL=10.7f0acc44b27d86c71be4.js.map