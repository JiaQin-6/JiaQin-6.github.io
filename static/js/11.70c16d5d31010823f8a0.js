webpackJsonp([11],{FoXy:function(t,e){},eerB:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),o=s.n(a),i=s("exGp"),n=s.n(i),r=s("Dd8w"),c=s.n(r),d=s("NYxO"),l={data:function(){return{travelInfo:{},more:!1,data:"",flag:!0,remarks:[],ischecked:0,productId:"",areacode:"86",trip:"",price:"",Language:"",rendomNum:"",MerchantId:"",agesInfo:{},isShow:!0,facility:""}},computed:c()({},Object(d.c)(["product_id","language","plan","ageInfo","pricedata"])),created:function(){this.reset(["product_info","plan","travelInfo","userInfo","protectorInfo","userPhone","userId","commonKey","certificateId","ageInfo","pricedata"]),this.getRamNumber(),console.log(this.$route.params.productId),console.log(this.$route.params.language),console.log(this.$route.params.merchantId),this.productId=this.$route.params.productId,this.Language=this.$route.params.language,this.MerchantId=this.$route.params.merchantId,this.setBeginProductId(this.productId),this.setProductId(this.productId),this.setLanguage(this.Language),this.setMerchantId(this.MerchantId),this.setSession(this.MerchantId+this.rendomNum),window.localStorage.setItem("lang",this.Language),console.log(this.$i18n.locale),this.$i18n.locale="tc"==this.Language?this.$i18n.locale="tc":this.$i18n.locale="eng",this.IsPC()},mounted:function(){var t=this;return n()(o.a.mark(function e(){var s,a,i,n,r,c,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("https://api.ipify.org");case 3:s=e.sent,console.log(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return a={language:t.Language,product_id:t.productId,phone_country_code:t.areacode,merchant_id:t.MerchantId},(i=t.$createToast({time:0,txt:"Loading..."})).show(),e.prev=13,e.next=16,t.$http.post("/wesupromo/web/tpc/getProductDetails",a);case 16:n=e.sent,console.log(n),100==n.status&&(t.data=n.data,console.log(t.data),t.$nextTick(function(){i.hide()}),t.setPlan(n.data.plan_list[0]),t.setName(n.data.name),t.setProductType(n.data.product_type),t.setPriceSymbol(n.data.currency_desc)),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(13),t.$createToast({time:3e3,type:"txt",txt:e.t1.msg}).show();case 25:if(r=t.getCookie(t.productId),console.log(r),console.log(t.facility),""!=r&&r==t.productId){e.next=44;break}return c=t.randomString(20),e.prev=30,e.next=33,t.$http.post("/wesupromo/web/addClicks",{merchant_id:t.MerchantId,product_id:t.productId,device_session_id:c,device_platform:t.facility});case 33:d=e.sent,console.log(d),t.setCookieFixed(t.productId,c,"00:00:00"),e.next=41;break;case 38:e.prev=38,e.t2=e.catch(30),console.log(e.t2);case 41:console.log("没cookie,创建了一个cookie"),e.next=45;break;case 44:console.log("有cookie");case 45:case"end":return e.stop()}},e,t,[[0,7],[13,21],[30,38]])}))()},methods:c()({},Object(d.b)(["setPlan","setName","reset","setProductId","setLanguage","setSession","setProductType","setMerchantId","setPriceSymbol","setages","setBeginProductId"]),{clickmore:function(){this.flag=!this.flag},customers:function(){this.$createDialog({type:"alert",confirmBtn:{text:"確認",active:!0,href:"javascript:;"},content:this.data.customer_service}).show()},setPlanProductId:function(t){this.setPlan(t),this.setProductId(t.product_id)},quato:function(){this.agesInfo.max_age=this.data.max_age,this.agesInfo.max_persons=this.data.max_persons,this.agesInfo.max_pp_age=this.data.max_pp_age,this.agesInfo.min_age=this.data.min_age,this.agesInfo.min_pp_age=this.data.min_pp_age,console.log(this.agesInfo),this.setages(this.agesInfo),this.$router.push({path:"/Travelinfo"})},getRamNumber:function(){for(var t="",e=0;e<8;e++)t+=Math.floor(16*Math.random()).toString(16);console.log(t.toUpperCase()),this.rendomNum=t.toUpperCase()},IsPC:function(){var t=navigator.userAgent;console.log(t);for(var e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=!0,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){s=!1,console.log("移动端"),this.phoneType();break}return s&&(console.log("PC端"),this.facility="PC端"),s},phoneType:function(){var t=navigator.userAgent;t.indexOf("Android")>-1||t.indexOf("Linux")>-1?(console.log("Android"),this.facility="Android"):t.indexOf("iPhone")>-1?(console.log("iPhone"),this.facility="iPhone"):t.indexOf("Windows Phone")>-1&&(console.log("Windows Phone"),this.facility="Windows Phone")},hideDiscount:function(){console.log("1"),this.isShow=!1},randomString:function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",s=t,a="",o=0;o<s;o++){var i=Math.floor(Math.random()*e.length);a+=e.substring(i,i+1)}return a},getCookie:function(t){var e="";return console.log(document.cookie),document.cookie.length>0&&-1!=(e=document.cookie.indexOf(t+"="))?(e=e+t.length+1,-1==document.cookie.indexOf(";",e)&&document.cookie.length,t):""},setCookie:function(t,e,s){var a=new Date;a.setTime(a.getTime()+1e3*s),document.cookie=t+"="+escape(e)+(null==s?"":";expires="+a.toGMTString())},setCookieFixed:function(t,e,s){var a=new Date,o=a.getTime(),i=this.convertTime(a,s);console.log(i);var n=i-o;if(console.log(n),n<0){var r=new Date(o+864e5);r=this.getToday(r),i=new Date(r+" "+s).getTime(),console.log(i)}var c=new Date;c.setTime(i),document.cookie=t+"="+e+";expires="+c.toGMTString()},convertTime:function(t,e){var s=e.split(":"),a=parseInt(s[0]),o=parseInt(s[1]),i=parseInt(s[2]);return t.setHours(a),t.setMinutes(o),t.setSeconds(i),Date.parse(t)},getToday:function(t){var e=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var a=t.getDate();return e+"/"+s+"/"+(a=a<10?"0"+a:a)}})},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-wrap"},[a("p",{staticClass:"title"},[t._v(t._s(t.data.displayed_owned_by))]),t._v(" "),a("div",{staticClass:"headerimgs progressive"},[a("img",{directives:[{name:"progressive",rawName:"v-progressive",value:t.data.insurers_banner,expression:"data.insurers_banner"}],staticClass:"headerimg",attrs:{src:s("1q8V"),alt:""}})]),t._v(" "),a("p",{staticClass:"travelead"},[t._v(t._s(t.data.name))]),t._v(" "),a("p",{staticClass:"budget"},[t._v(t._s(t.data.desc1))]),t._v(" "),a("div",{staticClass:"travel-insurance"},[t._v(t._s(t.data.category_name))]),t._v(" "),t.plan?a("div",{staticClass:"price"},[t._v("\n    "+t._s(t.plan.price_desc?t.plan.price_desc:"")+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"projectImg progressive"},[a("img",{directives:[{name:"progressive",rawName:"v-progressive",value:t.data.products_imgs[0],expression:"data.products_imgs[0]"}],staticClass:"box",attrs:{src:s("S2MT"),alt:""}})]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"buttons"},t._l(this.data.plan_list,function(e,s){return a("button",{key:s,staticClass:"single btn",class:{isActive:t.plan.period_type==e.period_type},on:{click:function(s){return t.setPlanProductId(e)}}},[t._v(t._s(e.plan_list_name))])}),0),t._v(" "),t.plan?a("div",{staticClass:"trip"},[t._v(t._s(t.plan.plan_list_desc?t.plan.plan_list_desc:""))]):t._e(),t._v(" "),a("div",[a("p",{staticClass:"key"},[t._v(t._s(t.$t("product_decs_key_title")))]),t._v(" "),a("div",{staticClass:"key-content"},[a("div",{staticClass:"features-wrap"},[a("p",{class:{features:t.flag}},[t._v(t._s(t.data.remarks))]),t._v(" "),a("span",{staticClass:"more",on:{click:t.clickmore}},[t._v(t._s(t.flag?t.$t("product_decs_key_more"):t.$t("hide")))])])])]),t._v(" "),a("div",{staticClass:"customers",on:{click:t.customers}},[a("span",{staticClass:"starrs"},[a("img",{staticClass:"starr",attrs:{src:t.data.cs_logo,alt:""}})]),t._v(" "),a("span",{staticClass:"customer"},[t._v(t._s(t.$t("account_customer_service")))]),t._v(" "),a("i",{staticClass:"cubeic-arrow"})]),t._v(" "),a("a",{staticClass:"coverages",attrs:{target:"_Blank",href:"https://dev-wesurance814.com/wesupromo/webview/coverageDetails?product_id="+t.productId+"&language="+t.Language}},[t._m(0),t._v(" "),a("span",{staticClass:"coverage"},[t._v(t._s(t.$t("products_choose_plan_coverage_title1")))]),t._v(" "),a("i",{staticClass:"cubeic-arrow"})]),t._v(" "),a("div",{staticClass:"button-bar"},[a("button",{staticClass:"quato",on:{click:t.quato}},[t._v(t._s(t.$t("Quote")))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popover_back"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popover"},[a("div",{staticClass:"discount_img_info"},[a("h5",[t._v(t._s(t.data.displayed_owned_by))]),t._v(" "),a("div",{staticClass:"product_logo_info"},[a("img",{staticClass:"product_logo",attrs:{src:t.data.progress_logo,alt:""}})]),t._v(" "),a("div",{staticClass:"discount_info"},[a("div",{staticClass:"product_img"},[a("img",{attrs:{src:t.data.products_imgs[0],alt:""}})]),t._v(" "),a("div",{staticClass:"product_title"},[a("h3",[t._v(t._s(t.$t("In_one_policy")))]),t._v(" "),a("p",[t._v("1)"+t._s(t.$t("discount500")))]),t._v(" "),a("p",[t._v("2)"+t._s(t.$t("discount100")))]),t._v(" "),a("p",[t._v("3)"+t._s(t.$t("discount50")))])])]),t._v(" "),a("span")]),t._v(" "),a("div",{staticClass:"discount_btn_past"},[a("div",{staticClass:"discount_btn",on:{click:t.hideDiscount}},[t._v(t._s(t.$t("confirm")))]),t._v(" "),a("p",[t._v(t._s(t.$t("terms_notice")))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"covers"},[e("img",{staticClass:"cover",attrs:{src:s("txLY"),alt:""}})])}]};var p=s("VU/8")(l,u,!1,function(t){s("FoXy")},"data-v-d869e3c8",null);e.default=p.exports}});
//# sourceMappingURL=11.70c16d5d31010823f8a0.js.map