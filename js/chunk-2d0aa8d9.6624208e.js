(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa8d9"],{1202:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"3"}},[a("b-card",[a("b-col",{staticStyle:{"margin-top":"10px"},attrs:{md:"12"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"success",size:"sm"},on:{click:function(t){return e.createGroup()}}},[a("feather-icon",{attrs:{icon:"CheckIcon",size:"14"}}),e._v(" "+e._s(e.$t("add"))+" ")],1)],1),a("div",[e._v(" "+e._s(e.$t("opac.group_manage.OPAC_Group_Management"))+" "),a("b-list-group",{staticStyle:{"margin-top":"10px"}},e._l(e.group_lists,(function(t,r){return a("b-list-group-item",{key:r,on:{click:function(a){return e.getSelectedGroup(t.id)}}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-row",[a("b-col",{attrs:{md:"3"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"deepblue",size:"sm"},on:{click:function(t){return e.editGroup()}}},[a("feather-icon",{attrs:{icon:"CheckIcon",size:"14"}}),e._v(" "+e._s(e.$t("change"))+" ")],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:e.$t("Group_Name")}},[a("b-form-input",{attrs:{id:"priority",placeholder:"群組名稱"},model:{value:e.selected_group.group_name,callback:function(t){e.$set(e.selected_group,"group_name",t)},expression:"selected_group.group_name"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:e.$t("Select_users")}},[a("v-select",{attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",options:e.group_lists,reduce:function(e){return e.id},label:"name"},model:{value:e.selected_group.user,callback:function(t){e.$set(e.selected_group,"user",t)},expression:"selected_group.user"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:e.$t("Lock_in_administrative_management")+"?"}},[a("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:e.selected_group.administrative_manage,name:"check-button",switch:""},model:{value:e.selected_group.administrative_manage,callback:function(t){e.$set(e.selected_group,"administrative_manage",t)},expression:"selected_group.administrative_manage"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:e.$t("Lock_Content_Management")+"?"}},[a("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:e.selected_group.content_manage,name:"check-button",switch:""},model:{value:e.selected_group.content_manage,callback:function(t){e.$set(e.selected_group,"content_manage",t)},expression:"selected_group.content_manage"}})],1)],1)],1),a("b-row",[a("b-col",e._l(Object.keys(e.opac_group_manage),(function(t,r){return a("b-row",{key:r},[a("b-col",{attrs:{md:"3"}},[a("p",[e._v(" "+e._s("administrative_authority"===t?e.$t("Administrative_authority"):"content_manage"===t?e.$t("Content_management"):"system_power"===t?e.$t("System_functions"):"borrow_power"===t?e.$t("Borrowing_function"):"")+" ")])]),e._l(e.opac_group_manage[t],(function(r,s){return a("b-col",{key:s},[a("b-form-group",{attrs:{label:e.opac_group_manage[t][s].label}},[a("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:e.opac_group_manage[t][s].value,name:"check-button",switch:""},model:{value:e.opac_group_manage[t][s].value,callback:function(a){e.$set(e.opac_group_manage[t][s],"value",a)},expression:"opac_group_manage[item][index2].value"}})],1)],1)}))],2)})),1)],1)],1)],1)],1)],1)},s=[],o=a("c7eb"),n=a("1da1"),c=a("ade3"),u=a("11de"),l=a("8226"),i=a("4797"),p=a("2924"),m=a("3b99"),b=a("1947"),g=a("a15b7"),d=a("b28b"),_=a("6190"),v=a("f902"),f=a("205f"),h=a("5fda"),w=a("e98b"),k=a("aa59"),$=a("3135"),x=a("d247"),B=a("d6e4"),y=a("c3e6"),C=a("4a7a"),G=a.n(C),O=(a("223c"),a("a18c"),a("e009")),j={components:Object(c["a"])(Object(c["a"])({vSelect:G.a,BForm:u["a"],BFormGroup:l["a"],BFormInput:i["a"],BFormRadioGroup:p["a"],BFormCheckboxGroup:m["a"],BButton:b["a"],BRow:g["a"],BCol:d["a"],BTab:_["a"],BTabs:v["a"],BCard:f["a"],BAlert:h["a"],BBadge:w["a"],BLink:k["a"],BListGroup:$["a"],BListGroupItem:x["a"],BCardText:B["a"]},"BFormGroup",l["a"]),"BFormCheckbox",y["a"]),directives:{Ripple:O["a"]},data:function(){return{group_lists:[],selected_group:{group_name:null,user:[],administrative_manage:!1,content_manage:!1},opac_group_manage:{administrative_authority:[{label:"書評管理",value:""},{label:"留言管理",value:""},{label:"內容過濾",value:""},{label:"電子資源管理",value:""}],content_manage:[{label:"推薦書管理",value:""},{label:"延伸閱讀管理",value:""},{label:"閱讀報告管理",value:""},{label:"圖書館資訊",value:""}],system_power:[{label:"上載頭像",value:""},{label:"自我介紹",value:""},{label:"積分計劃",value:""},{label:"書評",value:""},{label:"好友留言",value:""}],borrow_power:[{label:"允許預借",value:""},{label:"允許借閱電子書",value:""}]}}},methods:{getGroups:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var a,r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/library_groups/");case 2:a=t.sent,200==a.status?e.group_lists=a.data.data:(r=a.errors.errors,s=e.alertMessage(r),e.messageShown(e.$t("error"),s,"error"));case 4:case"end":return t.stop()}}),t)})))()},getSelectedGroup:function(e){var t=this;return Object(n["a"])(Object(o["a"])().mark((function a(){var r,s,n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getRequest("/library_groups/"+e+"/");case 2:r=a.sent,200==r.status?t.selected_group=r.data.data:(s=r.errors.errors,n=t.alertMessage(s),t.messageShown(t.$t("error"),n,"error"));case 4:case"end":return a.stop()}}),a)})))()},createGroup:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var a,r,s,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.selected_group,t.next=3,e.postRequest("/library_groups/",a);case 3:r=t.sent,200==r.status?(e.getGroups(),e.messageShown(e.$t("success"),e.$t("Successfully_added"),"success")):(s=r.errors.errors,n=e.alertMessage(s),e.messageShown(e.$t("error"),n,"error"));case 5:case"end":return t.stop()}}),t)})))()},editGroup:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var a,r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.putRequest("/library_groups/"+e.selected_group.id+"/",e.selected_group);case 2:a=t.sent,200==a.status?e.messageShown(e.$t("success"),e.$t("successfully_edit"),"success"):(r=a.errors.errors,s=e.alertMessage(r),e.messageShown(e.$t("error"),s,"error"));case 4:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,a){this.$swal({title:e,html:t,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}},created:function(){this.getGroups()}},S=j,R=a("2877"),F=Object(R["a"])(S,r,s,!1,null,null,null);t["default"]=F.exports}}]);