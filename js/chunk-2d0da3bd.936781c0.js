(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da3bd"],{"6b72":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",{staticClass:"m-0"},[a("b-col",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{cols:"12"}},[a("p",{staticStyle:{flex:"1"}},[t._v(t._s(t.$t("nav.opac.read_report_score")))])]),a("b-col",{staticStyle:{"margin-bottom":"10px",padding:"0 10px"},attrs:{cols:"12",lg:"2"}},[a("b-row",{staticStyle:{padding:"20px",margin:"0","background-color":"#fff",gap:"10px"}},t._l(t.leftClassList,(function(e,s){return a("b-col",{key:s,staticClass:"cursor-pointer",staticStyle:{padding:"0px"},attrs:{cols:"12"},on:{click:function(){t.leftClassIndex=e.id,t.getRightUserReadReports(t.leftClassList[t.leftClassIndex])}}},[a("p",{staticStyle:{margin:"0",padding:"5px"},style:{"background-color":t.leftClassIndex==e.id?"#fdf2e4":"#fff"}},[t._v(" "+t._s(e.class_name)+"（"+t._s(Number(e.submit_count))+"/"+t._s(Number(e.class_sum))+"） ")])])})),1)],1),a("b-col",{staticStyle:{padding:"0 10px"},attrs:{cols:"12",lg:"10"}},[a("div",{staticStyle:{"background-color":"#fff",padding:"20px"}},[a("div",{staticClass:"mb-2"},[a("span",[t._v(t._s(t.$t("opac.read_report_record.Reading_Theme_Plan"))+" ｜ ")]),a("span",[t._v(t._s(t.readReportData.title)+" "+t._s(t.readReportData.start_date)+" "+t._s(t.$t("and"))+" "+t._s(t.readReportData.end_date))])]),a("b-row",{staticClass:"mb-2",staticStyle:{"align-items":"center"}},[a("b-col",{attrs:{cols:"12",lg:"7"}},[a("div",{staticStyle:{padding:"10px 0",display:"flex","flex-wrap":"wrap",gap:"15px"}},[a("div",{staticStyle:{"border-right":"1px solid #ccc",padding:"0 15px 0 0"}},[t._v(" "+t._s(t.$t("opac.read_report_record.totalX").replace("{total}",t.readReportData.class_sum))+" ")]),a("div",{staticStyle:{"border-right":"1px solid #ccc",padding:"0 15px 0 0"}},[t._v(" "+t._s(t.$t("opac.read_report_record.receiveX").replace("{total}",t.readReportData.submit_count))+" ")]),a("div",{staticStyle:{"border-right":"1px solid #ccc",padding:"0 15px 0 0"}},[t._v(" "+t._s(t.$t("opac.read_report_record.supplementarypaymentX").replace("{total}",t.readReportData.repair_count))+" ")]),a("div",{staticStyle:{"border-right":"1px solid #ccc",padding:"0 15px 0 0"}},[t._v(" "+t._s(t.$t("opac.read_report_record.Outstanding").replace("{total}",t.readReportData.outstanding_count))+" ")]),a("div",{},[t._v(" "+t._s(t.$t("opac.read_report_record.Rated").replace("{total}",t.readReportData.already_score_count))+" ")])])]),a("b-col",{attrs:{cols:"12",lg:"5"}},[a("b-row",[a("b-col",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("Display_status"))+":")]),a("v-select",{staticStyle:{flex:"1"},attrs:{dir:t.$store.state.appConfig.isRTL?"rtl":"ltr",options:[{id:null,label:t.$t("All")},{id:"01",label:t.$t("Submitted")},{id:"02",label:t.$t("Not_rated")},{id:"03",label:t.$t("Rated")},{id:"04",label:t.$t("Not_submitted")},{id:"05",label:t.$t("Supplementary_payment")}],clearable:!1,reduce:function(t){return t.id},size:"sm"},model:{value:t.showStatus,callback:function(e){t.showStatus=e},expression:"showStatus"}})],1)],1)],1)],1),a("div",{attrs:{id:"report"}},[a("b-row",{style:t.marginTop},[a("b-col",{staticStyle:{overflow:"hidden"},attrs:{cols:"12"}},[a("b-table",{staticClass:"mb-0",attrs:{selectable:"",items:t.readReportData.report_list,fields:t.reportFields,bordered:!0,responsive:"",striped:""},scopedSlots:t._u([{key:"cell(status)",fn:function(e){return[a("span",[t._v(t._s("01"==e.item.status?t.$t("Submitted"):"02"==e.item.status?t.$t("Not_rated"):"03"==e.item.status?t.$t("Rated"):"04"==e.item.status?t.$t("Not_submitted"):t.$t("Supplementary_payment")))])]}},{key:"cell(operate)",fn:function(e){return["02"==e.item.status?a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(){t.$router.push({path:"read-report-score-review",query:{report_id:t.$route.query.report_id,sno:e.item.username}})}}},[t._v(t._s(t.$t("Rating")))]):t._e(),"03"==e.item.status?a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(){t.$router.push({path:"read-report-score-review",query:{report_id:t.$route.query.report_id,sno:e.item.username}})}}},[t._v(t._s(t.$t("View")))]):t._e()]}}])})],1)],1)],1),t.readReportData.report_list&&t.readReportData.report_list.length>0?a("b-row",{staticStyle:{"margin-bottom":"10px"},style:t.marginTop},[a("b-col",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("A_total_of_totalRows_items").replace("{totalRows}",t.totalRows))+" , "+t._s(t.$t("Which_page").replace("{currentPage}",t.currentPage))+" ")]),a("b-col",[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.size,"first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item",align:"right",size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)])],1)},r=[],i=a("c7eb"),o=a("1da1"),l=a("ade3"),n=(a("d81d"),a("11de")),c=a("8226"),d=a("4797"),p=a("2924"),u=a("3b99"),_=a("1947"),b=a("a15b7"),m=a("b28b"),g=a("6190"),f=a("f902"),h=a("205f"),y=a("5fda"),$=a("e98b"),x=a("aa59"),R=a("3135"),v=a("d247"),w=a("d6e4"),S=a("c3e6"),C=a("c43f"),k=a("29a1"),B=a("26d2"),L=a("4a7a"),O=a.n(L),D=a("e009"),j=a("c38f"),I=a.n(j),F={components:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({vSelect:O.a,BForm:n["a"],BFormGroup:c["a"],BFormInput:d["a"],BFormRadioGroup:p["a"],BFormCheckboxGroup:u["a"],BButton:_["a"],BRow:b["a"],BCol:m["a"],BTab:g["a"],BTabs:f["a"],BCard:h["a"],BAlert:y["a"],BBadge:$["a"],BLink:x["a"],BListGroup:R["a"],BListGroupItem:v["a"],BCardText:w["a"]},"BFormGroup",c["a"]),"BFormCheckbox",S["a"]),"flatPickr",I.a),"BFormFile",C["a"]),"BTable",k["a"]),"BPagination",B["a"]),directives:{Ripple:D["a"]},computed:{headStyle:function(){return{"background-color":"#eaedf3",padding:"5px"}},marginTop:function(){return{"margin-top":"15px"}}},data:function(){return{leftClassIndex:null,showStatus:null,leftClassList:[],readReportData:{},reportFields:[{key:"username",title:"SNO",sortable:!0,label:"SNO"},{key:"class_number",title:this.$t("student_ID"),sortable:!0,label:this.$t("student_ID")},{key:"chinese_name",title:this.$t("chinese_name"),sortable:!0,label:this.$t("chinese_name")},{key:"english_name",title:this.$t("english_name"),sortable:!0,label:this.$t("english_name")},{key:"book_name",title:this.$t("books"),sortable:!0,label:this.$t("books")},{key:"submit_date",title:this.$t("Submit_date"),sortable:!0,label:this.$t("Submit_date")},{key:"status",title:this.$t("status"),label:this.$t("status")},{key:"score",title:this.$t("score"),sortable:!0,label:this.$t("score")},{key:"operate",title:"",label:""}],totalRows:null,currentPage:1,size:100,sizeOptions:[100,200,500,1e3,this.$t("All")],add_record_data:{}}},watch:{showStatus:function(){this.getRightUserReadReports(this.leftClassList[this.leftClassIndex])},currentPage:function(){this.getRightUserReadReports(this.leftClassList[this.leftClassIndex])},size:function(){this.getRightUserReadReports(this.leftClassList[this.leftClassIndex])}},created:function(){this.getLeftClassList()},methods:{getLeftClassList:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var a,s,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postRequest("/read_report/left_class_list/",{report_id:t.$route.query.report_id});case 2:a=e.sent,200==a.status?(t.leftClassList=a.data.data,t.leftClassList.map((function(t,e){t.id=e})),t.leftClassIndex=t.leftClassList[0].id,t.getRightUserReadReports(t.leftClassList[0])):(s=a.errors.errors,r=t.alertMessage(s),t.messageShown(t.$t("error"),r,"error"));case 4:case"end":return e.stop()}}),e)})))()},getRightUserReadReports:function(t){var e=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var s,r,o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.postRequest("/read_report/right_user_read_reports/",{status_type:e.showStatus,report_id:e.$route.query.report_id,class_name:t.class_name,submit_count:t.submit_count,class_sum:t.class_sum,page:e.currentPage,size:e.size});case 2:s=a.sent,200==s.status?(e.readReportData=s.data.data,e.totalRows=s.data.meta.count):(r=s.errors.errors,o=e.alertMessage(r),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return a.stop()}}),a)})))()},messageShown:function(t,e,a){this.$swal({title:t,html:e,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},P=F,z=a("2877"),T=Object(z["a"])(P,s,r,!1,null,null,null);e["default"]=T.exports}}]);