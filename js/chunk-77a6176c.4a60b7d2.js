(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77a6176c"],{"0ac35":function(e,t,r){"use strict";r("0cf94")},"0af6":function(e,t,r){"use strict";r("d02c")},"0cf94":function(e,t,r){},"4c0c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"batch-upload",attrs:{id:"modal-xl","no-close-on-backdrop":"",scrollable:"","hide-header-close":e.isTrue,size:"lg","ok-only":"","ok-title":"Cancel"}},[r("batch-upload",{attrs:{upload_type:"users"}})],1),r("b-modal",{ref:"batch-upload-user-picture",attrs:{id:"modal-xl","no-close-on-backdrop":"",scrollable:"","hide-header-close":e.isTrue,size:"lg","ok-only":"","ok-title":"Cancel"}},[r("BatchUploadUserPicture",{attrs:{upload_type:"users"}})],1),r("b-modal",{ref:"change-sno-modal",attrs:{id:"modal-xl","no-close-on-backdrop":"",scrollable:"","hide-header-close":e.isTrue,size:"lg","hide-footer":"","ok-title":e.$t("save")}},[r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:""}},[r("b-form",{on:{submit:function(e){e.preventDefault()}}},[r("div",[r("b-row",[r("b-col",{staticStyle:{display:"flex","align-items":"center"}},[r("p",{staticStyle:{width:"100px","margin-bottom":"0"}},[e._v(e._s(e.$t("sno"))+":")]),r("b-form-input",{staticStyle:{"margin-right":"10px"},attrs:{id:"input-small",placeholder:"",disabled:""},model:{value:e.transferSno.originalSno,callback:function(t){e.$set(e.transferSno,"originalSno",t)},expression:"transferSno.originalSno"}})],1)],1),r("b-row",{staticStyle:{"margin-top":"20px"}},[r("b-col",{staticStyle:{display:"flex","align-items":"center"}},[r("p",{staticStyle:{width:"100px","margin-bottom":"0"}},[e._v(e._s(e.$t("Convert_to"))+":")]),r("b-form-input",{staticStyle:{"margin-right":"10px","text-transform":"uppercase"},attrs:{id:"input-small",placeholder:""},on:{keyup:function(t){e.transferSno.changedSno=0!=e.transferSno.changedSno.trim().length?e.transferSno.changedSno.replace(/[^0-9a-zA-Z._-]/g,""):""},blur:function(t){e.transferSno.changedSno=e.transferSno.changedSno.trim(),e.transferSno.changedSno=e.transferSno.changedSno.toUpperCase()}},model:{value:e.transferSno.changedSno,callback:function(t){e.$set(e.transferSno,"changedSno",t)},expression:"transferSno.changedSno"}})],1)],1),r("b-row",{staticStyle:{"margin-top":"20px"}},[r("b-col",{staticClass:"text-right",attrs:{md:"12"}},[r("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(){e.$refs["change-sno-modal"].hide()}}},[e._v(e._s(e.$t("cancel"))+" "),r("font-awesome-icon",{attrs:{icon:"fa-solid fa-rotate-left"}})],1),r("b-button",{staticClass:"ml-2 px-5",attrs:{variant:"primary"},on:{click:e.changeSno}},[e._v(e._s(e.$t("Convert_to"))),r("font-awesome-icon",{staticClass:"ml-1",attrs:{icon:"fa-solid fa-check"}})],1)],1)],1)],1)])],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"3",md:"4"}},[r("b-card",{attrs:{title:e.$t("sno")}},[r("div",[r("b-form-group",{attrs:{label:""}},[r("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{placeholder:e.$t("sno"),title:e.$t("sno")},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.get_user.apply(null,arguments)},function(t){e.student_code=0!=e.student_code.trim().length?e.student_code.replace(/[^0-9a-zA-Z._-]/g,""):""}],blur:function(t){e.student_code=e.student_code.trim(),e.student_code=e.student_code.toUpperCase()}},model:{value:e.student_code,callback:function(t){e.student_code=t},expression:"student_code"}})],1),r("b-button",{staticClass:"mb-1",attrs:{block:"",pill:"",variant:"outline-success"},on:{click:function(t){return e.get_user()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-greater-than"}}),e._v(" "+e._s(e.$t("confirm"))+" ")],1),r("hr"),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"outline-info"},on:{click:function(t){return e.addReader()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}}),e._v(" "+e._s(e.$t("reader_manage.reader_record.Establishing_new_readers"))+" ")],1),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"outline-info"},on:{click:function(t){return e.batchCreateUser()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}}),e._v(" "+e._s(e.$t("Batch_adding"))+" ")],1),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"outline-info"},on:{click:function(t){return e.batchUploadUserPicture()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}}),e._v(" "+e._s(e.$t("reader_manage.reader_record.Import_reader_photos"))+" ")],1),e.transferSno.originalSno?r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"outline-info"},on:{click:function(){e.$refs["change-sno-modal"].show()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-edit"}}),e._v(" "+e._s(e.$t("Convert_to"))+" ")],1):e._e()],1)])],1),r("b-col",{attrs:{lg:"9",md:"8"}},[r("b-row",{staticStyle:{"margin-bottom":"20px"}},[r("b-col",{attrs:{lg:"8"}}),r("b-col",{staticClass:"text-right",attrs:{lg:"4"}},[r("b-input-group",[r("b-form-input",{attrs:{placeholder:e.$t("reader_name")},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchStudent()}},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.searchStudent()}}},[e._v(" "+e._s(e.$t("reader_search"))+" ")])],1)],1)],1)],1),r("b-card",[e.studentList.length>0?r("b-row",[r("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"2"}},[r("b-form-group",[r("v-select",{attrs:{label:"Number of rows",options:e.sizeOptions,clearable:!1},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1)],1),r("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"3"}},[e._v(" "+e._s(e.$t("sort"))+": "),r("b-form-group",{staticStyle:{"margin-left":"10px"}},[r("v-select",{attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",options:e.orderOptions,reduce:function(e){return e.id}},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1)],1)],1):e._e(),e.studentList.length>0?r("b-table",{ref:"refUserListTable",staticClass:"position-relative",staticStyle:{"margin-top":"10px"},attrs:{items:e.studentList,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}},scopedSlots:e._u([{key:"cell(select)",fn:function(t){return[r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return e.select(t.item)}}},[e._v(" "+e._s(e.$t("Select"))+" ")])]}}],null,!1,1988587363)}):e._e(),e.studentList.length>0?r("b-row",[r("b-col",{staticClass:"mt-1"},[e._v(" "+e._s(e.$t("A_total_of_totalRows_items").replace("{totalRows}",e.totalRows))+" , "+e._s(e.$t("Which_page").replace("{currentPage}",e.currentPage))+" ")]),r("b-col",[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.size,"first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item",align:"right",size:"md"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1):e._e(),0==e.studentList.length?r("b-tabs",{attrs:{pills:""},model:{value:e.tab_index,callback:function(t){e.tab_index=t},expression:"tab_index"}},[r("b-tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[r("feather-icon",{staticClass:"mr-0 mr-sm-50",attrs:{icon:"UserIcon",size:"16"}}),r("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("Personal_information")))])]},proxy:!0}],null,!1,3492321878)},[r("b-row",[r("b-col",{attrs:{cols:"12",md:"8"}},[r("b-row",[r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:""}},[r("label",{staticClass:"required"},[e._v(e._s(e.$t("sno"))+" *")]),r("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{placeholder:""},on:{blur:function(t){e.user.username=e.user.username.trim(),e.user.username=e.user.username.toUpperCase()},keyup:function(t){e.user.username=0!=e.user.username.trim().length?e.user.username.replace(/[^0-9a-zA-Z._-]/g,""):""}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:""}},[r("label",{staticClass:"required"},[e._v(e._s(e.$t("User_level"))+" *")]),r("v-select",{attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",options:e.tiers,reduce:function(e){return e.id},size:"sm"},model:{value:e.user.tier,callback:function(t){e.$set(e.user,"tier",t)},expression:"user.tier"}})],1)],1),e.user.id?e._e():r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:""}},[r("label",{staticClass:"required"},[e._v(e._s(e.$t("password"))+" *")]),r("b-form-input",{attrs:{type:"password",placeholder:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Select_Group")+"("+e.$t("Multiple_Choices_Available")+")"}},[r("v-select",{attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",options:e.groups,clearable:!1,reduce:function(e){return e.id},size:"sm",multiple:""},model:{value:e.user.library_groups,callback:function(t){e.$set(e.user,"library_groups",t)},expression:"user.library_groups"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("chinese_name")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.chinese_name,callback:function(t){e.$set(e.user,"chinese_name",t)},expression:"user.chinese_name"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("english_name")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.english_name,callback:function(t){e.$set(e.user,"english_name",t)},expression:"user.english_name"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("email")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Phone_number")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.telephone,callback:function(t){e.$set(e.user,"telephone",t)},expression:"user.telephone"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("class")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.class_name,callback:function(t){e.$set(e.user,"class_name",t)},expression:"user.class_name"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Class_number")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.class_number,callback:function(t){e.$set(e.user,"class_number",t)},expression:"user.class_number"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("sex")}},[r("v-select",{attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",options:e.genders,reduce:function(e){return e.id},size:"sm"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Grade_Society")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.house,callback:function(t){e.$set(e.user,"house",t)},expression:"user.house"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"Smart Card Id"}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.smart_card_id,callback:function(t){e.$set(e.user,"smart_card_id",t)},expression:"user.smart_card_id"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Fines")}},[r("b-form-input",{attrs:{placeholder:"",readonly:!0},model:{value:e.user.balance,callback:function(t){e.$set(e.user,"balance",t)},expression:"user.balance"}})],1)],1),r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:e.$t("address_1")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.address_1,callback:function(t){e.$set(e.user,"address_1",t)},expression:"user.address_1"}})],1)],1),r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:e.$t("address_2")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.address_2,callback:function(t){e.$set(e.user,"address_2",t)},expression:"user.address_2"}})],1)],1),r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:e.$t("address_3")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.address_3,callback:function(t){e.$set(e.user,"address_3",t)},expression:"user.address_3"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("Father_email_address")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.father_email,callback:function(t){e.$set(e.user,"father_email",t)},expression:"user.father_email"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:e.$t("mather_email_address")}},[r("b-form-input",{attrs:{placeholder:""},model:{value:e.user.mother_email,callback:function(t){e.$set(e.user,"mother_email",t)},expression:"user.mother_email"}})],1)],1)],1)],1),r("b-col",{attrs:{cols:"12",md:"4"}},[e.user.id?r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"success"},on:{click:function(t){return e.editUser()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-floppy-disk"}}),e._v(" "+e._s(e.$t("Change_information"))+" ")],1):e._e(),e.user.id?e._e():r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"success"},on:{click:function(t){return e.createUser()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-floppy-disk"}}),e._v(" "+e._s(e.$t("add_reader"))+" ")],1),e.user.id?r("b-col",[r("hr",{staticClass:"my-2"}),r("b-form-input",{attrs:{type:"password",placeholder:e.$t("new_password")},model:{value:e.new_password,callback:function(t){e.new_password=t},expression:"new_password"}}),r("b-form-input",{staticClass:"mt-1",attrs:{type:"password",placeholder:e.$t("confirm_new_password")},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}}),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",attrs:{block:"",size:"sm",variant:"outline-dark"},on:{click:function(t){return e.changePassword()}}},[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-key"}}),e._v(" "+e._s(e.$t("change_password"))+" ")],1)],1):e._e(),r("b-col",[r("hr",{staticClass:"my-2"}),r("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[r("img",{staticStyle:{width:"150px"},attrs:{src:e.user.user_piture_base64}})]),r("b-form-file",{ref:"user_piture",attrs:{id:"user-piture",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...","file-name-formatter":e.formatNames},model:{value:e.user_piture_file,callback:function(t){e.user_piture_file=t},expression:"user_piture_file"}}),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(234, 84, 85, 0.15)",expression:"'rgba(234, 84, 85, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",attrs:{block:"",size:"sm",variant:"outline-secondary"},on:{click:e.addUserPiture}},[e._v(" "+e._s(e.$t("upload_image"))+" ")]),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(234, 84, 85, 0.15)",expression:"'rgba(234, 84, 85, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",attrs:{block:"",size:"sm",variant:"outline-danger"},on:{click:function(t){return e.delUserpiture()}}},[e._v(" "+e._s(e.$t("reset"))+" ")])],1)],1)],1)],1),e.user?r("b-tab",{staticStyle:{overflow:"hidden"},scopedSlots:e._u([{key:"title",fn:function(){return[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-building-circle-arrow-right"}}),r("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("Borrowing_records")))])]},proxy:!0}],null,!1,1588457468)},[r("lending-history",{staticClass:"mt-2 pt-75",attrs:{user:e.user,currentDate:e.currentDate,lending_histories:e.lendingHistories}})],1):e._e(),r("b-tab",{staticStyle:{overflow:"hidden"},scopedSlots:e._u([{key:"title",fn:function(){return[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-clock"}}),r("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("Late_return_record")))])]},proxy:!0}],null,!1,2845035339)},[r("overdue-history",{attrs:{user:e.user,overdue_histories:e.overdueHistories}})],1),r("b-tab",{staticStyle:{overflow:"hidden"},scopedSlots:e._u([{key:"title",fn:function(){return[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-book-bookmark"}}),r("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("Advance_borrowing_records")))])]},proxy:!0}],null,!1,1356500593)},[r("reserve-history",{attrs:{user:e.user,reserve_histories:e.reserveHistories}})],1),r("b-tab",{staticStyle:{overflow:"hidden"},scopedSlots:e._u([{key:"title",fn:function(){return[r("font-awesome-icon",{attrs:{icon:"fa-solid fa-ban"}}),r("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("Record_of_loan_suspension")))])]},proxy:!0}],null,!1,2102577911)},[r("stop-borrow-history",{attrs:{user:e.user,stop_borrow_histories:e.stopBorrowHistories},on:{getBorrowStops:function(t){e.getBorrowStops(t)}}})],1)],1):e._e()],1)],1)],1)],1)},a=[],n=r("c7eb"),o=r("1da1"),i=(r("99af"),r("7db0"),r("b0c0"),r("d3b7"),r("159b"),r("4a7a")),l=r.n(i),u=r("a15b7"),c=r("b28b"),d=r("8226"),p=r("6190"),b=r("f902"),m=r("4797"),_=r("c43f"),f=r("9c7d"),h=r("205f"),g=r("1947"),v=r("ccc0"),w=r("5e12"),y=r("29a1"),k=r("26d2"),$=r("223c"),S=r("e009"),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("b-table",{ref:"refUserListTable",staticClass:"mb-0",staticStyle:{"margin-top":"10px"},attrs:{items:e.lending_histories,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}},scopedSlots:e._u([{key:"cell(due_date)",fn:function(t){return[t.item.due_date<e.currentDate?r("span",{staticStyle:{color:"red"}},[e._v(e._s(t.item.due_date))]):e._e(),t.item.due_date>e.currentDate?r("span",[e._v(e._s(t.item.due_date))]):e._e()]}},{key:"cell(is_renew)",fn:function(t){return[t.item.is_renew?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_renew?e._e():r("span",[e._v(e._s(e.$t("No")))])]}},{key:"cell(is_settled)",fn:function(t){return[t.item.is_settled?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_settled?e._e():r("span",[e._v(e._s(e.$t("No")))])]}},{key:"cell(is_voided)",fn:function(t){return[t.item.is_voided?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_voided?e._e():r("span",[e._v(e._s(e.$t("No")))])]}}])})],1)],1)],1)],1)},B=[],C={components:{BRow:u["a"],BCol:c["a"],BFormGroup:d["a"],BTab:p["a"],BTabs:b["a"],BFormInput:m["a"],vSelect:l.a,BFormTextarea:f["a"],BCard:h["a"],BButton:g["a"],ToastificationContent:$["a"],BTable:y["a"]},directives:{Ripple:S["a"]},data:function(){return{isSortDirDesc:!1,fields:[{key:"book.acno",label:"ACNO",sortable:!0},{key:"book.title",label:this.$t("book_name"),sortable:!0},{key:"borrow_date",label:this.$t("Borrowing_date"),sortable:!0},{key:"due_date",label:this.$t("Expiration_date"),sortable:!0},{key:"returned_at",label:this.$t("returned_book_date"),sortable:!0},{key:"overdue_days",label:this.$t("Expiration_days"),sortable:!0},{key:"overdue_fee",label:this.$t("Expired_fines"),sortable:!0},{key:"overdue_settled",label:this.$t("Fine_paid"),sortable:!0},{key:"is_settled",label:this.$t("Fined"),sortable:!0},{key:"is_voided",label:this.$t("Exempted_fines"),sortable:!0},{key:"is_renew",label:this.$t("Whether_to_renew_the_loan")}]}},props:["user","lending_histories","currentDate"],methods:{messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}},created:function(){console.log(this.lending_histories)}},D=C,O=(r("4e43"),r("2877")),T=Object(O["a"])(D,x,B,!1,null,null,null),j=T.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("b-table",{ref:"refUserListTable",staticClass:"mb-0",staticStyle:{"margin-top":"10px"},attrs:{items:e.overdue_histories,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}},scopedSlots:e._u([{key:"cell(is_renew)",fn:function(t){return[t.item.is_renew?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_renew?e._e():r("span",[e._v(e._s(e.$t("No")))])]}},{key:"cell(is_settled)",fn:function(t){return[t.item.is_settled?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_settled?e._e():r("span",[e._v(e._s(e.$t("No")))])]}},{key:"cell(is_voided)",fn:function(t){return[t.item.is_voided?r("span",[e._v(e._s(e.$t("Yes")))]):e._e(),t.item.is_voided?e._e():r("span",[e._v(e._s(e.$t("No")))])]}}])})],1)],1)],1)],1)},N=[],U={components:{BRow:u["a"],BCol:c["a"],BFormGroup:d["a"],BTab:p["a"],BTabs:b["a"],BFormInput:m["a"],vSelect:l.a,BFormTextarea:f["a"],BCard:h["a"],BButton:g["a"],ToastificationContent:$["a"],BTable:y["a"]},directives:{Ripple:S["a"]},data:function(){return{isSortDirDesc:!1,fields:[{key:"book.acno",label:"ACNO",sortable:!0},{key:"book.title",label:this.$t("book_name"),sortable:!0},{key:"borrow_date",label:this.$t("Borrowing_date"),sortable:!0},{key:"due_date",label:this.$t("Expiration_date"),sortable:!0},{key:"returned_at",label:this.$t("returned_book_date"),sortable:!0},{key:"overdue_days",label:this.$t("Expiration_days"),sortable:!0},{key:"overdue_fee",label:this.$t("Expired_fines"),sortable:!0},{key:"overdue_settled",label:this.$t("Fine_paid"),sortable:!0},{key:"is_settled",label:this.$t("Fined"),sortable:!0},{key:"is_voided",label:this.$t("Exempted_fines"),sortable:!0},{key:"is_renew",label:this.$t("Whether_to_renew_the_loan")}]}},props:["user","overdue_histories"],methods:{messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},H=U,z=(r("0ac35"),Object(O["a"])(H,R,N,!1,null,null,null)),P=z.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("b-table",{ref:"refUserListTable",staticClass:"mb-0",staticStyle:{"margin-top":"10px"},attrs:{items:e.reserve_histories,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[e._v(" "+e._s(e.getReserveStatus(t.item.status))+" ")]}}])})],1)],1)],1)],1)},F=[],L={components:{BRow:u["a"],BCol:c["a"],BFormGroup:d["a"],BTab:p["a"],BTabs:b["a"],BFormInput:m["a"],vSelect:l.a,BFormTextarea:f["a"],BCard:h["a"],BButton:g["a"],ToastificationContent:$["a"],BTable:y["a"]},directives:{Ripple:S["a"]},data:function(){return{isSortDirDesc:!1,fields:[{key:"book.acno",label:"ACNO",sortable:!0},{key:"book.title",label:this.$t("book_name"),sortable:!0},{key:"reserve_date",label:this.$t("Advance_borrowing_date"),sortable:!0},{key:"status",label:this.$t("status"),sortable:!0}]}},props:["user","reserve_histories"],methods:{getReserveStatus:function(e){var t="";switch(e){case 1:return t="等待取書",t;case 2:return t="等待還書",t;case 3:return t="已借閱",t;case 4:return t="已取消",t}},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},M=L,A=(r("0af6"),Object(O["a"])(M,E,F,!1,null,null,null)),q=A.exports,G=r("49b6"),I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"addHistory",attrs:{id:"modal-xl","no-close-on-backdrop":"","ok-title":"提交",scrollable:"","hide-footer":"","hide-header-close":!0,size:"lg"}},[r("b-row",[r("b-col",[e._v(" "+e._s(e.$t("start_date"))+": ")]),r("b-col",{attrs:{sm:"4"}},[r("flat-pickr",{staticClass:"form-control",model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("b-col",[e._v(" "+e._s(e.$t("end_date"))+": ")]),r("b-col",{attrs:{sm:"4"}},[r("flat-pickr",{staticClass:"form-control",model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("b-row",{staticStyle:{"margin-top":"20px"}},[r("b-col",{staticStyle:{"text-align":"right"}},[r("b-button",{staticStyle:{"margin-right":"20px"},on:{click:function(t){return e.$refs["addHistory"].hide()}}},[e._v(e._s(e.$t("cancel")))]),r("b-button",{attrs:{variant:"primary"},on:{click:e.addHistory}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("div",[r("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("Pre_loan_suspension_recode")))]),r("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(){e.addType="advanceBorrow",e.$refs["addHistory"].show()}}},[e._v(e._s(e.$t("add")))])],1),r("b-table",{ref:"refUserListTable",staticClass:"mb-0",staticStyle:{"margin-top":"10px"},attrs:{items:e.stop_borrow_histories.advanceBorrowing,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("div",[r("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("borrow_suspension_recode")))]),r("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(){e.addType="borrow",e.$refs["addHistory"].show()}}},[e._v(e._s(e.$t("add")))])],1),r("b-table",{ref:"refUserListTable",staticClass:"mb-0",staticStyle:{"margin-top":"10px"},attrs:{items:e.stop_borrow_histories.Borrowing,responsive:"",fields:e.fields,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}}})],1)],1)],1)],1)},Y=[],W=r("c38f"),Z=r.n(W),J={components:{BRow:u["a"],BCol:c["a"],BFormGroup:d["a"],BTab:p["a"],BTabs:b["a"],flatPickr:Z.a,BFormInput:m["a"],vSelect:l.a,BFormTextarea:f["a"],BCard:h["a"],BButton:g["a"],ToastificationContent:$["a"],BTable:y["a"]},directives:{Ripple:S["a"]},data:function(){return{isSortDirDesc:!1,start_date:null,end_date:null,addType:"",fields:[{key:"start_date",label:this.$t("start_date"),sortable:!0},{key:"end_date",label:this.$t("end_date"),sortable:!0}]}},props:["user","stop_borrow_histories"],mounted:function(){console.log(this.stop_borrow_histories)},methods:{addHistory:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/users/add_borrow_stop/",{sno:e.user.username,stop_type:"borrow"===e.addType?1:2,borrow_stop_start_date:e.start_date,borrow_stop_end_date:e.end_date});case 2:r=t.sent,200==r.status?(e.$refs["addHistory"].hide(),e.$emit("getBorrowStops","borrow"===e.addType?1:2),e.messageShown(e.$t("success"),e.$t("Successfully_added"),"success")):(s=r.errors.errors,a=e.alertMessage(s),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},K=J,Q=(r("b5b9"),Object(O["a"])(K,I,Y,!1,null,null,null)),V=Q.exports,X=r("ddc4"),ee={components:{BatchUpload:G["a"],BRow:u["a"],BCol:c["a"],BFormGroup:d["a"],BTab:p["a"],BTabs:b["a"],BFormInput:m["a"],BFormFile:_["a"],vSelect:l.a,BFormTextarea:f["a"],BCard:h["a"],BButton:g["a"],ToastificationContent:$["a"],LendingHistory:j,OverdueHistory:P,StopBorrowHistory:V,BInputGroupAppend:v["a"],BInputGroup:w["a"],BTable:y["a"],BPagination:k["a"],ReserveHistory:q,BatchUploadUserPicture:X["a"]},directives:{Ripple:S["a"]},data:function(){return{isTrue:!0,tab_index:null,new_password:null,confirm_password:null,student_code:null,genders:[{id:1,label:this.$t("female")},{id:2,label:this.$t("male")},{id:3,label:this.$t("Unknown")}],tiers:[{id:1,label:"Student"},{id:2,label:"Teacher"},{id:3,label:"Staff"},{id:99,label:"Administrator"}],groups:[],user:{email:null,password:null,username:null,chinese_name:null,english_name:null,tier:null,class_name:null,class_number:null,gender:null,house:null,address_1:null,address_2:null,address_3:null,telephone:null,father_email:null,mother_email:null,smart_card_id:null,library_groups:[],user_piture_base64:null},searchTerm:null,studentList:[],isSortDirDesc:!1,fields:[{key:"username",label:this.$t("sno")},{key:"chinese_name",label:this.$t("chinese_name")},{key:"english_name",label:this.$t("english_name")},{key:"class_name",label:this.$t("class")},{key:"email",label:this.$t("email")},{key:"tier",label:this.$t("level")},{key:"select",label:this.$t("Select")}],lendingHistories:[],totalRows:null,currentPage:1,size:10,order:"USERNAME",sizeOptions:[5,10,15,20],orderOptions:[{id:"USERNAME",label:this.$t("User_Name")},{id:"CLASS_NAME",label:this.$t("class")},{id:"ENGLISH_NAME",label:this.$t("english_name")}],overdueHistories:[],reserveHistories:[],stopBorrowHistories:{Borrowing:[],advanceBorrowing:[]},current_date:null,user_piture_file:null,transferSno:{originalSno:"",changedSno:""}}},watch:{currentPage:{handler:function(e,t){this.searchStudent(e,null,"need")}},size:{handler:function(e,t){this.searchStudent(null,e,"need")}},order:{handler:function(e,t){this.order=e,this.searchStudent(null,null,"need")}}},methods:{currentDate:function(){var e=new Date,t="".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear());this.current_date=t},get_user:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/users/"+e.student_code+"/");case 2:r=t.sent,200==r.status?(s=r.data.data,e.transferSno.originalSno=e.student_code,e.user=s,e.user.user_piture_base64="http://35.215.167.199:8001/"+s.cover,1==e.user.gender?e.user.gender="女":2==e.user.gender?e.user.gender="男":3==e.user.gender&&(e.user.gender="不知明"),a=[],e.user.library_groups.forEach((function(e,t){a.push(e.id)})),e.user.library_groups=a,e.studentList=[],e.getHistory(),e.getOverdueHistory(),e.getReserveHistory(),e.getBorrowStops(1),e.getBorrowStops(2)):(o=r.errors.errors,i=e.alertMessage(o),e.messageShown(e.$t("error"),i,"error"));case 4:case"end":return t.stop()}}),t)})))()},getHistory:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/users/"+e.user.username+"/histories/");case 2:r=t.sent,200==r.status?(s=r.data.data,e.lendingHistories=s):(a=r.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return t.stop()}}),t)})))()},getOverdueHistory:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/users/"+e.user.username+"/overdue_histories/");case 2:r=t.sent,200==r.status?(s=r.data.data,e.overdueHistories=s):(a=r.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return t.stop()}}),t)})))()},getReserveHistory:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/users/"+e.user.username+"/reservations/");case 2:r=t.sent,200==r.status?(s=r.data.data,e.reserveHistories=s.reservations,console.log(e.reserveHistories)):(a=r.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return t.stop()}}),t)})))()},getBorrowStops:function(e){var t=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var s,a,o,i;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.postRequest("/users/borrow_stops/",{sno:t.user.username,stop_type:e});case 2:s=r.sent,200==s.status?(a=s.data.data,1===e?t.stopBorrowHistories.Borrowing=a:t.stopBorrowHistories.advanceBorrowing=a):(o=s.errors.errors,i=t.alertMessage(o),t.messageShown(t.$t("error"),i,"error"));case 4:case"end":return r.stop()}}),r)})))()},getGroups:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/library_groups/");case 2:r=t.sent,200==r.status?(s=r.data.data,s.forEach((function(t,r){e.groups.push({id:t.id,label:t.name})}))):(a=r.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return t.stop()}}),t)})))()},editUser:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o,i,l,u;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return delete e.user["effective_library_group"],delete e.user["balance"],isNaN(e.user.tier)&&(r=e.tiers.find((function(t){return t.label===e.user.tier})),r&&(e.user.tier=r.id)),isNaN(e.user.gender)&&(s=e.genders.find((function(t){return t.label===e.user.gender})),s&&(e.user.gender=s.id)),a=[],o=e.user.username,a=e.user.library_groups,t.next=9,e.putRequest("/users/"+e.user.username+"/",e.user);case 9:i=t.sent,200==i.status?(i.data.data,e.user.id=null,e.user_piture_file=null,e.student_code=null,e.assignGroups(o,a)):(l=i.errors.errors,u=e.alertMessage(l),e.messageShown(e.$t("error"),u,"error"));case 11:case"end":return t.stop()}}),t)})))()},assignGroups:function(e,t){var r=this;return Object(o["a"])(Object(n["a"])().mark((function s(){var a,o,i,l;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={},a["library_groups"]=t,s.next=4,r.postRequest("/users/"+e+"/assign_library_groups/",a);case 4:o=s.sent,200==o.status?(r.user={email:null,password:null,username:null,chinese_name:null,english_name:null,tier:null,class_name:null,class_number:null,gender:null,house:null,address_1:null,address_2:null,address_3:null,telephone:null,father_email:null,mother_email:null,smart_card_id:null,library_groups:[],user_piture_base64:null},r.messageShown(r.$t("success"),r.$t("Successfully_updated"),"success")):(i=o.errors.errors,l=r.alertMessage(i),r.messageShown(r.$t("error"),l,"error"));case 6:case"end":return s.stop()}}),s)})))()},changePassword:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.new_password!=e.confirm_password){t.next=9;break}return r={},r["password"]=e.new_password,t.next=5,e.postRequest("/users/"+e.user.username+"/reset_password/",r);case 5:s=t.sent,200==s.status?e.messageShown(e.$t("success"),e.$t("reader_manage.reader_record.Password_changed"),"success"):(a=s.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error")),t.next=10;break;case 9:e.messageShown(e.$t("error"),e.$t("reader_manage.reader_record.Password_Confirm_Password_Mismatch"),"error");case 10:case"end":return t.stop()}}),t)})))()},addReader:function(){this.user={password:null,username:null,chinese_name:null,english_name:null,tier:null,class_name:null,class_number:null,gender:null,house:null,address_1:null,address_2:null,address_3:null,telephone:null,father_email:null,mother_email:null,smart_card_id:null,library_groups:[]},this.user.id=null,this.student_code=null,this.searchTerm=null,this.studentList=[],this.tab_index=0},batchCreateUser:function(){this.$refs["batch-upload"].show()},createUser:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.user,t.next=3,e.postRequest("/users/",r);case 3:s=t.sent,200==s.status?(e.messageShown(e.$t("success"),e.$t("added"),"success"),e.user={password:null,username:null,chinese_name:null,english_name:null,tier:null,class_name:null,class_number:null,gender:null,house:null,address_1:null,address_2:null,address_3:null,telephone:null,father_email:null,mother_email:null,smart_card_id:null,library_groups:[],user_piture_base64:null},e.user_piture_file=null,e.user.id=null,e.student_code=null):(a=s.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 5:case"end":return t.stop()}}),t)})))()},searchStudent:function(e,t,r){var s=this;return Object(o["a"])(Object(n["a"])().mark((function a(){var o,i,l,u;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={},"need"==r?(e&&(s.currentPage=e),t&&(s.size=t),o["page"]=s.currentPage,o["size"]=s.size,o["order"]=s.order):(s.currentPage=1,o["page"]=s.currentPage,o["size"]=s.size,o["order"]=s.order),o["key"]=s.searchTerm,a.next=5,s.postRequest("/users/students/",o);case 5:i=a.sent,200==i.status?(s.studentList=i.data.data,s.totalRows=i.data.meta.count,0==s.studentList.length&&s.messageShown("",s.$t("reader_manage.reader_record.no_reader"),"")):(l=i.errors.errors,u=s.alertMessage(l),s.messageShown(s.$t("error"),u,"error"));case 7:case"end":return a.stop()}}),a)})))()},select:function(e){this.student_code=e.username,this.get_user()},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})},batchUploadUserPicture:function(){this.$refs["batch-upload-user-picture"].show()},formatNames:function(e){return 1===e.length?(this.user_piture_file=e[0],this.createBase64Image(this.user_piture_file),e[0].name):"".concat(e.length," files selected")},createBase64Image:function(e,t){var r=this,s=new FileReader;s&&(s.onload=function(e){r.user.user_piture_base64=e.target.result},s.readAsDataURL(e))},addUserPiture:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/users/add_cover/",{uid:e.user.username,pic:e.user.user_piture_base64});case 2:r=t.sent,200==r.status?(e.user.user_piture_base64="http://35.215.167.199:8001/"+r.data.data.cover,e.user_piture_file=null,e.messageShown(e.$t("success"),$t("added"),"success")):(s=r.errors.errors,a=e.alertMessage(s),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},delUserpiture:function(){this.user.user_piture_base64=null,this.user_piture_file=null},changeSno:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={},r["old_sno"]=e.transferSno.originalSno,r["new_sno"]=e.transferSno.changedSno,t.next=5,e.postRequest("/users/reader_transfer/",r);case 5:s=t.sent,200==s.status?(e.messageShown(e.$t("success"),e.$t("successfully_edit"),"success"),e.$refs["change-sno-modal"].hide()):(a=s.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.getGroups(),this.currentDate()}},te=ee,re=(r("939a"),Object(O["a"])(te,s,a,!1,null,"416aa73a",null));t["default"]=re.exports},"4e43":function(e,t,r){"use strict";r("ff9b")},5366:function(e,t,r){},"939a":function(e,t,r){"use strict";r("5366")},b5b9:function(e,t,r){"use strict";r("e829")},d02c:function(e,t,r){},e829:function(e,t,r){},ff9b:function(e,t,r){}}]);