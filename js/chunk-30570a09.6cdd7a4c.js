(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30570a09"],{5976:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{md:"12"}},[o("b-card",[o("p",[t._v(t._s(t.$t("nav.opac.good_book_promotion")))]),o("b-row",{staticStyle:{padding:"0 20px"}},[o("b-col",{attrs:{md:"12"}},[o("p",[t._v("ACNO")])]),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{attrs:{placeholder:""},on:{blur:function(e){t.acno=t.acno.trim(),t.acno=t.acno.toUpperCase()},keyup:function(e){t.acno=0!=t.acno.trim().length?t.acno.replace(/[^0-9a-zA-Z._-]/g,""):""}},model:{value:t.acno,callback:function(e){t.acno=e},expression:"acno"}})],1),o("b-col",{attrs:{md:"2"}},[o("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"primary"},on:{click:t.addGoodBook}},[t._v(" "+t._s(t.$t("add"))+" ")])],1)],1),o("b-row",{staticStyle:{padding:"0 20px","overflow-x":"auto"}},t._l(t.booksList,(function(e,r){return o("b-col",{key:r,staticStyle:{display:"flex","border-bottom":"1px solid #ccc",padding:"10px","justify-content":"space-between","align-items":"center","min-width":"900px","box-sizing":"border-box"},attrs:{md:"12"}},[o("div",{staticStyle:{display:"flex"}},[o("div",{staticStyle:{"margin-right":"20px"}},[e.book_photo_full?o("img",{staticStyle:{"margin-bottom":"10px","object-fit":"cover"},attrs:{width:"100",height:"150",src:e.book_photo_full,alt:""}}):o("div",{staticStyle:{width:"100px",position:"relative"}},[o("p",{staticClass:"content_3",staticStyle:{width:"55%","font-size":"12px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[t._v(" "+t._s(e.title)+" ")]),o("img",{staticStyle:{"max-width":"100%","max-height":"100%","object-fit":"cover",margin:"0 auto"},attrs:{src:a("66be"),alt:""}})])]),o("div",[o("p",{staticStyle:{margin:"0","font-weight":"bold"}},[t._v(" "+t._s(e.title)+" ")]),o("p",{staticStyle:{margin:"0"}},[t._v(t._s(t.$t("author"))+": "+t._s(e.author))]),o("p",{staticStyle:{margin:"0"}},[t._v(" "+t._s(t.$t("subject"))+": "+t._s(e.subject)+" ")]),o("p",{staticStyle:{margin:"0"}},[t._v(" "+t._s(t.$t("Keywords"))+": "+t._s(e.keyword)+" ")])])]),o("div",[o("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"danger",size:"sm"},on:{click:function(a){return t.deleteGoodBook(e.id)}}},[t._v(" "+t._s(t.$t("Delete"))+" ")])],1)])})),1)],1)],1)],1)],1)},r=[],n=a("c7eb"),s=a("1da1"),c=a("6aac"),i=a("1eba"),l=a("0bd8"),u=a("2a2e"),d=a("6cf6"),b=a("0809"),p=a("a247"),m=a("2768"),f=a("29a1"),h=a("8361"),g=a("11de"),v=a("205f"),w=a("d247"),_=a("e8a3"),B=a("d6e4"),k=a("8226"),x=a("4797"),y=a("a15b7"),S=a("b28b"),$=a("1947"),j=a("c3e6"),O=a("e6c7"),C=a("4a7a"),T=a.n(C),G=a("e009"),F={components:{BModal:c["a"],vSelect:T.a,BTableSimple:i["a"],BThead:l["a"],BTr:u["a"],BTh:d["a"],BTd:b["a"],BTbody:p["a"],BTfoot:m["a"],BTable:f["a"],BFormSelect:h["a"],BForm:g["a"],BCard:v["a"],BListGroupItem:w["a"],BAvatar:_["a"],BCardText:B["a"],BFormGroup:k["a"],BFormInput:x["a"],BRow:y["a"],BCol:S["a"],BButton:$["a"],BFormCheckbox:j["a"]},data:function(){return{acno:null,booksList:[]}},directives:{"b-modal":O["a"],Ripple:G["a"]},created:function(){this.getGoodBook()},methods:{getGoodBook:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,o,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("/book_recommend/");case 2:a=e.sent,200==a.status?t.booksList=a.data.data:(o=a.errors.errors,r=t.alertMessage(o),t.messageShown(t.$t("error"),r,"error"));case 4:case"end":return e.stop()}}),e)})))()},addGoodBook:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,o,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postRequest("/book_recommend/",{acno:t.acno});case 2:a=e.sent,200==a.status?(t.acno="",t.getGoodBook(),t.messageShown(t.$t("success"),t.$t("Successfully_added"),"success")):(o=a.errors.errors,r=t.alertMessage(o),t.messageShown(t.$t("error"),r,"error"));case 4:case"end":return e.stop()}}),e)})))()},deleteGoodBook:function(t){var e=this;return Object(s["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$swal({title:"",text:"".concat(e.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var a=Object(s["a"])(Object(n["a"])().mark((function a(o){var r,s,c;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!o.value){a.next=5;break}return a.next=3,e.deleteRequest("/book_recommend/".concat(t));case 3:r=a.sent,200==r.status?(e.getGoodBook(),e.messageShown(e.$t("success"),e.$t("successfully_delete"),"success")):(s=r.errors.errors,c=e.alertMessage(s),e.messageShown(e.$t("error"),c,"error"));case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},messageShown:function(t,e,a){this.$swal({title:t,html:e,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},R=F,z=a("2877"),L=Object(z["a"])(R,o,r,!1,null,null,null);e["default"]=L.exports},"66be":function(t,e,a){t.exports=a.p+"img/book.573a5436.png"}}]);