(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdb19"],{"2ca3":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",[s("b-col",{attrs:{lg:"12"}},[s("b-card",[s("b-row",[s("b-col",{attrs:{md:"3"}},[s("p",[e._v(" "+e._s(e.$t("opac.permission_setting.OPAC_module_switch_settings"))+" ")]),s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"deepblue",size:"sm"},on:{click:function(t){return e.createGroup()}}},[s("feather-icon",{attrs:{icon:"CheckIcon",size:"14"}}),e._v(" "+e._s(e.$t("change"))+" ")],1)],1)],1),s("b-row",[s("b-col",e._l(e.permissionSetting,(function(t,r){return s("b-row",{key:r},[s("b-col",{attrs:{md:"3"}},[s("p",[e._v(e._s(e.permissionSettingTitle[r].title))])]),e._l(t.children,(function(a,n){return s("b-col",{key:n},[s("b-form-group",{attrs:{label:e.permissionSettingTitle[r].children[n].title}},[s("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:t.children[n].value,name:"check-button",switch:""},model:{value:t.children[n].value,callback:function(s){e.$set(t.children[n],"value",s)},expression:"item.children[index2].value"}})],1)],1)}))],2)})),1)],1)],1)],1)],1)],1)},a=[],n=s("c7eb"),i=s("1da1"),o=s("ade3"),c=(s("e9c4"),s("b64b"),s("11de")),l=s("8226"),u=s("4797"),d=s("2924"),p=s("3b99"),m=s("1947"),_=s("a15b7"),b=s("b28b"),h=s("6190"),g=s("f902"),v=s("205f"),w=s("5fda"),f=s("e98b"),k=s("aa59"),y=s("3135"),B=s("d247"),$=s("d6e4"),S=s("c3e6"),G=s("4a7a"),x=s.n(G),O=(s("223c"),s("a18c"),s("e009")),j={components:Object(o["a"])(Object(o["a"])({vSelect:x.a,BForm:c["a"],BFormGroup:l["a"],BFormInput:u["a"],BFormRadioGroup:d["a"],BFormCheckboxGroup:p["a"],BButton:m["a"],BRow:_["a"],BCol:b["a"],BTab:h["a"],BTabs:g["a"],BCard:v["a"],BAlert:w["a"],BBadge:f["a"],BLink:k["a"],BListGroup:y["a"],BListGroupItem:B["a"],BCardText:$["a"]},"BFormGroup",l["a"]),"BFormCheckbox",S["a"]),directives:{Ripple:O["a"]},data:function(){return{selected_group:{group_name:null,user:[],administrative_manage:!1,content_manage:!1},permissionSetting:[{type:"home_page_display",children:[{type:"recommended_Good_Books",value:"",id:1},{type:"latest_news",value:"",id:2},{type:"latest_Book_Review",value:"",id:3},{type:"small_tools",value:"",id:4},{type:"ranking",value:"",id:5}]},{type:"borrow_recode",children:[{type:"penalty_records",value:"",id:6},{type:"renewal_permission_management",value:"",id:7}]},{type:"system_messages",children:[{type:"book_buy_information",value:"",id:8},{type:"non_book_reviews_and_trends",value:"",id:9}]}]}},computed:{permissionSettingTitle:function(){return[{title:this.$t("Home_page_display"),children:[{title:this.$t("Recommended_Good_Books")},{title:this.$t("Latest_news")},{title:this.$t("Latest_Book_Review")},{title:this.$t("Small_tools")},{title:this.$t("ranking")}]},{title:this.$t("borrow_recode"),children:[{title:this.$t("Penalty_records")},{title:this.$t("opac.permission_setting.Renewal_permission_management")}]},{title:this.$t("System_messages"),children:[{title:this.$t("opac.permission_setting.book_buy_information")},{title:this.$t("opac.permission_setting.Non_book_reviews_and_trends")}]}]}},methods:{getGroups:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var s,r,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/menus/findGlobalMenu/");case 2:s=t.sent,200==s.status?s.data.data&&(e.permissionSetting=JSON.parse(s.data.data.menu_json)):(r=s.errors.errors,a=e.alertMessage(r),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},createGroup:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var s,r,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/menus/editGlobalMenu/",{menu_json:JSON.stringify(e.permissionSetting)});case 2:s=t.sent,200==s.status?(e.getGroups(),e.messageShown(e.$t("success"),e.$t("Successfully_added"),"success")):(r=s.errors.errors,a=e.alertMessage(r),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,s){this.$swal({title:e,html:t,icon:s,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}},created:function(){this.getGroups()}},C=j,R=s("2877"),F=Object(R["a"])(C,r,a,!1,null,null,null);t["default"]=F.exports}}]);