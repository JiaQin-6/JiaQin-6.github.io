(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dd6f662"],{"17ac":function(e,t,r){},"7f7ab":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-row",{staticClass:"m-0"},[r("b-col",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{cols:"12"}},[r("p",{staticStyle:{flex:"1"}},[e._v(e._s(e.$t("nav.opac.read_report_score")))])]),r("b-col",{staticStyle:{"margin-bottom":"10px",padding:"0 10px"},attrs:{cols:"12",lg:"2"}},[r("div",{staticClass:"mb-2"},[r("span",[e._v(e._s(e.$t("opac.read_report_record.study_area"))+"：")]),r("span",[e._v(e._s(e.reportRecordData.study_field))])]),r("div",{staticClass:"p-1",staticStyle:{"background-color":"#ebf4f9",border:"2px solid #edf0f4","border-radius":"5px"}},[r("span",[e._v(e._s(e.reportRecordData.remark))])])]),r("b-col",{staticStyle:{padding:"0 10px"},attrs:{cols:"12",lg:"10"}},[r("div",{staticClass:"mb-1"},[r("span",[e._v(e._s(e.$t("opac.read_report_record.Reading_Theme_Plan"))+" ｜ "+e._s(e.reportRecordData.title)+" "+e._s(e.reportRecordData.start_date)+" "+e._s(e.$t("and"))+" "+e._s(e.reportRecordData.end_date))])]),r("div",{staticStyle:{"background-color":"#fff"}},[r("b-row",{staticClass:"m-0 p-1"},[r("b-col",{staticStyle:{"border-bottom":"1px solid #ccc",display:"flex","justify-content":"space-between"},attrs:{cols:"12"}},[r("span",[e._v(e._s(e.$t("Student"))+"："+e._s(e.reportRecordData.sno))]),r("span",[e._v(e._s(e.$t("Submit_date"))+"："+e._s(e.reportRecordData.create_ts))])]),r("b-col",{staticClass:"p-1",attrs:{cols:"12"}},[r("b-row",{staticClass:"m-0",staticStyle:{border:"2px solid #edf0f4"}},[r("b-col",{staticClass:"p-1",staticStyle:{"background-color":"#ebf4f9"},attrs:{cols:"12",lg:"6"}},[r("div",{staticClass:"mb-1",staticStyle:{display:"flex"}},[r("span",{staticStyle:{flex:"0 0 auto"}},[e._v(e._s(e.$t("score"))+"：")]),r("el-input-number",{attrs:{min:1,max:5,disabled:!e.editStatus},model:{value:e.teacherScore,callback:function(t){e.teacherScore=t},expression:"teacherScore"}})],1),r("div",{staticStyle:{display:"flex"}},[r("span",{staticStyle:{flex:"0 0 auto"}},[e._v(e._s(e.$t("Comment"))+"：")]),r("el-input",{attrs:{type:"textarea",disabled:!e.editStatus},model:{value:e.teacherRemark,callback:function(t){e.teacherRemark=t},expression:"teacherRemark"}})],1)]),e.editStatus?r("b-col",{staticClass:"p-1",staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},attrs:{cols:"12",lg:"6"}},[r("div",{staticStyle:{display:"flex","flex-direction":"column"}},[r("el-checkbox",{staticStyle:{"margin-bottom":"10px"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v(e._s(e.$t("opac.read_report_record.Confirm_to_jump_to_the_next_page")))]),r("b-button",{attrs:{disabled:!e.teacherRemark||!e.teacherScore,variant:"info"},on:{click:e.confirmScore}},[e._v(e._s(e.$t("opac.read_report_record.Determine_rating")))])],1)]):e._e()],1)],1)],1),r("b-row",{staticClass:"m-0 p-1"},[r("b-col",e._l(e.reportRecordData.report_format&&Object.keys(e.reportRecordData.report_format),(function(t,a){return r("b-row",{key:a,staticClass:"m-0"},[r("b-col",{staticStyle:{"background-color":"#ebf4f9"},attrs:{cols:"12"}},[e._v(" "+e._s("book_file_list"===t?"1."+e.$t("books"):"read_report_list"===t?"2."+e.$t("read_report"):"3."+e.$t("Book_rating")))]),"score_list"!==t?r("b-col",{staticClass:"p-1",staticStyle:{display:"flex"}},[r("div",{staticClass:"mb-1"},e._l(e.reportRecordData.report_format[t],(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"item2.value"}],key:a,staticStyle:{"text-align":"right","margin-right":"10px"}},[e._v(" "+e._s("textarea"===t.type?t.enValue:t.label)+": ")])})),0),r("div",e._l(e.reportRecordData.report_format[t],(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"item2.value"}],key:a},[e._v(" "+e._s(t.value)+" ")])})),0)]):r("b-col",{staticClass:"p-1 mt-1",staticStyle:{"background-color":"#ebf4f9","border-radius":"10px",border:"2px solid #edf0f4"},attrs:{cols:"12",lg:"6"}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticClass:"mb-1"},e._l(e.reportRecordData.report_format[t],(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"item2.value"}],key:a,staticStyle:{"text-align":"right","margin-right":"10px"}},[e._v(" "+e._s("textarea"===t.type?t.enValue:t.label)+": ")])})),0),r("div",e._l(e.reportRecordData.report_format[t],(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"item2.value"}],key:a},e._l(5,(function(e,a){return r("i",{key:a,staticClass:"el-icon-star-on",staticStyle:{"font-size":"18px"},style:{color:a+1<t.value||a+1===t.value?"rgb(247, 186, 42)":"#ccc"}})})),0)})),0)])])],1)})),1)],1)],1)])],1)},o=[],s=r("c7eb"),c=r("1da1"),i=r("ade3"),l=(r("b64b"),r("ac1f"),r("5319"),r("11de")),n=r("8226"),d=r("4797"),p=r("2924"),u=r("3b99"),_=r("1947"),m=r("a15b7"),b=r("b28b"),f=r("6190"),h=r("f902"),v=r("205f"),y=r("5fda"),x=r("e98b"),S=r("aa59"),k=r("3135"),g=r("d247"),R=r("d6e4"),w=r("c3e6"),B=r("c43f"),C=r("29a1"),D=r("26d2"),$={components:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({BForm:l["a"],BFormGroup:n["a"],BFormInput:d["a"],BFormRadioGroup:p["a"],BFormCheckboxGroup:u["a"],BButton:_["a"],BRow:m["a"],BCol:b["a"],BTab:f["a"],BTabs:h["a"],BCard:v["a"],BAlert:y["a"],BBadge:x["a"],BLink:S["a"],BListGroup:k["a"],BListGroupItem:g["a"],BCardText:R["a"]},"BFormGroup",n["a"]),"BFormCheckbox",w["a"]),"BFormFile",B["a"]),"BTable",C["a"]),"BPagination",D["a"]),data:function(){return{reportRecordData:{},teacherScore:null,teacherRemark:null,checked:!1,editStatus:!1}},created:function(){this.getReadReportUserDetail(this.$route.query.report_id,this.$route.query.sno)},methods:{getReadReportUserDetail:function(e,t){var r=this;return Object(c["a"])(Object(s["a"])().mark((function a(){var o,c,i,l;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.postRequest("/read_report/read_report_user_detail/",{report_id:e,sno:t});case 2:o=a.sent,200===o.status?(c=o.data.data,c.report_format=JSON.parse(c.report_format),r.reportRecordData=c,r.reportRecordData.score&&r.reportRecordData.teacher_remark?(r.teacherScore=r.reportRecordData.score,r.teacherRemark=r.reportRecordData.teacher_remark):r.editStatus=!0):(i=o.errors.errors,l=r.alertMessage(i),r.messageShown(r.$t("error"),l,"error"));case 4:case"end":return a.stop()}}),a)})))()},confirmScore:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var r,a,o;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/read_report/teacher_comment_read_report/",{id:e.reportRecordData.id,report_id:e.$route.query.report_id,score:e.teacherScore,teacher_remark:e.teacherRemark});case 2:r=t.sent,200==r.status?(e.messageShown(e.$t("success"),e.$t("successfully_edit"),"success"),e.checked&&r.data.data.report_id&&r.data.data.sno?(e.teacherScore=null,e.teacherRemark=null,e.reportRecordData={},e.editStatus=!1,e.$router.replace({path:"read-report-score-review",query:{report_id:r.data.data.report_id,sno:r.data.data.sno}}),e.getReadReportUserDetail(r.data.data.report_id,r.data.data.sno)):e.$router.push({path:"read-report-score",query:{report_id:e.$route.query.report_id}})):(a=r.errors.errors,o=e.alertMessage(a),e.messageShown(e.$t("error"),o,"error"));case 4:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},j=$,O=(r("b9e3"),r("2877")),F=Object(O["a"])(j,a,o,!1,null,"eea7f546",null);t["default"]=F.exports},b9e3:function(e,t,r){"use strict";r("17ac")}}]);