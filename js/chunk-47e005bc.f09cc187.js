(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47e005bc"],{"2c65":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-row",[s("b-col",{attrs:{md:"12"}},[s("b-card",[s("b-row",[s("b-col",{attrs:{cols:"12",md:"6"}},[s("p",[t._v(t._s(t.$t("nav.opac.extended_reading_promotion")))])]),s("b-col",{staticStyle:{display:"flex"},attrs:{cols:"12",md:"6"}},[s("span",[t._v(t._s(t.$t("opac.extended_reading_promotion.View_by_grade_level"))+": ")]),s("v-select",{staticStyle:{"min-width":"100px",flex:"1","margin-left":"5px"},attrs:{dir:t.$store.state.appConfig.isRTL?"rtl":"ltr",options:t.classList,reduce:function(t){return t.id}},model:{value:t.search_class,callback:function(e){t.search_class=e},expression:"search_class"}})],1)],1),s("b-row",{staticStyle:{padding:"20px","align-items":"end"}},[s("b-col",{attrs:{md:"3"}},[s("p",{staticStyle:{margin:"0"}},[t._v("ACNO")]),s("b-form-input",{attrs:{placeholder:""},on:{blur:function(e){t.acno=t.acno.trim(),t.acno=t.acno.toUpperCase()},keyup:function(e){t.acno=0!=t.acno.trim().length?t.acno.replace(/[^0-9a-zA-Z._-]/g,""):""}},model:{value:t.acno,callback:function(e){t.acno=e},expression:"acno"}})],1),s("b-col",{attrs:{md:"3"}},[s("p",{staticStyle:{margin:"0"}},[t._v(t._s(t.$t("class")))]),s("v-select",{attrs:{dir:t.$store.state.appConfig.isRTL?"rtl":"ltr",options:t.classList,reduce:function(t){return t.id}},model:{value:t.class_name,callback:function(e){t.class_name=e},expression:"class_name"}})],1),s("b-col",{attrs:{md:"2"}},[s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{block:"",variant:"primary"},on:{click:t.addGoodBook}},[t._v(" "+t._s(t.$t("add"))+" ")])],1)],1),s("b-row",{staticStyle:{padding:"0 20px","overflow-x":"auto"}},t._l(t.booksList,(function(e,o){return s("b-col",{key:o,staticStyle:{display:"flex","border-bottom":"1px solid #ccc",padding:"10px","justify-content":"space-between","align-items":"center","min-width":"900px"},attrs:{md:"12"}},[s("div",{staticStyle:{display:"flex"}},[s("div",{staticStyle:{"margin-right":"20px"}},[e.book_photo?s("img",{staticStyle:{"margin-bottom":"10px","object-fit":"cover"},attrs:{width:"100",height:"150",src:e.book_photo,alt:""}}):s("div",{staticStyle:{width:"100px",position:"relative"}},[s("p",{staticClass:"content_3",staticStyle:{width:"55%","font-size":"12px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[t._v(" "+t._s(e.title)+" ")]),s("img",{staticStyle:{"max-width":"100%","max-height":"100%","object-fit":"cover",margin:"0 auto"},attrs:{src:a("66be"),alt:""}})])]),s("div",[s("p",{staticStyle:{margin:"0","font-weight":"bold"}},[t._v(" "+t._s(e.title)+" ")]),s("p",{staticStyle:{margin:"0"}},[t._v(t._s(t.$t("author"))+": "+t._s(e.author))]),s("p",{staticStyle:{margin:"0"}},[t._v(" "+t._s(t.$t("subject"))+": "+t._s(e.subject)+" ")]),s("p",{staticStyle:{margin:"0"}},[t._v(" "+t._s(t.$t("Keywords"))+": "+t._s(e.keyword)+" ")])])]),s("div",[s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"danger",size:"sm"},on:{click:function(a){return t.deleteGoodBook(e.id)}}},[t._v(" "+t._s(t.$t("Delete"))+" ")])],1)])})),1)],1)],1)],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),c=(a("d3b7"),a("159b"),a("6aac")),i=a("1eba"),l=a("0bd8"),u=a("2a2e"),d=a("6cf6"),p=a("0809"),m=a("a247"),b=a("2768"),_=a("29a1"),f=a("8361"),h=a("11de"),g=a("205f"),v=a("d247"),w=a("e8a3"),x=a("d6e4"),k=a("8226"),B=a("4797"),y=a("a15b7"),S=a("b28b"),$=a("1947"),j=a("c3e6"),O=a("e6c7"),C=a("4a7a"),G=a.n(C),T=a("e009"),L={components:{BModal:c["a"],vSelect:G.a,BTableSimple:i["a"],BThead:l["a"],BTr:u["a"],BTh:d["a"],BTd:p["a"],BTbody:m["a"],BTfoot:b["a"],BTable:_["a"],BFormSelect:f["a"],BForm:h["a"],BCard:g["a"],BListGroupItem:v["a"],BAvatar:w["a"],BCardText:x["a"],BFormGroup:k["a"],BFormInput:B["a"],BRow:y["a"],BCol:S["a"],BButton:$["a"],BFormCheckbox:j["a"]},data:function(){return{search_class:null,acno:null,class_name:null,booksList:[],classList:[]}},directives:{"b-modal":O["a"],Ripple:T["a"]},watch:{search_class:function(){this.getGoodBook()}},created:function(){this.getGlassList(),this.getGoodBook()},methods:{getGlassList:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s,o,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("/users/find_class_list/");case 2:a=e.sent,200==a.status?(s=[],a.data.data.forEach((function(t,e){s.push({id:t.class_name,label:t.class_name})})),t.classList=s):(o=a.errors.errors,r=t.alertMessage(o),t.messageShown(t.$t("error"),r,"error"));case 4:case"end":return e.stop()}}),e)})))()},getGoodBook:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s,o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postRequest("/book_extend_recommend/book_extend_recommend_list/",{class_name:t.search_class});case 2:a=e.sent,200==a.status?t.booksList=a.data.data:(s=a.errors.errors,o=t.alertMessage(s),t.messageShown(t.$t("error"),o,"error"));case 4:case"end":return e.stop()}}),e)})))()},addGoodBook:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s,o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postRequest("/book_extend_recommend/",{acno:t.acno,class_name:t.class_name});case 2:a=e.sent,200==a.status?(t.acno=null,t.class_name=null,t.getGoodBook(),t.messageShown(t.$t("success"),t.$t("Successfully_added"),"success")):(s=a.errors.errors,o=t.alertMessage(s),t.messageShown(t.$t("error"),o,"error"));case 4:case"end":return e.stop()}}),e)})))()},deleteGoodBook:function(t){var e=this;return Object(r["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$swal({title:"",text:"".concat(e.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(s){var o,r,c;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=5;break}return a.next=3,e.deleteRequest("/book_extend_recommend/".concat(t));case 3:o=a.sent,200==o.status?(e.getGoodBook(),e.messageShown(e.$t("success"),e.$t("successfully_delete"),"success")):(r=o.errors.errors,c=e.alertMessage(r),e.messageShown(e.$t("error"),c,"error"));case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},messageShown:function(t,e,a){this.$swal({title:t,html:e,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},R=L,F=a("2877"),M=Object(F["a"])(R,s,o,!1,null,null,null);e["default"]=M.exports},"66be":function(t,e,a){t.exports=a.p+"img/book.573a5436.png"}}]);