(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a91dd7c"],{3183:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Notice-add-new",{attrs:{"is-add-new-notice-sidebar-active":e.isAddNewNoticeSidebarActive},on:{"update:isAddNewNoticeSidebarActive":function(t){e.isAddNewNoticeSidebarActive=t},"update:is-add-new-notice-sidebar-active":function(t){e.isAddNewNoticeSidebarActive=t},clicked:e.one}}),a("b-row",[a("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"8"}},[a("b-form-group",[a("v-select",{attrs:{label:"Number of rows",options:e.pageOptions,clearable:!1},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{cols:"12",md:"4"}},[a("div",{staticClass:"d-flex align-items-center justify-content-end"},[a("b-form-input",{ref:"search",staticClass:"d-inline-block mr-1",attrs:{placeholder:"Search..."},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){e.isAddNewNoticeSidebarActive=!0}}},[a("span",{staticClass:"text-nowrap"},[e._v("Add Notice")])])],1)])],1),a("b-table",{ref:"selectableTable",staticClass:"mb-0",attrs:{selectable:"","select-mode":e.selectMode,items:e.items,fields:e.fields,responsive:"",striped:""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[a("b-dropdown",{attrs:{variant:"link","no-caret":"",right:e.$store.state.appConfig.isRTL},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}],null,!0)},[a("b-dropdown-item",{attrs:{to:{name:"apps-Member-view",params:{id:t.item.id}}}},[a("feather-icon",{attrs:{icon:"FileTextIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Details")])],1),a("b-dropdown-item",{attrs:{to:{name:"apps-Member-edit",params:{id:t.item.id}}}},[a("feather-icon",{attrs:{icon:"EditIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Edit")])],1),a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Delete")])],1)],1)]}},{key:"cell(status_number)",fn:function(t){return[a("b-badge",{attrs:{variant:e.status[1][t.value]}},[e._v(" "+e._s(e.status[0][t.value])+" ")])]}}])})],1)},i=[],r=a("c7eb"),o=a("1da1"),s=a("ade3"),c=(a("99af"),a("ac1f"),a("841c"),a("541c")),l=a("4a7a"),d=a.n(l),u=a("e009"),m=a("29a1"),p=a("e8a3"),b=a("e98b"),f=a("a15b7"),h=a("b28b"),g=a("8226"),v=a("8361"),S=a("26d2"),w=a("5e12"),_=a("4797"),k=a("ccc0"),y=a("3656"),B=a("1947"),C=a("6197"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-sidebar",{attrs:{id:"add-new-user-sidebar",visible:e.isAddNewNoticeSidebarActive,"bg-variant":"white","sidebar-class":"sidebar-lg",shadow:"",backdrop:"","no-header":"",right:""},on:{hidden:function(t){e.$emit("clicked",!1),e.$refs.simpleRules.reset(),e.userData=e.blankUserData},change:function(t){return e.$emit("one")}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hide;return[a("div",{staticClass:"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1"},[a("h5",{staticClass:"mb-0"},[e._v(" New Notice ")]),a("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"XIcon",size:"16"},on:{click:n}})],1),a("validation-observer",{ref:"simpleRules"},[a("b-form",{staticClass:"p-2",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(e.onSubmit)},reset:function(t){return t.preventDefault(),e.resetForm.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"Start Date",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("start_date"),"label-for":"Start Date",state:e.getValidationState(t)}},[a("flat-pickr",{staticClass:"form-control",attrs:{config:{dateFormat:"Y-m-d"}},model:{value:e.noticeData.start_date,callback:function(t){e.$set(e.noticeData,"start_date",t)},expression:"noticeData.start_date"}}),a("b-form-invalid-feedback",{attrs:{state:e.getValidationState(t)}},[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)}),a("validation-provider",{attrs:{name:"End Date",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("end_date"),"label-for":"End Date",state:e.getValidationState(t)}},[a("flat-pickr",{staticClass:"form-control",attrs:{config:{dateFormat:"Y-m-d"}},model:{value:e.noticeData.end_date,callback:function(t){e.$set(e.noticeData,"end_date",t)},expression:"noticeData.end_date"}}),a("b-form-invalid-feedback",{attrs:{state:e.getValidationState(t)}},[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)}),a("validation-provider",{attrs:{name:"invoice_code",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("title"),"label-for":"Title"}},[a("b-form-input",{staticClass:"form-control",attrs:{id:"title",placeholder:e.$t("title")},model:{value:e.noticeData.title,callback:function(t){e.$set(e.noticeData,"title",t)},expression:"noticeData.title"}}),a("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)}),a("validation-provider",{attrs:{name:"Status",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("type"),"label-for":"status",state:e.getValidationState(t)}},[a("v-select",{attrs:{options:e.typeOptions,reduce:function(e){return e.value},"input-id":"status"},model:{value:e.noticeData.notice_type,callback:function(t){e.$set(e.noticeData,"notice_type",t)},expression:"noticeData.notice_type"}}),a("b-form-invalid-feedback",{attrs:{state:e.getValidationState(t)}},[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)}),a("validation-provider",{attrs:{name:"content"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("content"),"label-for":e.$t("content")}},[a("b-form-textarea",{attrs:{id:"Note",trim:""},model:{value:e.noticeData.content,callback:function(t){e.$set(e.noticeData,"content",t)},expression:"noticeData.content"}}),a("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)}),a("b-form-group",{attrs:{label:"Attach File(s)","label-for":"Attach"}},[a("b-form-file",{attrs:{placeholder:"Choose a PDF or drop it here...",accept:".pdf","drop-placeholder":"Drop file here...",id:"attachment"},model:{value:e.noticeData.attachment,callback:function(t){e.$set(e.noticeData,"attachment",t)},expression:"noticeData.attachment"}})],1),a("b-form-group",{attrs:{label:e.$t("image"),"label-for":e.$t("image")}},[a("b-form-file",{attrs:{placeholder:"Choose a JPG or drop it here...",accept:"image/jpeg, image/jpg","drop-placeholder":"Drop image here...",id:"image"},model:{value:e.noticeData.image,callback:function(t){e.$set(e.noticeData,"image",t)},expression:"noticeData.image"}})],1),a("div",{staticClass:"d-flex mt-2"},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2",attrs:{variant:"primary",type:"button"},on:{click:function(t){return e.submit_now()}}},[e._v(" Add ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{type:"button",variant:"outline-secondary"},on:{click:n}},[e._v(" Cancel ")])],1)],1)],1)]}}])})},A=[],N=(a("e9c4"),a("b64b"),a("d3b7"),a("9c7d")),O=a("c43f"),x=a("baa4"),T=a("11de"),P=a("3010"),$=a("7bb1"),R=a("c38f"),j=a.n(R),M=a("ed09"),F=a("8f03"),E=a("2083"),I=a.n(E),G=a("47bc"),q=a("223c"),V=a("4d42"),L=a("c1df"),z=a.n(L),J=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},U={components:{ToastificationContent:q["a"],BFormTextarea:N["a"],BFormFile:O["a"],Cleave:I.a,flatPickr:j.a,BSidebar:x["a"],BForm:T["a"],BFormGroup:g["a"],BFormInput:_["a"],BFormInvalidFeedback:P["a"],BButton:B["a"],vSelect:d.a,moment:z.a,ValidationProvider:$["b"],ValidationObserver:$["a"]},directives:{Ripple:u["a"]},created:function(){z()().format("YYYY-MM-DD")},model:{prop:"isAddNewNoticeSidebarActive",event:"update:is-add-new-notice-sidebar-active"},props:{isAddNewNoticeSidebarActive:{type:Boolean,required:!0}},data:function(){return{options:{creditCard:{creditCard:!0},date:{date:!0,delimiter:"-",datePattern:["Y","m","d"]},phone:{phone:!0,phoneRegionCode:"US"},time:{time:!0,timePattern:["h","m","s"]},number:{prefix:"$ ",numeralPositiveOnly:!0,numeralDecimalScale:2,numeralIntegerScale:6,rawValueTrimPrefix:!0,noImmediatePrefix:!0,numeral:!0,numeralThousandsGroupStyle:"thousand"},block:{blocks:[30],uppercase:!0},delimiter:{delimiter:"·",blocks:[3,3,3],uppercase:!0},customDelimiter:{delimiters:[".",".","-"],blocks:[3,3,3,2],uppercase:!0},prefix:{prefix:"+63",blocks:[3,3,3,4],uppercase:!0}},required:F["l"],alphaNum:F["c"],email:F["g"],statusOptions:["處理中","已送出","完成"],typeOptions:[{label:this.$t("circular"),value:1},{label:this.$t("news"),value:2}],countries:V["a"],memberOptions:[],noticeData:{title:null,content:null,attachment:null,image:null,notice_type:null,start_date:null,end_date:null},blanknoticeData:{invoice_date:"",invoice_code:"",member_id:"",amount:"0.00",sent_at:"",staff_name:"",status:"處理中",remarks:"",file:null}}},methods:{getFiles:function(e){console.log(e)},fetchOptions:function(e,t){var a=this;setTimeout((function(){a.$http.get("https://www.cloudfit.pro/api/v1/pro/search/member/?string="+e).then((function(e){a.memberOptions=e.data}))}),200)},submit_now:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n,i,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.querySelector("#image").files[0],t.next=3,J(a).catch((function(e){return Error(e)}));case 3:if(n=t.sent,e.noticeData.image=n,!(n instanceof Error)){t.next=8;break}return console.log("Error: ",result.message),t.abrupt("return");case 8:return a=document.querySelector("#attachment").files[0],t.next=11,J(a).catch((function(e){return Error(e)}));case 11:if(n=t.sent,e.noticeData.attachment=n,!(n instanceof Error)){t.next=16;break}return console.log("Error: ",result.message),t.abrupt("return");case 16:return t.next=18,e.postRequest("/notices/",e.noticeData,"mobile");case 18:i=t.sent,200==i.status?(o=i.data.data,student.attended_at=o.attended_at,console.log(o)):e.errorMessageShown(i.errors);case 20:case"end":return t.stop()}}),t)})))()}},setup:function(e,t){t.emit;var a={display_name:"",username:"",password:"",role:"admin",status:"active"},n=Object(M["ref"])(JSON.parse(JSON.stringify(a))),i=function(){n.value=JSON.parse(JSON.stringify(a))},r=function(){},o=Object(G["a"])(i),s=o.refFormObserver,c=o.getValidationState;return{userData:n,onSubmit:r,refFormObserver:s,getValidationState:c}}},K=U,Y=(a("e474"),a("2877")),H=Object(Y["a"])(K,D,A,!1,null,null,null),Z=H.exports,Q={components:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({NoticeAddNew:Z,BTable:m["a"],BAvatar:p["a"],BBadge:b["a"],BRow:f["a"],BCol:h["a"],BFormGroup:g["a"],BFormSelect:v["a"],BPagination:S["a"],BInputGroup:w["a"],BFormInput:_["a"],BInputGroupAppend:k["a"],BInputGroupPrepend:y["a"],BButton:B["a"]},"BPagination",S["a"]),"BCardCode",c["a"]),"BTable",m["a"]),"BButton",B["a"]),"BFormGroup",g["a"]),"BAvatar",p["a"]),"BCardBody",C["a"]),"BBadge",b["a"]),"vSelect",d.a),directives:{Ripple:u["a"]},data:function(){return{test_string:null,planOptions:[{label:"Basic",value:"basic"},{label:"Company",value:"company"},{label:"Enterprise",value:"enterprise"},{label:"Team",value:"team"}],statusOptions:[{label:"Active",value:"active"},{label:"Disabled",value:"disabled"}],centerOptions:[],questionnaireOptions:[],genderOptions:[],reasonOptions:[],isAddNewNoticeSidebarActive:!1,searchString:null,perPage:10,startRow:1,endRow:10,pageOptions:[10,15,20],totalRows:1,currentPage:1,fields:[{key:"code",label:"Member Code"},{key:"name",label:"Name"},{key:"date_of_birth",label:"Birth"},{key:"center.chinese_name",label:"CENTER"}],items:[],status:[{1:"Active",2:"Disabled",3:"Rejected",4:"Resigned",5:"Applied"},{1:"light-success",2:"light-danger",3:"light-danger",4:"light-warning",5:"light-info"}],selectMode:"single",selected:[]}},watch:{currentPage:{handler:function(e,t){this.get_data()}},searchString:{handler:function(e,t){this.handleSearch()}},perPage:{handler:function(e,t){e<9&&(this.perPage=10),this.handleSearch()}}},created:function(){this.get_questionnaire(),this.get_data()},mounted:function(){this.$refs.search.$el.focus()},methods:{test1:function(){this.$axiosGet2("https://www.cloudfit.pro/api/v1/pro/members/?perpage=".concat(this.perPage,"&page=").concat(this.currentPage,"&search=").concat(this.searchString)).then((function(e){console.log(e)}))},one:function(){this.isAddNewNoticeSidebarActive=!1,this.get_data()},get_data:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/students/search/",{key:e.searchString});case 2:a=t.sent,e.items=a.data.data,console.log(e.items);case 5:case"end":return t.stop()}}),t)})))()},get_center_data:function(){var e=this;this.$http.get("https://www.cloudfit.pro/api/v1/pro/centers/").then((function(t){e.centerOptions=t.data.centers}))},get_questionnaire:function(){var e=this;this.$http.get("http://35.215.167.199:8001/static/questionnaire.json").then((function(t){e.questionnaireOptions=t.data.channel,e.reasonOptions=t.data.reason,e.genderOptions=t.data.gender}))},handleChangePage:function(){},onRowSelected:function(e){this.selected=e,console.log(e),this.$router.push("/apps/member/edit/".concat(e[0].id,"/"))},selectAllRows:function(){this.$refs.selectableTable.selectAllRows()},clearSelected:function(){this.$refs.selectableTable.clearSelected()},selectThirdRow:function(){this.$refs.selectableTable.selectRow(2)},unselectThirdRow:function(){this.$refs.selectableTable.unselectRow(2)},handleSearch:function(){this.searchTimeOut()},searchTimeOut:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.currentPage=1,e.get_data()}),500)}}},X=Q,W=(a("6f2c"),Object(Y["a"])(X,n,i,!1,null,null,null));t["default"]=W.exports},"4d42":function(e,t,a){"use strict";t["a"]=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Côte d'Ivoire","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent & the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","USA","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]},"6f2c":function(e,t,a){"use strict";a("f7c1")},bcb7:function(e,t,a){},e474:function(e,t,a){"use strict";a("bcb7")},f7c1:function(e,t,a){}}]);