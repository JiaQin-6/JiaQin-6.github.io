(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bed3d506"],{"1f00":function(e,a,t){},"4d42":function(e,a,t){"use strict";a["a"]=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Côte d'Ivoire","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent & the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","USA","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]},"574f":function(e,a,t){},"9c3c":function(e,a,t){"use strict";t("1f00")},b0a0:function(e,a,t){"use strict";t("574f")},ea55:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("Member-add-new",{attrs:{"is-add-new-member-sidebar-active":e.isAddNewMemberSidebarActive,"plan-options":e.planOptions,"status-options":e.statusOptions,"gender-options":e.genderOptions,"center-options":e.centerOptions,"questionnaire-options":e.questionnaireOptions,"reason-options":e.reasonOptions},on:{"update:isAddNewMemberSidebarActive":function(a){e.isAddNewMemberSidebarActive=a},"update:is-add-new-member-sidebar-active":function(a){e.isAddNewMemberSidebarActive=a},clicked:e.one}}),t("b-row",[t("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"8"}},[t("b-form-group",[t("v-select",{attrs:{label:"Number of rows",options:e.pageOptions,clearable:!1},model:{value:e.perPage,callback:function(a){e.perPage=a},expression:"perPage"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"4"}},[t("div",{staticClass:"d-flex align-items-center justify-content-end"},[t("b-form-input",{ref:"search",staticClass:"d-inline-block mr-1",attrs:{placeholder:"Search..."},model:{value:e.searchString,callback:function(a){e.searchString=a},expression:"searchString"}}),t("b-button",{attrs:{variant:"primary"},on:{click:function(a){e.isAddNewMemberSidebarActive=!0}}},[t("span",{staticClass:"text-nowrap"},[e._v("Add User")])])],1)])],1),t("b-table",{ref:"selectableTable",staticClass:"mb-0",attrs:{selectable:"","select-mode":e.selectMode,items:e.items,fields:e.fields,responsive:"",striped:""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(actions)",fn:function(a){return[t("b-dropdown",{attrs:{variant:"link","no-caret":"",right:e.$store.state.appConfig.isRTL},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}],null,!0)},[t("b-dropdown-item",{attrs:{to:{name:"apps-Member-view",params:{id:a.item.id}}}},[t("feather-icon",{attrs:{icon:"FileTextIcon"}}),t("span",{staticClass:"align-middle ml-50"},[e._v("Details")])],1),t("b-dropdown-item",{attrs:{to:{name:"apps-Member-edit",params:{id:a.item.id}}}},[t("feather-icon",{attrs:{icon:"EditIcon"}}),t("span",{staticClass:"align-middle ml-50"},[e._v("Edit")])],1),t("b-dropdown-item",[t("feather-icon",{attrs:{icon:"TrashIcon"}}),t("span",{staticClass:"align-middle ml-50"},[e._v("Delete")])],1)],1)]}},{key:"cell(status_number)",fn:function(a){return[t("b-badge",{attrs:{variant:e.status[1][a.value]}},[e._v(" "+e._s(e.status[0][a.value])+" ")])]}}])})],1)},i=[],r=t("c7eb"),s=t("1da1"),o=t("ade3"),l=(t("99af"),t("ac1f"),t("841c"),t("541c")),c=t("4a7a"),u=t.n(c),d=t("e009"),b=t("29a1"),p=t("e8a3"),m=t("e98b"),f=t("a15b7"),h=t("b28b"),g=t("8226"),v=t("8361"),S=t("26d2"),w=t("5e12"),_=t("4797"),y=t("ccc0"),k=t("3656"),B=t("1947"),O=t("6197"),A=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-sidebar",{attrs:{id:"add-new-user-sidebar",visible:e.isAddNewMemberSidebarActive,"bg-variant":"white","sidebar-class":"sidebar-lg",shadow:"",backdrop:"","no-header":"",right:""},on:{hidden:function(a){e.$emit("clicked",!1),e.$refs.simpleRules.reset(),e.userData=e.blankUserData},change:function(a){return e.$emit("one")}},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.hide;return[t("div",{staticClass:"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1"},[t("h5",{staticClass:"mb-0"},[e._v(" 新增學生 ")]),t("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"XIcon",size:"16"},on:{click:n}})],1),t("validation-observer",{ref:"simpleRules"},[t("b-form",{staticClass:"p-2",on:{submit:function(a){return a.preventDefault(),e.handleSubmit(e.onSubmit)},reset:function(a){return a.preventDefault(),e.resetForm.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"chinese name"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"中文姓名","label-for":"chinese_name"}},[t("b-form-input",{attrs:{id:"chinese_name",state:e.getValidationState(a),trim:""},model:{value:e.userData.chinese_name,callback:function(a){e.$set(e.userData,"chinese_name",a)},expression:"userData.chinese_name"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"英文姓名","label-for":"name"}},[t("b-form-input",{attrs:{id:"name",state:e.getValidationState(a),trim:""},model:{value:e.userData.name,callback:function(a){e.$set(e.userData,"name",a)},expression:"userData.name"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"mobile"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"手提電話","label-for":"mobile"}},[t("b-form-input",{attrs:{id:"mobile",state:e.getValidationState(a),trim:""},model:{value:e.userData.mobile,callback:function(a){e.$set(e.userData,"mobile",a)},expression:"userData.mobile"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"date_of_birth",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"出生日期","label-for":"date_of_birth",state:e.getValidationState(a)}},[t("flat-pickr",{staticClass:"form-control",attrs:{config:{dateFormat:"Y-m-d"}},model:{value:e.userData.date_of_birth,callback:function(a){e.$set(e.userData,"date_of_birth",a)},expression:"userData.date_of_birth"}}),t("b-form-invalid-feedback",{attrs:{state:e.getValidationState(a)}},[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"gender",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"性別","label-for":"gender2",state:e.getValidationState(a)}},[t("v-select",{attrs:{options:e.genderOptions,reduce:function(e){return e.value},clearable:!1,"input-id":"gender"},model:{value:e.userData.gender,callback:function(a){e.$set(e.userData,"gender",a)},expression:"userData.gender"}}),t("b-form-invalid-feedback",{attrs:{state:e.getValidationState(a)}},[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"channels"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"甚麼途徑認識本校","label-for":"channels",state:e.getValidationState(a)}},[t("v-select",{attrs:{options:e.questionnaireOptions,reduce:function(a){return e.channel.value},multiple:"",clearable:!1,"input-id":"channels"},model:{value:e.userData.channels,callback:function(a){e.$set(e.userData,"channels",a)},expression:"userData.channels"}}),t("b-form-invalid-feedback",{attrs:{state:e.getValidationState(a)}},[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"reasons"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:"選擇本校的原因","label-for":"reasons",state:e.getValidationState(a)}},[t("v-select",{attrs:{options:e.reasonOptions,reduce:function(a){return e.reason.value},multiple:"",clearable:!1,"input-id":"reasons"},model:{value:e.userData.reasons,callback:function(a){e.$set(e.userData,"reasons",a)},expression:"userData.reasons"}}),t("b-form-invalid-feedback",{attrs:{state:e.getValidationState(a)}},[e._v(" "+e._s(a.errors[0])+" ")])],1)]}}],null,!0)}),t("div",{staticClass:"d-flex mt-2"},[t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2",attrs:{variant:"primary",type:"button"},on:{click:function(a){return e.submit_now()}}},[e._v(" 提交 ")]),t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{type:"button",variant:"outline-secondary"},on:{click:n}},[e._v(" 取消 ")])],1)],1)],1)]}}])})},C=[],M=(t("e9c4"),t("b64b"),t("baa4")),D=t("11de"),N=t("3010"),T=t("7bb1"),R=t("c38f"),P=t.n(R),x=t("ed09"),j=t("8f03"),$=t("47bc"),I=t("223c"),q=t("4d42"),G={components:{ToastificationContent:I["a"],flatPickr:P.a,BSidebar:M["a"],BForm:D["a"],BFormGroup:g["a"],BFormInput:_["a"],BFormInvalidFeedback:N["a"],BButton:B["a"],vSelect:u.a,ValidationProvider:T["b"],ValidationObserver:T["a"]},directives:{Ripple:d["a"]},model:{prop:"isAddNewMemberSidebarActive",event:"update:is-add-new-Member-sidebar-active"},props:{questionnaireOptions:{type:Array},genderOptions:{type:Array},reasonOptions:{type:Array},isAddNewMemberSidebarActive:{type:Boolean,required:!0},planOptions:{type:Array,required:!0},statusOptions:{type:Array,required:!0},centerOptions:{type:Array,required:!0}},data:function(){return{required:j["l"],alphaNum:j["c"],email:j["g"],countries:q["a"],blankUserData:{}}},methods:{resetForm:function(){},submit_now:function(){var e=this;this.$refs.simpleRules.validate().then((function(a){if(a){e.userData.center=JSON.parse(localStorage.getItem("default_center")).id;e.postRequest("/students/",e.userData)}}))}},setup:function(e,a){a.emit;var t={},n=Object(x["ref"])(JSON.parse(JSON.stringify(t))),i=function(){n.value=JSON.parse(JSON.stringify(t))},r=function(){},s=Object($["a"])(i),o=s.refFormObserver,l=s.getValidationState;return{userData:n,onSubmit:r,refFormObserver:o,getValidationState:l}}},V=G,F=(t("9c3c"),t("2877")),E=Object(F["a"])(V,A,C,!1,null,null,null),z=E.exports,L={components:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({MemberAddNew:z,BTable:b["a"],BAvatar:p["a"],BBadge:m["a"],BRow:f["a"],BCol:h["a"],BFormGroup:g["a"],BFormSelect:v["a"],BPagination:S["a"],BInputGroup:w["a"],BFormInput:_["a"],BInputGroupAppend:y["a"],BInputGroupPrepend:k["a"],BButton:B["a"]},"BPagination",S["a"]),"BCardCode",l["a"]),"BTable",b["a"]),"BButton",B["a"]),"BFormGroup",g["a"]),"BAvatar",p["a"]),"BCardBody",O["a"]),"BBadge",m["a"]),"vSelect",u.a),directives:{Ripple:d["a"]},data:function(){return{test_string:null,planOptions:[{label:"Basic",value:"basic"},{label:"Company",value:"company"},{label:"Enterprise",value:"enterprise"},{label:"Team",value:"team"}],statusOptions:[{label:"Active",value:"active"},{label:"Disabled",value:"disabled"}],centerOptions:[],questionnaireOptions:[],genderOptions:[],reasonOptions:[],isAddNewMemberSidebarActive:!1,searchString:null,perPage:10,startRow:1,endRow:10,pageOptions:[10,15,20],totalRows:1,currentPage:1,fields:[{key:"code",label:"Member Code"},{key:"name",label:"Name"},{key:"date_of_birth",label:"Birth"},{key:"center.chinese_name",label:"CENTER"}],items:[],status:[{1:"Active",2:"Disabled",3:"Rejected",4:"Resigned",5:"Applied"},{1:"light-success",2:"light-danger",3:"light-danger",4:"light-warning",5:"light-info"}],selectMode:"single",selected:[]}},watch:{currentPage:{handler:function(e,a){this.get_data()}},searchString:{handler:function(e,a){this.handleSearch()}},perPage:{handler:function(e,a){e<9&&(this.perPage=10),this.handleSearch()}}},created:function(){this.get_questionnaire(),this.get_data()},mounted:function(){this.$refs.search.$el.focus()},methods:{test1:function(){this.$axiosGet2("https://www.cloudfit.pro/api/v1/pro/members/?perpage=".concat(this.perPage,"&page=").concat(this.currentPage,"&search=").concat(this.searchString)).then((function(e){console.log(e)}))},one:function(){this.isAddNewMemberSidebarActive=!1,this.get_data()},get_data:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function a(){var t;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.postRequest("/students/search/",{key:e.searchString});case 2:t=a.sent,e.items=t.data.data,console.log(e.items);case 5:case"end":return a.stop()}}),a)})))()},get_center_data:function(){var e=this;this.$http.get("https://www.cloudfit.pro/api/v1/pro/centers/").then((function(a){e.centerOptions=a.data.centers}))},get_questionnaire:function(){var e=this;this.$http.get("http://35.215.167.199:8001/static/questionnaire.json").then((function(a){e.questionnaireOptions=a.data.channel,e.reasonOptions=a.data.reason,e.genderOptions=a.data.gender}))},handleChangePage:function(){},onRowSelected:function(e){this.selected=e,console.log(e),this.$router.push("/apps/member/edit/".concat(e[0].id,"/"))},selectAllRows:function(){this.$refs.selectableTable.selectAllRows()},clearSelected:function(){this.$refs.selectableTable.clearSelected()},selectThirdRow:function(){this.$refs.selectableTable.selectRow(2)},unselectThirdRow:function(){this.$refs.selectableTable.unselectRow(2)},handleSearch:function(){this.searchTimeOut()},searchTimeOut:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.currentPage=1,e.get_data()}),500)}}},J=L,U=(t("b0a0"),Object(F["a"])(J,n,i,!1,null,null,null));a["default"]=U.exports}}]);