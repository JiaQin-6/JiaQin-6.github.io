(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3577"],{"0287":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-card",[a("p",[t._v(t._s(t.$t("nav.opac.custom_link_management")))]),a("b-row",[a("b-col",{attrs:{md:"2"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"primary",size:"sm"},on:{click:function(){t.menusList.map((function(e){t.$set(e,"select",!0)}))}}},[t._v(" "+t._s(t.$t("Select_All"))+" ")])],1),a("b-col",{attrs:{md:"2"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"primary",size:"sm"},on:{click:function(){t.menusList.map((function(e){t.$set(e,"select",!1)}))}}},[t._v(" "+t._s(t.$t("deselect_all"))+" ")])],1),a("b-col",{attrs:{md:"2"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"success",size:"sm"},on:{click:function(){t.$refs["my-modal"].show()}}},[t._v(" "+t._s(t.$t("add"))+" ")])],1),a("b-col",{attrs:{md:"2"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"danger",size:"sm"},on:{click:t.batchDelete}},[t._v(" "+t._s(t.$t("batch_deletion"))+" ")])],1)],1),a("b-table",{attrs:{items:t.menusList,responsive:"",fields:t.tableColumns,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":t.isSortDirDesc},on:{"update:sortDesc":function(e){t.isSortDirDesc=e},"update:sort-desc":function(e){t.isSortDirDesc=e}},scopedSlots:t._u([{key:"cell(select)",fn:function(e){return[a("b-form-checkbox",{attrs:{value:!0},model:{value:e.item.select,callback:function(a){t.$set(e.item,"select",a)},expression:"data.item.select"}})]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.deleteMenus(e.item.id)}}},[t._v(" X ")])]}},{key:"cell(title_zh)",fn:function(e){return[a("b-form-input",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.item.title_zh,callback:function(a){t.$set(e.item,"title_zh",a)},expression:"data.item.title_zh"}})]}},{key:"cell(title_en)",fn:function(e){return[a("b-form-input",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.item.title_en,callback:function(a){t.$set(e.item,"title_en",a)},expression:"data.item.title_en"}})]}},{key:"cell(url)",fn:function(e){return[a("b-form-input",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.item.url,callback:function(a){t.$set(e.item,"url",a)},expression:"data.item.url"}})]}},{key:"cell(flag)",fn:function(e){return[a("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:e.item.flag,name:"check-button",switch:""},model:{value:e.item.flag,callback:function(a){t.$set(e.item,"flag",a)},expression:"data.item.flag"}})]}},{key:"cell(save)",fn:function(e){return[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{block:"",variant:"success",size:"sm"},on:{click:function(a){return t.editMenus(e.item)}}},[t._v(" "+t._s(t.$t("save"))+" ")])]}}])})],1)],1)],1),a("b-modal",{ref:"my-modal",attrs:{id:"modal-xl","no-close-on-backdrop":"","hide-footer":"","hide-header-close":t.isTrue}},[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"mb-2"},[a("p",[t._v(t._s(t.$t("opac.custom_link_management.Add_custom_connection")))])]),a("b-form-group",{attrs:{label:""}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("chinese_title"))+" ")]),a("b-form-input",{staticClass:"mb-1",attrs:{type:"text",size:"sm"},model:{value:t.formdata.title_zh,callback:function(e){t.$set(t.formdata,"title_zh",e)},expression:"formdata.title_zh"}}),a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("english_title"))+" ")]),a("b-form-input",{staticClass:"mb-1",attrs:{type:"text",size:"sm"},model:{value:t.formdata.title_en,callback:function(e){t.$set(t.formdata,"title_en",e)},expression:"formdata.title_en"}}),a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("link"))+" ")]),a("b-form-input",{attrs:{type:"text",size:"sm"},model:{value:t.formdata.url,callback:function(e){t.$set(t.formdata,"url",e)},expression:"formdata.url"}})],1)],1),a("b-col",{staticClass:"text-right",attrs:{md:"12"}},[a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(){t.$refs["my-modal"].hide(),t.formdata.title_en=null,t.formdata.title_zh=null,t.formdata.url=null}}},[t._v(t._s(t.$t("cancel")))]),a("b-button",{staticClass:"ml-2 px-5",attrs:{variant:"primary",size:"sm"},on:{click:t.addMenus}},[t._v(t._s(t.$t("Submit")))])],1)],1)],1)},n=[],r=a("c7eb"),i=a("1da1"),c=(a("d3b7"),a("159b"),a("6aac")),l=a("1eba"),o=a("0bd8"),u=a("2a2e"),m=a("6cf6"),b=a("0809"),d=a("a247"),f=a("2768"),p=a("29a1"),h=a("8361"),_=a("11de"),v=a("205f"),g=a("d247"),w=a("e8a3"),k=a("d6e4"),$=a("8226"),x=a("4797"),y=a("a15b7"),B=a("b28b"),S=a("1947"),z=a("c3e6"),j=a("e6c7"),O=a("4a7a"),C=a.n(O),M=a("e009"),T={components:{BModal:c["a"],vSelect:C.a,BTableSimple:l["a"],BThead:o["a"],BTr:u["a"],BTh:m["a"],BTd:b["a"],BTbody:d["a"],BTfoot:f["a"],BTable:p["a"],BFormSelect:h["a"],BForm:_["a"],BCard:v["a"],BListGroupItem:g["a"],BAvatar:w["a"],BCardText:k["a"],BFormGroup:$["a"],BFormInput:x["a"],BRow:y["a"],BCol:B["a"],BButton:S["a"],BFormCheckbox:z["a"]},data:function(){return{menusList:[],isTrue:!0,isSortDirDesc:!1,formdata:{title_zh:null,title_en:null,url:null},tableColumns:[{key:"select",label:this.$t("Select")},{key:"delete",label:this.$t("Delete")},{key:"title_zh",label:this.$t("chinese_title"),sortable:!0},{key:"title_en",label:this.$t("english_title"),sortable:!0},{key:"url",label:this.$t("link"),sortable:!0},{key:"flag",label:this.$t("publish")+"?"},{key:"save",label:""}]}},directives:{"b-modal":j["a"],Ripple:M["a"]},methods:{getMenus:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,s,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("/menus/");case 2:a=e.sent,200==a.status?(t.menusList=a.data.data,t.menusList.forEach((function(t){"Y"===t.flag?t.flag=!0:t.flag=!1}))):(s=a.errors.errors,n=t.alertMessage(s),t.messageShown(t.$t("error"),n,"error"));case 4:case"end":return e.stop()}}),e)})))()},addMenus:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,s,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postRequest("/menus/",{title_en:t.formdata.title_en,title_zh:t.formdata.title_zh,url:t.formdata.url,flag:"Y"});case 2:a=e.sent,200==a.status?(t.$refs["my-modal"].hide(),t.getMenus(),t.messageShown(t.$t("success"),t.$t("Successfully_added"),"success")):(s=a.errors.errors,n=t.alertMessage(s),t.messageShown(t.$t("error"),n,"error"));case 4:case"end":return e.stop()}}),e)})))()},editMenus:function(t){var e=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var s,n,i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,e.putRequest("/menus/".concat(t.id,"/"),{title_en:t.title_en,title_zh:t.title_zh,url:t.url,flag:t.flag?"Y":"N"});case 3:s=a.sent,200==s.status?(e.getMenus(),e.messageShown(e.$t("success"),e.$t("successfully_edit"),"success")):(n=s.errors.errors,i=e.alertMessage(n),e.messageShown(e.$t("error"),i,"error"));case 5:case"end":return a.stop()}}),a)})))()},deleteMenus:function(t){var e=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$swal({title:"",text:"".concat(e.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var a=Object(i["a"])(Object(r["a"])().mark((function a(s){var n,i,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=5;break}return a.next=3,e.deleteRequest("/menus/".concat(t));case 3:n=a.sent,200==n.status?(e.getMenus(),e.messageShown(e.$t("success"),e.$t("successfully_delete"),"success")):(i=n.errors.errors,c=e.alertMessage(i),e.messageShown(e.$t("error"),c,"error"));case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},batchDelete:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$swal({title:"",text:"".concat(t.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("confirm"),cancelButtonText:t.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(a){var s,n,i,c;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=7;break}return s=[],t.menusList.forEach((function(t){t.select&&s.push(t.id)})),e.next=5,t.deleteRequest("/menus/",{ids:s});case 5:n=e.sent,200==n.status?(t.getMenus(),t.messageShown(t.$t("success"),t.$t("successfully_delete"),"success")):(i=n.errors.errors,c=t.alertMessage(i),t.messageShown(t.$t("error"),c,"error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},messageShown:function(t,e,a){this.$swal({title:t,html:e,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}},created:function(){this.getMenus()}},D=T,L=a("2877"),N=Object(L["a"])(D,s,n,!1,null,null,null);e["default"]=N.exports}}]);