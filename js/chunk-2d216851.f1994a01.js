(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216851"],{c38c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{lg:"12"}},[r("b-card",[r("b-row",[r("b-col",{attrs:{md:"3"}},[r("p",[e._v(e._s(e.$t("opac.integral_rule.OPAC_Integral_Rule")))]),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"deepblue",size:"sm"},on:{click:function(t){return e.editIntegralRule()}}},[r("feather-icon",{attrs:{icon:"CheckIcon",size:"14"}}),e._v(" "+e._s(e.$t("change"))+" ")],1)],1)],1),r("b-row",[r("b-col",{staticStyle:{border:"1px solid #ccc",margin:"0 16px",padding:"0"},attrs:{cols:"12",md:"6"}},[r("p",{staticStyle:{margin:"0",padding:"5px","border-bottom":"1px solid #ccc","background-color":"#deebf7"}},[e._v(" "+e._s(e.$t("opac.integral_rule.Bonus_points"))+" ")]),r("ul",{staticStyle:{margin:"0",padding:"0"}},e._l(e.group_lists,(function(t,a){return r("li",{key:a,staticStyle:{display:"flex","align-items":"center","border-bottom":"1px solid #ccc"}},[r("div",{staticStyle:{padding:"0 5px",flex:"1",height:"100%"}},[r("span",[e._v(e._s(t.type_name))])]),r("div",{staticStyle:{display:"flex","align-items":"center",width:"30%",padding:"5px 10px","border-left":"1px solid #ccc"}},[r("span",{staticStyle:{"margin-right":"5px","font-size":"25px",cursor:"pointer"}},[e._v(e._s(t.mode))]),r("b-form-input",{staticStyle:{"min-width":"50px"},attrs:{size:"sm",type:"number"},model:{value:t.score,callback:function(r){e.$set(t,"score",r)},expression:"item.score"}}),r("span",{staticStyle:{"margin-left":"5px","font-size":"16px"}},[e._v(e._s(e.$t("Score")))])],1)])})),0)])],1)],1)],1)],1)],1)},s=[],n=r("c7eb"),o=r("1da1"),i=r("ade3"),c=(r("d81d"),r("a9e3"),r("11de")),l=r("8226"),u=r("4797"),p=r("2924"),d=r("3b99"),b=r("1947"),m=r("a15b7"),g=r("b28b"),f=r("6190"),_=r("f902"),h=r("205f"),x=r("5fda"),v=r("e98b"),w=r("aa59"),B=r("3135"),y=r("d247"),S=r("d6e4"),k=r("c3e6"),$=r("4a7a"),O=r.n($),j=(r("223c"),r("a18c"),r("e009")),C={components:Object(i["a"])(Object(i["a"])({vSelect:O.a,BForm:c["a"],BFormGroup:l["a"],BFormInput:u["a"],BFormRadioGroup:p["a"],BFormCheckboxGroup:d["a"],BButton:b["a"],BRow:m["a"],BCol:g["a"],BTab:f["a"],BTabs:_["a"],BCard:h["a"],BAlert:x["a"],BBadge:v["a"],BLink:w["a"],BListGroup:B["a"],BListGroupItem:y["a"],BCardText:S["a"]},"BFormGroup",l["a"]),"BFormCheckbox",k["a"]),directives:{Ripple:j["a"]},data:function(){return{size:0,group_lists:[]}},methods:{getGroups:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,a,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/integral_rule/");case 2:r=t.sent,200==r.status?(e.group_lists=r.data.data,e.group_lists.map((function(e){e.score=Number(e.score)}))):(a=r.errors.errors,s=e.alertMessage(a),e.messageShown(e.$t("error"),s,"error"));case 4:case"end":return t.stop()}}),t)})))()},editIntegralRule:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,a,s,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],e.group_lists.map((function(e){r.push({id:e.id,score:e.score})})),t.next=4,e.postRequest("/integral_rule/update_list/",{lists:r});case 4:a=t.sent,200==a.status?e.messageShown(e.$t("success"),e.$t("successfully_edit"),"success"):(s=a.errors.errors,o=e.alertMessage(s),e.messageShown(e.$t("error"),o,"error"));case 6:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}},created:function(){this.getGroups()}},G=C,R=r("2877"),F=Object(R["a"])(G,a,s,!1,null,null,null);t["default"]=F.exports}}]);