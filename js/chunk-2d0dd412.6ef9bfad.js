(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd412"],{8136:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-card",[r("p",[e._v(e._s(e.$t("opac.custom_link_management.OPAC_content_filtering")))]),r("b-row",[r("b-col",{attrs:{md:"2"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"primary",size:"sm"},on:{click:function(){e.comment_stop_term_list.map((function(t){e.$set(t,"select",!0)}))}}},[e._v(" "+e._s(e.$t("Select_All"))+" ")])],1),r("b-col",{attrs:{md:"2"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"primary",size:"sm"},on:{click:function(){e.comment_stop_term_list.map((function(t){e.$set(t,"select",!1)}))}}},[e._v(" "+e._s(e.$t("deselect_all"))+" ")])],1),r("b-col",{attrs:{md:"2"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"success",size:"sm"},on:{click:function(){e.$refs["my-modal"].show()}}},[e._v(" "+e._s(e.$t("add"))+" ")])],1),r("b-col",{attrs:{md:"2"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-1",attrs:{block:"",variant:"danger",size:"sm"},on:{click:e.batchDelete}},[e._v(" "+e._s(e.$t("batch_deletion"))+" ")])],1)],1),r("b-table",{attrs:{items:e.comment_stop_term_list,responsive:"",fields:e.tableColumns,"primary-key":"id","show-empty":"","empty-text":"No matching records found","sort-desc":e.isSortDirDesc},on:{"update:sortDesc":function(t){e.isSortDirDesc=t},"update:sort-desc":function(t){e.isSortDirDesc=t}},scopedSlots:e._u([{key:"cell(select)",fn:function(t){return[r("b-form-checkbox",{attrs:{value:!0},model:{value:t.item.select,callback:function(r){e.$set(t.item,"select",r)},expression:"data.item.select"}})]}},{key:"cell(delete)",fn:function(t){return[r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(r){return e.deleteMenus(t.item.id)}}},[e._v(" X ")])]}},{key:"cell(keyword)",fn:function(t){return[r("b-form-input",{attrs:{placeholder:""},model:{value:t.item.keyword,callback:function(r){e.$set(t.item,"keyword",r)},expression:"data.item.keyword"}})]}},{key:"cell(filter_count)",fn:function(t){return[r("span",[e._v(e._s(t.item.filter_count))])]}},{key:"cell(flag)",fn:function(t){return[r("b-form-checkbox",{staticClass:"custom-control-success",attrs:{checked:t.item.flag,name:"check-button",switch:""},model:{value:t.item.flag,callback:function(r){e.$set(t.item,"flag",r)},expression:"data.item.flag"}})]}},{key:"cell(save)",fn:function(t){return[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{block:"",variant:"success",size:"sm"},on:{click:function(r){return e.editMenus(t.item)}}},[e._v(" "+e._s(e.$t("save"))+" ")])]}}])})],1)],1)],1),r("b-modal",{ref:"my-modal",attrs:{id:"modal-xl","no-close-on-backdrop":"","hide-footer":"","hide-header-close":e.isTrue}},[r("b-col",{attrs:{md:"12"}},[r("div",{staticClass:"mb-2"},[r("p",[e._v(e._s(e.$t("opac.custom_link_management.Add_custom_connection")))])]),r("b-form-group",{attrs:{label:""}},[r("p",{staticStyle:{"margin-bottom":"10px"}},[e._v(" "+e._s(e.$t("opac.filter_book_review_content.Filter_words"))+" ")]),r("b-form-input",{attrs:{type:"text",size:"sm"},model:{value:e.formdata.filter_words,callback:function(t){e.$set(e.formdata,"filter_words",t)},expression:"formdata.filter_words"}})],1)],1),r("b-col",{staticClass:"text-right",attrs:{md:"12"}},[r("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(){e.$refs["my-modal"].hide(),e.formdata.title_en=null,e.formdata.title_zh=null,e.formdata.url=null}}},[e._v(e._s(e.$t("cancel")))]),r("b-button",{staticClass:"ml-2 px-5",attrs:{variant:"primary",size:"sm"},on:{click:e.addCommentStopTerm}},[e._v(e._s(e.$t("Submit")))])],1)],1)],1)},a=[],n=r("c7eb"),o=r("1da1"),c=(r("d3b7"),r("159b"),r("6aac")),i=r("1eba"),l=r("0bd8"),m=r("2a2e"),u=r("6cf6"),d=r("0809"),b=r("a247"),p=r("2768"),f=r("29a1"),_=r("8361"),h=r("11de"),v=r("205f"),w=r("d247"),k=r("e8a3"),g=r("d6e4"),y=r("8226"),$=r("4797"),x=r("a15b7"),S=r("b28b"),B=r("1947"),C=r("c3e6"),O=r("e6c7"),T=r("4a7a"),j=r.n(T),D=r("e009"),z={components:{BModal:c["a"],vSelect:j.a,BTableSimple:i["a"],BThead:l["a"],BTr:m["a"],BTh:u["a"],BTd:d["a"],BTbody:b["a"],BTfoot:p["a"],BTable:f["a"],BFormSelect:_["a"],BForm:h["a"],BCard:v["a"],BListGroupItem:w["a"],BAvatar:k["a"],BCardText:g["a"],BFormGroup:y["a"],BFormInput:$["a"],BRow:x["a"],BCol:S["a"],BButton:B["a"],BFormCheckbox:C["a"]},data:function(){return{comment_stop_term_list:[],isTrue:!0,isSortDirDesc:!1,formdata:{filter_words:null},tableColumns:[{key:"select",label:this.$t("Select")},{key:"delete",label:this.$t("Delete")},{key:"keyword",label:this.$t("opac.filter_book_review_content.Filter_words"),sortable:!0},{key:"filter_count",label:this.$t("opac.filter_book_review_content.Filtered_times")},{key:"save",label:""}]}},directives:{"b-modal":O["a"],Ripple:D["a"]},created:function(){this.getCommentStopTerm()},methods:{getCommentStopTerm:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequest("/comment_stop_term/");case 2:r=t.sent,200==r.status?(e.comment_stop_term_list=r.data.data,e.comment_stop_term_list.forEach((function(e){"Y"===e.flag?e.flag=!0:e.flag=!1}))):(s=r.errors.errors,a=e.alertMessage(s),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},addCommentStopTerm:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,s,a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.postRequest("/comment_stop_term/",{keyword:e.formdata.filter_words});case 2:r=t.sent,200==r.status?(e.$refs["my-modal"].hide(),e.getCommentStopTerm(),e.messageShown(e.$t("success"),e.$t("Successfully_added"),"success")):(s=r.errors.errors,a=e.alertMessage(s),e.messageShown(e.$t("error"),a,"error"));case 4:case"end":return t.stop()}}),t)})))()},editMenus:function(e){var t=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var s,a,o;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.putRequest("/comment_stop_term/".concat(e.id,"/"),{keyword:e.keyword});case 2:s=r.sent,200==s.status?(t.getCommentStopTerm(),t.messageShown(t.$t("success"),t.$t("successfully_edit"),"success")):(a=s.errors.errors,o=t.alertMessage(a),t.messageShown(t.$t("error"),o,"error"));case 4:case"end":return r.stop()}}),r)})))()},deleteMenus:function(e){var t=this;return Object(o["a"])(Object(n["a"])().mark((function r(){return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$swal({title:"",text:"".concat(t.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("confirm"),cancelButtonText:t.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var r=Object(o["a"])(Object(n["a"])().mark((function r(s){var a,o,c;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!s.value){r.next=5;break}return r.next=3,t.postRequest("/comment_stop_term/delete_batch/",{ids:[e]});case 3:a=r.sent,200==a.status?(t.getCommentStopTerm(),t.messageShown(t.$t("success"),t.$t("successfully_delete"),"success")):(o=a.errors.errors,c=t.alertMessage(o),t.messageShown(t.$t("error"),c,"error"));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},batchDelete:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$swal({title:"",text:"".concat(e.$t("Do_you_want_to_delete_this_item")),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var t=Object(o["a"])(Object(n["a"])().mark((function t(r){var s,a,o,c;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.value){t.next=7;break}return s=[],e.comment_stop_term_list.forEach((function(e){e.select&&s.push(e.id)})),t.next=5,e.deleteRequest("/comment_stop_term/delete_batch/",{ids:s});case 5:a=t.sent,200==a.status?(e.getCommentStopTerm(),e.messageShown(e.$t("success"),e.$t("successfully_delete"),"success")):(o=a.errors.errors,c=e.alertMessage(o),e.messageShown(e.$t("error"),c,"error"));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},messageShown:function(e,t,r){this.$swal({title:e,html:t,icon:r,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},M=z,F=r("2877"),R=Object(F["a"])(M,s,a,!1,null,null,null);t["default"]=R.exports}}]);